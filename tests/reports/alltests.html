<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:74,&quot;tests&quot;:145,&quot;passes&quot;:145,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2019-03-24T00:03:46.117Z&quot;,&quot;end&quot;:&quot;2019-03-24T00:06:09.848Z&quot;,&quot;duration&quot;:143731,&quot;testsRegistered&quot;:145,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;17926c5c-2272-4291-9a4e-bb0a9493228d&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6ed84e7b-aa2b-4c28-80f5-4ae8cd421b4b&quot;,&quot;title&quot;:&quot;CONTAINERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1820,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ad419783-d243-4afc-b378-a330527d5d11&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerSize.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerSize(containerSizes[0]).save();\n    var fourty = new ContainerSize(containerSizes[1]).save();\n    var twentydoubledoors = new ContainerSize(containerSizes[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6dbe32c0-b374-45df-ad1b-b6e072d254a7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerStats.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerStats(containerStats[0]).save();\n    var fourty = new ContainerStats(containerStats[1]).save();\n    var twentydoubledoors = new ContainerStats(containerStats[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;41deac0c-8449-449b-9f65-342d6c0e6d6d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Container.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new Container(containers[0]).save();\n    var fourty = new Container(containers[1]).save();\n    var twentydoubledoors = new Container(containers[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d4597fff-f984-4e41-b563-d70d3ec513ee&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;86840fe1-a857-4522-901d-086d34387104&quot;,&quot;title&quot;:&quot;GET /containers/sizes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of container sizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes should return an array of container sizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d4b72d2b-1fe3-4ce4-a210-e63e5f9c85da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d4b72d2b-1fe3-4ce4-a210-e63e5f9c85da&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:206,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1edf1ad0-2074-4f66-ad9a-000df2c2f844&quot;,&quot;title&quot;:&quot;POST /containers/sizes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should create a new container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:370,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainerSize)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;20C\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findOne({ size: \&quot;20C\&quot; })\n      .then(size =&gt; {\n        expect(size).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;28343756-ffb5-4980-97c4-f1338fd69a86&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container size with invalid input&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should not create a new container size with invalid input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) return done(err);\n    ContainerSize.findOne({ size: \&quot;20C\&quot; })\n      .then(size =&gt; {\n        expect(size).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;74ae2b08-d64a-440c-b94f-71a7f42acdc4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28343756-ffb5-4980-97c4-f1338fd69a86&quot;,&quot;74ae2b08-d64a-440c-b94f-71a7f42acdc4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:549,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b086eab8-9a30-4b3b-ab8b-f6a9277202a9&quot;,&quot;title&quot;:&quot;GET /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a specific container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should return a specific container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(containerSizes[0]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;137a512c-0f4b-467a-bf73-96c6a7483ca2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a specific container size with invalid :id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should not return a specific container size with invalid :id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/sizes/${containerSizes[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;34d4569d-1e82-4a60-ba83-08f7197df09e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;137a512c-0f4b-467a-bf73-96c6a7483ca2&quot;,&quot;34d4569d-1e82-4a60-ba83-08f7197df09e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:274,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e143c178-0a07-43ba-a370-4bdde632b34d&quot;,&quot;title&quot;:&quot;PATCH /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should patch a container size successfully&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should patch a container size successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:363,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;10\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;10\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        expect(containerSize.size).toBe(\&quot;10\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cd2024a4-44f9-4763-97c6-c8dcc9f74d1b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        expect(containerSize.size).toBe(\&quot;20\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d0920bc3-310f-4d7e-b5ea-501de80da2ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1db08e3e-b793-4287-b67c-acf093541f6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with size that exists&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with size that exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;40\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;That size already exists\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b5bb5654-12cd-49c9-b206-d061f308a537&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd2024a4-44f9-4763-97c6-c8dcc9f74d1b&quot;,&quot;d0920bc3-310f-4d7e-b5ea-501de80da2ba&quot;,&quot;1db08e3e-b793-4287-b67c-acf093541f6a&quot;,&quot;b5bb5654-12cd-49c9-b206-d061f308a537&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:809,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4e80e052-0ea3-4597-9838-cab8c81b7eb4&quot;,&quot;title&quot;:&quot;DELETE /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete the container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should delete the container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(containerSizes[0].size);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea6ec4a7-617a-430f-9399-6da96b03096f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete the container size with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should not delete the container size with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/sizes/${containerSizes[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a00afdeb-8e04-41d8-a36f-d0ffc56ebe25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea6ec4a7-617a-430f-9399-6da96b03096f&quot;,&quot;a00afdeb-8e04-41d8-a36f-d0ffc56ebe25&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:450,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c6ce9fdf-99a0-42e5-8f7c-1b0a56d6be50&quot;,&quot;title&quot;:&quot;GET /containers/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of containers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/ should return an array of containers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:362,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/containers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n    // Check to see if each container has a size and stats.\n    expect(res.body[0].size).not.toBe(null);\n    expect(res.body[1].size).not.toBe(null);\n    expect(res.body[2].size).not.toBe(null);\n    expect(res.body[0].stats).not.toBe(null);\n    expect(res.body[1].stats).not.toBe(null);\n    expect(res.body[2].stats).not.toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b7dbfda6-77f8-425f-9910-8786bba884ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b7dbfda6-77f8-425f-9910-8786bba884ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:362,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8583e9f0-707c-49fc-abf9-fad30511c51c&quot;,&quot;title&quot;:&quot;POST /containers/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should create a new container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:360,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainer)\n  // .expect(200)\n  .expect(res =&gt; {\n    // Check to see if each container has a size and stats.\n    expect(res.body.size).not.toBe(null);\n    expect(res.body.stats).not.toBe(null);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n      .then(container =&gt; {\n        expect(container).toBeTruthy();\n        expect(container.size).not.toBe(null);\n        expect(container.stats).not.toBe(null);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;af5a35db-a0e6-4e62-a680-639db45aceb1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container with validation errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should not create a new container with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newContainer.rentalResale = \&quot;\&quot;;\nnewContainer.hasOnBoxNumbers = 123;\nnewContainer.hasShelves = 123;\nnewContainer.hasSigns = 123;\nnewContainer.isPainted = 123;\nrequest(app)\n  .post(\&quot;/api/containers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainer)\n  // .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.container).toBeFalsy();\n    // Check to see if each container has a size and stats.\n    expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n    expect(res.body.hasShelves).toBe(\n      \&quot;You must select whether the container has shelves or not\&quot;\n    );\n    expect(res.body.isPainted).toBe(\n      \&quot;You must select whether the container is painted or not\&quot;\n    );\n    expect(res.body.hasOnBoxNumbers).toBe(\n      \&quot;You must select whether the container has GBR numbers or not\&quot;\n    );\n    expect(res.body.hasSigns).toBe(\n      \&quot;You must select whether the container has signs or not\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n      .then(container =&gt; {\n        expect(container).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e2df62c3-9fe4-4be7-b2dc-baf431388ed1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;af5a35db-a0e6-4e62-a680-639db45aceb1&quot;,&quot;e2df62c3-9fe4-4be7-b2dc-baf431388ed1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:538,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;72e3b8b6-3a88-479e-ad57-273a3dfb7c5d&quot;,&quot;title&quot;:&quot;GET /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/${containers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.serialNumber).toBe(containers[0].serialNumber);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bddfdb7f-3c23-4c69-b8ba-1742793d59fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a container with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should not return a container with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/${containers[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9fd154c8-93fd-4c5b-89ef-775e66dadc2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bddfdb7f-3c23-4c69-b8ba-1742793d59fd&quot;,&quot;9fd154c8-93fd-4c5b-89ef-775e66dadc2c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:359,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;102a4c08-1da8-4ea4-87da-b7418ec8da49&quot;,&quot;title&quot;:&quot;PATCH /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:537,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: containers[1].size.toHexString(),\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  rentalResale: \&quot;Rental\&quot;,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n  currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n  currentlyRented: false\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.hasOnBoxNumbers).toBe(patchData.hasOnBoxNumbers);\n    expect(res.body.hasSigns).toBe(patchData.hasSigns);\n    expect(res.body.hasShelves).toBe(patchData.hasShelves);\n    expect(res.body.isPainted).toBe(patchData.isPainted);\n    expect(res.body.isFlagged).toBe(patchData.isFlagged);\n    expect(res.body.flagReason).toBe(patchData.flagReason);\n    expect(res.body.stats.currentAddress).toBe(patchData.currentAddress);\n    expect(res.body.stats.currentRentee).toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;32133398-ae8a-45d7-b8ad-4f9a970238d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: \&quot;\&quot;,\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  rentalResale: \&quot;\&quot;,\n  currentAddress: \&quot;\&quot;,\n  currentlyRented: \&quot;\&quot;,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBeFalsy();\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n    expect(res.body.currentlyRented).toBe(\n      \&quot;You must select whether the container is currently rented\&quot;\n    );\n    expect(res.body.currentAddress).toBe(\&quot;Current address is required\&quot;);\n    expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0968765b-4ead-4371-86c2-4270f49d1dcf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: containers[1].size.toHexString(),\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  rentalResale: \&quot;Rental\&quot;,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n  currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n  currentlyRented: false\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3e0fa27b-f760-46ed-9f48-fda877c68046&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;32133398-ae8a-45d7-b8ad-4f9a970238d4&quot;,&quot;0968765b-4ead-4371-86c2-4270f49d1dcf&quot;,&quot;3e0fa27b-f760-46ed-9f48-fda877c68046&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:721,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b045c993-a8d4-4ce7-96dc-7c1dea0d565c&quot;,&quot;title&quot;:&quot;DELETE /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should delete a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:360,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(containers[1]._id.toHexString());\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Container.findById(containers[1]._id)\n      .then(container =&gt; {\n        expect(container).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;57a75bbc-5cff-421f-8849-5e14e1ef3359&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a container with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should not delete a container with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/${containers[1]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;54f212bb-928e-448f-9365-5f65b5f11a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;57a75bbc-5cff-421f-8849-5e14e1ef3359&quot;,&quot;54f212bb-928e-448f-9365-5f65b5f11a03&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:452,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bedaab44-6472-4263-a004-bece227cc9a4&quot;,&quot;title&quot;:&quot;CUSTOMERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:576,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;83043f86-6bde-4fe0-b1d6-5d100366c3c9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.deleteMany({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;65da1335-3e49-4047-a19a-0804636165fa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6e43a149-4fd3-4959-a293-1941ded6ca51&quot;,&quot;title&quot;:&quot;GET /customers&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of customers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers should return an array of customers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(customers.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e76b5bde-834d-482c-a5c1-079256f7d11f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e76b5bde-834d-482c-a5c1-079256f7d11f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:181,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9e70ffdc-ead1-4383-b30c-36f060f40e90&quot;,&quot;title&quot;:&quot;POST /customers&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new customer and update last viewed&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should create a new customer and update last viewed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:455,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newCustomer)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(newCustomer.name);\n    expect(res.body.lastViewed).not.toBe(null);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findOne({ name: newCustomer.name })\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;dc2e862a-1769-47fc-92d3-54b769d5bef3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should not create a new customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(badCustomer)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n    expect(res.body.city).toBe(\&quot;City is required\&quot;);\n    expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n    expect(res.body.state).toBe(\&quot;State is required\&quot;);\n    expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n    expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n    expect(res.body.isFlagged).toBe(\n      \&quot;You must select whether the customer has a flag or not\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findOne({ name: newCustomer.name })\n      .then(customer =&gt; {\n        expect(customer).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5675b0bc-2ea6-4611-8831-a7a69ce00ff7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dc2e862a-1769-47fc-92d3-54b769d5bef3&quot;,&quot;5675b0bc-2ea6-4611-8831-a7a69ce00ff7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:634,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;76086d96-5183-42bf-848b-2a43e7adb76a&quot;,&quot;title&quot;:&quot;GET /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a customer with updated last viewed property&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should return a customer with updated last viewed property&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/customers/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(customers[0].name);\n    expect(res.body.lastViewed).not.toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a62c1d36-41f5-473d-be0a-22a3afaca289&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should not return user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;11ac76b0-b4f3-412a-b1bc-25ab11d08a6d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a62c1d36-41f5-473d-be0a-22a3afaca289&quot;,&quot;11ac76b0-b4f3-412a-b1bc-25ab11d08a6d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:271,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6a9604eb-efae-4d4e-92a4-f071c188dd89&quot;,&quot;title&quot;:&quot;PATCH /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer &amp; return the customer&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should update a customer &amp; return the customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:261,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    name: \&quot;Jacob Belmont\&quot;,\n    address1: \&quot;1234 Loopy St\&quot;,\n    address2: \&quot;\&quot;,\n    city: \&quot;Hanford\&quot;,\n    zipcode: \&quot;93230\&quot;,\n    state: \&quot;CA\&quot;,\n    phone: \&quot;559-444-4444\&quot;,\n    ext: \&quot;123\&quot;,\n    fax: \&quot;559-444-4448\&quot;,\n    email: \&quot;another@fake.com\&quot;,\n    rdp: \&quot;\&quot;,\n    notes: \&quot;Customer requires quote everytime before orders\&quot;,\n    isFlagged: false,\n    flagReason: \&quot;\&quot;,\n    lastViewed: null\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Jacob Belmont\&quot;);\n    expect(res.body.isFlagged).toBe(false);\n    expect(res.body.flagReason).toBe(\&quot;\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[1]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        expect(customer.name).toBe(\&quot;Jacob Belmont\&quot;);\n        expect(customer.isFlagged).toBe(false);\n        expect(customer.flagReason).toBe(\&quot;\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;66e5d803-0252-4f6f-a1ea-59f26633d80b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update the customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update the customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[2]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    name: \&quot;\&quot;,\n    address1: \&quot;\&quot;,\n    address2: \&quot;\&quot;,\n    city: \&quot;\&quot;,\n    zipcode: \&quot;\&quot;,\n    state: \&quot;\&quot;,\n    phone: \&quot;\&quot;,\n    ext: \&quot;123\&quot;,\n    fax: \&quot;559-444-4448\&quot;,\n    email: \&quot;failemail.com\&quot;,\n    rdp: \&quot;\&quot;,\n    notes: \&quot;Customer requires quote everytime before orders\&quot;,\n    isFlagged: \&quot;messedup\&quot;,\n    flagReason: \&quot;Do not rent, patient hasn&#x27;t paid bill.\&quot;,\n    lastViewed: null\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n    expect(res.body.city).toBe(\&quot;City is required\&quot;);\n    expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n    expect(res.body.state).toBe(\&quot;State is required\&quot;);\n    expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n    expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n    expect(res.body.isFlagged).toBe(\n      \&quot;You must select whether the customer has a flag or not\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4c940ca9-bbe0-4722-a939-deb9905942cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({})\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;32de41dc-b180-41d5-aad6-751df39a12fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;66e5d803-0252-4f6f-a1ea-59f26633d80b&quot;,&quot;4c940ca9-bbe0-4722-a939-deb9905942cb&quot;,&quot;32de41dc-b180-41d5-aad6-751df39a12fb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:452,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4f51386c-59f4-47ae-90d8-0d4500fd1e1c&quot;,&quot;title&quot;:&quot;DELETE /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer return the customers data&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should delete a customer return the customers data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/customers/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(customers[0].name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[0]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d1e79867-8cea-4e3b-b5ce-4479c1506249&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should not delete customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[0]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f814b7dc-7de4-415e-867a-9e233c5c62eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1e79867-8cea-4e3b-b5ce-4479c1506249&quot;,&quot;f814b7dc-7de4-415e-867a-9e233c5c62eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:454,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;653213e7-bf46-4507-9a56-9a6516d871b6&quot;,&quot;title&quot;:&quot;DEFAULTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:568,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8fe96140-5d76-4956-bccf-daa76f6450b1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e41e486a-eaff-421e-863d-7220b9d1fe65&quot;,&quot;title&quot;:&quot;POST /register&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should register a new user&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should register a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:446,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(200)\n  .expect(res =&gt; {\n    // Check to see if body contains users information. If so,\n    // then the user&#x27;s information was passed back meaning it succeeded.\n    expect(res.body.username).toBe(newUser.username);\n    expect(res.body.password).not.toBe(newUser.password);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.password).not.toBe(newUser.password);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;69c025b0-6e1a-4345-8173-8ad99cd6bf05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Set invalid properties to newUser.\nnewUser.email = \&quot;amessedupemail\&quot;;\nnewUser.phone = \&quot;(559) 999-1111\&quot;;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.email).toBe(\&quot;Must enter a valid email.\&quot;);\n    expect(res.body.phone).toBe(\n      \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4d43ed1b-7916-479a-b6a7-84eeb15db967&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already taken username&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already taken username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = \&quot;jboy@test.com\&quot;;\nnewUser.phone = \&quot;5559992222\&quot;;\nnewUser.username = users[0].username;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.username).toBe(\&quot;Username already exists.\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ email: newUser.email })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b7f093eb-0d74-46fd-b523-1c56c4e27673&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already used email&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already used email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = users[0].email;\nnewUser.phone = \&quot;5559992222\&quot;;\nnewUser.username = \&quot;jboy\&quot;;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.email).toBe(\&quot;Email already exists.\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // If no errors during registration, check to see if newUser was\n    // stored in the database properly.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7e3e411b-76c3-42ba-8301-372d7a24c958&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;69c025b0-6e1a-4345-8173-8ad99cd6bf05&quot;,&quot;4d43ed1b-7916-479a-b6a7-84eeb15db967&quot;,&quot;b7f093eb-0d74-46fd-b523-1c56c4e27673&quot;,&quot;7e3e411b-76c3-42ba-8301-372d7a24c958&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:983,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6a28af35-ad23-4161-b613-8cce7a9930d4&quot;,&quot;title&quot;:&quot;POST /login&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should log a user in and return a token&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should log a user in and return a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:192,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpj\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBe(true);\n    expect(res.body.token).toBeTruthy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;33607ccc-29b2-49de-ab69-f49b8dcfed30&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect username and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect username and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;wrongusername\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4ec125dc-e85b-4ef9-9fff-d8ab5c6f6b02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect password and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect password and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpj\&quot;,\n    password: \&quot;theWrongPassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7bfb4d74-fb27-492c-9a18-3184a309b82f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in without being validated&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in without being validated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpsr\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n    expect(res.body.login).toBe(\&quot;Your account is not validated yet\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5570db83-71f7-4399-a46c-34751f97679b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;33607ccc-29b2-49de-ab69-f49b8dcfed30&quot;,&quot;4ec125dc-e85b-4ef9-9fff-d8ab5c6f6b02&quot;,&quot;7bfb4d74-fb27-492c-9a18-3184a309b82f&quot;,&quot;5570db83-71f7-4399-a46c-34751f97679b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:658,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b072b2a1-2960-4232-969d-7d8946ee3cb7&quot;,&quot;title&quot;:&quot;GET /profile&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return logged in users information&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS GET /profile should return logged in users information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cd57e55b-afd9-4d7b-bd53-16b911a3dd95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return user information if not logged in&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS GET /profile should not return user information if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/profile\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.username).toBeFalsy();\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;53ecc47b-2faf-4a72-8c22-7cc693b5273b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd57e55b-afd9-4d7b-bd53-16b911a3dd95&quot;,&quot;53ecc47b-2faf-4a72-8c22-7cc693b5273b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:97,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;35154245-7315-4c85-a4d8-d50545829dbf&quot;,&quot;title&quot;:&quot;PATCH /profile&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update the logged in users information&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should update the logged in users information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;somename\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;test@test.com\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: true\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.firstName).toBe(\&quot;somename\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;abfc2681-5c33-44f4-a471-2a7867621f10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user information if not logged in&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should not update user information if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;newname\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;test@test.com\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: true\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.firstName).toBeFalsy();\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d19d2427-b940-4f80-8634-99a972ea5e3c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user information with validation errors&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should not update user information with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;newname\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;bademail\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: \&quot;badvalidatedvalue\&quot;\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.email).toBe(\&quot;Must enter a valid email\&quot;);\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;737478fd-8a3c-48ff-af29-e6ad2473f1b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;abfc2681-5c33-44f4-a471-2a7867621f10&quot;,&quot;d19d2427-b940-4f80-8634-99a972ea5e3c&quot;,&quot;737478fd-8a3c-48ff-af29-e6ad2473f1b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;012b5e21-0a6a-4e1a-a20b-e0ce967636c3&quot;,&quot;title&quot;:&quot;EVENTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:569,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fcfd4568-9cb3-4ff4-b6e7-dd39f402eadb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateEvents&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before each\&quot; hook: populateEvents&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;CalendarEvent.deleteMany({})\n  .then(() =&gt; {\n    var eventOne = new CalendarEvent(events[0]).save();\n    var eventTwo = new CalendarEvent(events[1]).save();\n    var eventThree = new CalendarEvent(events[2]).save();\n    return Promise.all([eventOne, eventTwo, eventThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;deb9fc69-26c1-4418-8b3f-f16ac58cee6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a4ddd559-627a-49e1-a637-f70b456e18a6&quot;,&quot;title&quot;:&quot;GET /events&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of events&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events should return a list of events&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(events.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8949e00b-b13d-48f1-b761-330e4eaaa2c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8949e00b-b13d-48f1-b761-330e4eaaa2c5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:178,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;35ba8e28-2be1-41b7-b0af-8908f58df4ed&quot;,&quot;title&quot;:&quot;POST /events&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new event&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should create a new event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newEvent)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(newEvent.title);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findOne({ title: newEvent.title })\n      .then(event =&gt; {\n        expect(event).toBeTruthy();\n        expect(event.title).toBe(newEvent.title);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;de9879e8-7e15-4e90-b7b1-b3375be25a5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should not create a new event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(badEvent)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n    expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n    expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n    expect(res.body.end).toBe(\&quot;End is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findOne({ title: badEvent.title })\n      .then(event =&gt; {\n        expect(event).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;22882d22-bda1-461a-9b80-241b77fa7293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de9879e8-7e15-4e90-b7b1-b3375be25a5c&quot;,&quot;22882d22-bda1-461a-9b80-241b77fa7293&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:444,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;13fabe20-c452-4345-b24b-034b8dec606d&quot;,&quot;title&quot;:&quot;GET /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should return a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(events[0]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;afe214a0-772f-40f9-bddb-2511665d7342&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a single event with invalid id&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should not return a single event with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/events/${events[0]._id.toHexString()}sssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6fea25aa-0388-41f7-b810-b33af11aee71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;afe214a0-772f-40f9-bddb-2511665d7342&quot;,&quot;6fea25aa-0388-41f7-b810-b33af11aee71&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:356,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fd05c0ca-4150-4977-8a0b-ec1fd0f31f53&quot;,&quot;title&quot;:&quot;PATCH /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a single event with new information&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should update a single event with new information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    title: \&quot;New title\&quot;,\n    color: events[0].color,\n    start: events[0].start,\n    end: events[0].end,\n    order: events[0].order\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;New title\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[0]._id.toHexString())\n      .then(event =&gt; {\n        expect(event.title).toBe(\&quot;New title\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d2a26eff-cb92-47f6-b361-6195bd1068c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    title: \&quot;\&quot;,\n    color: \&quot;\&quot;,\n    start: \&quot;\&quot;,\n    end: \&quot;\&quot;,\n    order: null\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n    expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n    expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n    expect(res.body.end).toBe(\&quot;End is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[0]._id.toHexString())\n      .then(event =&gt; {\n        expect(event.title).toBe(events[0].title);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6dbfeefd-8b05-4c52-af3b-b8d0e89f9086&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}sssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(events[0])\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;12aafc50-5ddc-495e-b557-424bb0a55d2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d2a26eff-cb92-47f6-b361-6195bd1068c4&quot;,&quot;6dbfeefd-8b05-4c52-af3b-b8d0e89f9086&quot;,&quot;12aafc50-5ddc-495e-b557-424bb0a55d2b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:533,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;540ddb9a-d139-47cb-b7e0-7c488d14b889&quot;,&quot;title&quot;:&quot;DELETE /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should delete a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/events/${events[1]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(events[1]._id.toHexString());\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[1]._id.toHexString())\n      .then(event =&gt; {\n        expect(event).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a64b5046-6a96-4a99-8ed2-d1f8b9648132&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should not delete an event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/events/${events[1]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b581270b-0930-43cf-b54f-d06ce713a952&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a64b5046-6a96-4a99-8ed2-d1f8b9648132&quot;,&quot;b581270b-0930-43cf-b54f-d06ce713a952&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:354,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b5ca1b5c-2aae-41ed-a68d-4e9ef61d279f&quot;,&quot;title&quot;:&quot;ORDERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:572,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;733c815e-86f1-496c-b840-27583b28014b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.deleteMany({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;88dd767a-2a60-4238-963f-3afd7aea2f83&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.deleteMany({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0610046d-c4cd-45eb-8b08-9365c5b4d567&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.deleteMany({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a093a894-bc44-4f72-ae5a-08b030cdd883&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;RequestedProduct.deleteMany({})\n  .then(() =&gt; {\n    var requestedProductOne = new RequestedProduct(\n      requestedProducts[0]\n    ).save();\n    var requestedProductTwo = new RequestedProduct(\n      requestedProducts[1]\n    ).save();\n    return Promise.all([requestedProductOne, requestedProductTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f44d9ddc-741b-4751-9af2-67cfa784b0c0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchasePrices.deleteMany({})\n  .then(() =&gt; {\n    var ppOne = new PurchasePrices(purchasePrices[0]).save();\n    return Promise.all([ppOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1ddde475-01f9-4238-904e-584e07c2cb69&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerSize.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerSize(containerSizes[0]).save();\n    var fourty = new ContainerSize(containerSizes[1]).save();\n    var twentydoubledoors = new ContainerSize(containerSizes[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fefe0219-416c-4cc6-b4ea-3f817ea625c5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerStats.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerStats(containerStats[0]).save();\n    var fourty = new ContainerStats(containerStats[1]).save();\n    var twentydoubledoors = new ContainerStats(containerStats[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3cfb1477-840d-4eea-9045-4b632af65fe7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Container.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new Container(containers[0]).save();\n    var fourty = new Container(containers[1]).save();\n    var twentydoubledoors = new Container(containers[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5cc6a80a-a4e7-4942-af74-88c4c953e424&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateOrders&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateOrders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Order.deleteMany({})\n  .then(() =&gt; {\n    var orderOne = new Order(orders[0]).save();\n    return Promise.all([orderOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f9564927-f5c1-4436-b957-d1806594b498&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e2c7dde7-fd3d-4680-831a-413f5f8b4158&quot;,&quot;title&quot;:&quot;GET /orders&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all orders that are not hidden&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders should return all orders that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:360,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/orders\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(orders.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aca787c6-6d3a-4f8c-a09c-d766b6ea7238&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if the user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders should not return orders if the user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/orders\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5f435221-674d-4f62-966a-b04b504867d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aca787c6-6d3a-4f8c-a09c-d766b6ea7238&quot;,&quot;5f435221-674d-4f62-966a-b04b504867d1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:363,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b50ce898-4f2e-4a6a-ba38-162b1d1031b5&quot;,&quot;title&quot;:&quot;GET /orders/customer/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a customer&#x27;s orders&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should return all of a customer&#x27;s orders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:360,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.orders[0].customer._id).toBe(orders[0].customer);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e3059918-4e40-4f1f-a5b6-7c44caf02dd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should not return orders if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8ec4cba5-c411-4e0f-a81e-2157f1b8712f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should not return orders if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8932e045-5665-4201-aa3c-8f8a947ebe52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e3059918-4e40-4f1f-a5b6-7c44caf02dd8&quot;,&quot;8ec4cba5-c411-4e0f-a81e-2157f1b8712f&quot;,&quot;8932e045-5665-4201-aa3c-8f8a947ebe52&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:454,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a5ad3cde-c344-46a5-9c7b-c09bf38c5f64&quot;,&quot;title&quot;:&quot;GET /orders/user/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a user&#x27;s created orders&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should return all of a user&#x27;s created orders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:356,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body[0].createdBy._id).toBe(orders[0].createdBy);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e34d5a64-5d83-4a6a-8b1f-c6da5d4f32b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should not return orders if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5a4c1f1c-39a0-4fc0-bd72-d6995a11b91f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should not return orders if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8606404b-f77c-4c80-8342-4e4d508b1fc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e34d5a64-5d83-4a6a-8b1f-c6da5d4f32b6&quot;,&quot;5a4c1f1c-39a0-4fc0-bd72-d6995a11b91f&quot;,&quot;8606404b-f77c-4c80-8342-4e4d508b1fc6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:453,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;95efb517-bf1d-41d8-939c-522a8bfb935e&quot;,&quot;title&quot;:&quot;POST /orders&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an order and return it&quot;,&quot;fullTitle&quot;:&quot;ORDERS POST /orders should create an order and return it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:978,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/orders\&quot;)\n  .send(newOrder)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.job.name).toBe(\&quot;Walmart Construction\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Order.findOne({\n      job: {\n        name: \&quot;Walmart Construction\&quot;,\n        address: \&quot;1733 S. Casablanca St\&quot;,\n        city: \&quot;Visalia\&quot;,\n        zipcode: \&quot;93292\&quot;\n      }\n    })\n      .then(order =&gt; {\n        expect(order).toBeTruthy();\n        expect(order.job.name).toBe(\&quot;Walmart Construction\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8e73863b-0e73-47a9-b59d-8e3966dcdc7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create an order if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS POST /orders should not create an order if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/orders\&quot;)\n  .send(newOrder)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8c728aa5-bb57-402f-b948-8b85d8ac339a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8e73863b-0e73-47a9-b59d-8e3966dcdc7b&quot;,&quot;8c728aa5-bb57-402f-b948-8b85d8ac339a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:981,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fc2b33aa-36ed-43a1-bee5-4f746c11548b&quot;,&quot;title&quot;:&quot;GET /orders/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an order with the ID matching the provided ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should return an order with the ID matching the provided ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:366,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(orders[0]._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0e4631b9-1dbf-4a9c-bb8d-5191904cba13&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return an order if not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should not return an order if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;179b89c5-cac7-4dec-b060-75e45f3e410c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return an order if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should not return an order if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}ssssssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.order).toBe(\&quot;There was no order found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;10ef22a7-81bb-4a5a-bc0a-e2ea6bc837b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0e4631b9-1dbf-4a9c-bb8d-5191904cba13&quot;,&quot;179b89c5-cac7-4dec-b060-75e45f3e410c&quot;,&quot;10ef22a7-81bb-4a5a-bc0a-e2ea6bc837b3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:459,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;10449e58-81aa-4c31-9e18-fa2516332aa7&quot;,&quot;title&quot;:&quot;DELETE /orders/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an order&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should delete an order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(orders[0]._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4cf741e8-b6fd-42f5-9374-43ca7450af48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an order if not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should not delete an order if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b7967565-3ba6-4582-a2e5-06ec3d943266&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an order with an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should not delete an order with an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.order).toBe(\&quot;There was no order found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ef11fcfe-02e4-4d32-a64e-a2f35267dfda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4cf741e8-b6fd-42f5-9374-43ca7450af48&quot;,&quot;b7967565-3ba6-4582-a2e5-06ec3d943266&quot;,&quot;ef11fcfe-02e4-4d32-a64e-a2f35267dfda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:278,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9eaae94a-6029-409d-b89c-72a06c07ebb7&quot;,&quot;title&quot;:&quot;PRODUCT TYPES&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:565,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;62c80b6d-27ce-46d7-82e6-8531efd4c43a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ProductType.deleteMany({})\n  .then(() =&gt; {\n    var modification = new ProductType(productTypes[0]).save();\n    var container = new ProductType(productTypes[1]).save();\n    var rentalModification = new ProductType(productTypes[2]).save();\n    var delivery = new ProductType(productTypes[3]).save();\n    var pickup = new ProductType(productTypes[4]).save();\n    return Promise.all([\n      modification,\n      container,\n      rentalModification,\n      delivery,\n      pickup\n    ]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0e1ff138-949e-47ac-b379-348615634937&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a843e160-458b-4c7c-920b-77d4a83aa737&quot;,&quot;title&quot;:&quot;GET /products/types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of product types&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types should retrieve a array of product types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if product types array exists.\n    expect(res.body.length).toBe(5);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e6e92f1e-8072-45dc-8c4d-8e4595a0aa5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e6e92f1e-8072-45dc-8c4d-8e4595a0aa5d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:177,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7db9318e-0ac9-4807-a124-421b132589bb&quot;,&quot;title&quot;:&quot;POST /products/types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new product type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should create a new product type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:352,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProductType)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if new product type exists.\n    expect(res.body.type).toBe(newProductType.type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    ProductType.findOne({ type: newProductType.type })\n      .then(result =&gt; {\n        expect(result.type).toBe(newProductType.type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;977b8a73-3657-43c2-a475-9b4f7a83c12e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new product type with empty values&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should not create a new product type with empty values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product type exists.\n    expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    ProductType.findOne({ type: newProductType.type })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;95c8fa3d-76f2-41fb-b879-640e458aaf70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;977b8a73-3657-43c2-a475-9b4f7a83c12e&quot;,&quot;95c8fa3d-76f2-41fb-b879-640e458aaf70&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:528,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1e71874d-7abf-409b-8736-8a73be703a50&quot;,&quot;title&quot;:&quot;GET /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should retrieve a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;modification\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;449d7c58-7703-41d0-9c1e-13e1e4b74bf3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if type not found and error message&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should return a 400 error if type not found and error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;64123e2e-0ec7-41ac-84d1-9aa5d4c1adac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;449d7c58-7703-41d0-9c1e-13e1e4b74bf3&quot;,&quot;64123e2e-0ec7-41ac-84d1-9aa5d4c1adac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:265,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1440a373-a8a1-49f2-9592-0e9e2394e8c9&quot;,&quot;title&quot;:&quot;PATCH /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should update a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;new modification\&quot;\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;new modification\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c25ef9d1-dc0a-4adc-acc9-47cafb463cc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if no type is entered&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should return a 400 error if no type is entered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9b5a4e81-bc57-4ab8-a3d7-ac3c3ec2973a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a type that is in use&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a type that is in use&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;container\&quot;\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;That type is already being used\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4aade55a-19da-4dd6-93db-fefd6b310c4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a messed up ID&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a messed up ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;some new mod\&quot;\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\n      \&quot;No product found with that ID in the URL\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;42a02d6b-d939-4bd7-8551-6266ed2291b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c25ef9d1-dc0a-4adc-acc9-47cafb463cc6&quot;,&quot;9b5a4e81-bc57-4ab8-a3d7-ac3c3ec2973a&quot;,&quot;4aade55a-19da-4dd6-93db-fefd6b310c4f&quot;,&quot;42a02d6b-d939-4bd7-8551-6266ed2291b3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:641,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f541a707-4ecd-4636-8c2c-f6d57de97aa5&quot;,&quot;title&quot;:&quot;DELETE /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should remove a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(productTypes[0].type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ProductType.findById(productTypes[0]._id.toHexString())\n      .then(type =&gt; {\n        expect(type).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8ef43935-3d84-4fb9-a6b2-b214cd12f1bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 and an error message if id is invalid&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 400 and an error message if id is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${productTypes[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;03a53f92-45c3-4c89-b728-ab7e8bc7dfa5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 and an error message if id is not found&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 404 and an error message if id is not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${new ObjectID().toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(404)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\n      \&quot;Unable to find and remove the product type\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a0a705d1-f60b-4c60-83b9-91e581422065&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8ef43935-3d84-4fb9-a6b2-b214cd12f1bf&quot;,&quot;03a53f92-45c3-4c89-b728-ab7e8bc7dfa5&quot;,&quot;a0a705d1-f60b-4c60-83b9-91e581422065&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:535,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6546f72f-5192-4809-beaf-92cda42078ee&quot;,&quot;title&quot;:&quot;PRODUCTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.deleteMany({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c586913e-5781-44a8-9100-b0d04a057ffd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d7512b4b-9edd-40ff-bd45-ae7b15973e46&quot;,&quot;title&quot;:&quot;GET /products&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of products&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products should retrieve a array of products&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8564acd2-802f-4cd3-96b9-2a82fc46791c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8564acd2-802f-4cd3-96b9-2a82fc46791c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:266,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5c9eb7bf-78a1-40ac-a792-dc8196d0b464&quot;,&quot;title&quot;:&quot;POST /products&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should create a product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:356,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(newProduct.name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;45a405b9-4a2d-4824-b87f-ad778c0aa7ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should not create a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct.name = \&quot;\&quot;;\nnewProduct.shortName = \&quot;\&quot;;\nnewProduct.rental = \&quot;\&quot;;\nnewProduct.type = \&quot;\&quot;;\nrequest(app)\n  .post(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n    expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n    expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cb9fcd76-2254-454f-bb4c-ffa2b82a4be2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;45a405b9-4a2d-4824-b87f-ad778c0aa7ca&quot;,&quot;cb9fcd76-2254-454f-bb4c-ffa2b82a4be2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:530,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6ef26162-0298-440d-b5d1-e417394e7427&quot;,&quot;title&quot;:&quot;GET /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should retrieve a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(products[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;47a2b2d3-5e12-4a59-9d03-cbe778dd23f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fdb72653-f0e4-4c62-b6d1-a2f2ee0a4c4c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;47a2b2d3-5e12-4a59-9d03-cbe778dd23f1&quot;,&quot;fdb72653-f0e4-4c62-b6d1-a2f2ee0a4c4c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:357,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bcf7a962-9609-4633-adf9-ead8fb5f9165&quot;,&quot;title&quot;:&quot;PATCH /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should update a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;40&#x27; Pickup\&quot;,\n  shortName: \&quot;40PU\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: false,\n  type: `${productTypes[0]._id.toHexString()}`\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;40&#x27; Pickup\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3fdff066-c3a9-4e35-a0e9-3ccb484d8a42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;40&#x27; Pickup\&quot;,\n  shortName: \&quot;40PU\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: false,\n  type: `${productTypes[0]._id.toHexString()}`\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;No product found.\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;dbfc7da8-d9dc-44e7-8635-6fea9e6e3383&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should not update a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;\&quot;,\n  shortName: \&quot;\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: \&quot;\&quot;,\n  type: \&quot;\&quot;\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n    expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n    expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f7b35bb6-c4fe-4dbc-ad67-c05b30b8b9e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3fdff066-c3a9-4e35-a0e9-3ccb484d8a42&quot;,&quot;dbfc7da8-d9dc-44e7-8635-6fea9e6e3383&quot;,&quot;f7b35bb6-c4fe-4dbc-ad67-c05b30b8b9e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:443,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b8c0d46e-ea80-4dd2-a0ed-c04135a4b6e0&quot;,&quot;title&quot;:&quot;DELETE /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should delete a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(products[0].name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Product.findById(products[0]._id.toHexString())\n      .then(product =&gt; {\n        expect(product).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;125307fc-52bd-4e6f-9c04-75938cd9740f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:87,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e8d6247d-f641-45c9-97d7-dc3d1c5282e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;125307fc-52bd-4e6f-9c04-75938cd9740f&quot;,&quot;e8d6247d-f641-45c9-97d7-dc3d1c5282e0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:355,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;89ffe10f-9407-40fa-ab36-77b628f87406&quot;,&quot;title&quot;:&quot;QUOTES&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:564,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4ad6a918-220d-40aa-b624-8185b1a2794d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.deleteMany({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b34670ce-c73c-4c30-8986-2c1392ffa5a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.deleteMany({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e78d5dca-e5e8-40d5-866a-a026f69046ad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.deleteMany({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;70efc28c-dc43-49e9-b351-fa06ee45c804&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;RequestedProduct.deleteMany({})\n  .then(() =&gt; {\n    var requestedProductOne = new RequestedProduct(\n      requestedProducts[0]\n    ).save();\n    var requestedProductTwo = new RequestedProduct(\n      requestedProducts[1]\n    ).save();\n    return Promise.all([requestedProductOne, requestedProductTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cd656fb5-696c-4c51-8c13-df44730edefa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchasePrices.deleteMany({})\n  .then(() =&gt; {\n    var ppOne = new PurchasePrices(purchasePrices[0]).save();\n    return Promise.all([ppOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;123e0358-1d21-4296-9093-791be62142bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateQuotes&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateQuotes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Quote.deleteMany({})\n  .then(() =&gt; {\n    var quoteOne = new Quote(quotes[0]).save();\n    return Promise.all([quoteOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;46b4c1dc-c89b-4f6d-9e83-8581e43562b0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7ed0ca7c-5e24-4126-88b9-57a1941ce9f2&quot;,&quot;title&quot;:&quot;GET /quotes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes should return all quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/quotes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body[0].customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3ec0a8f0-a6d7-4325-9150-afeee5360df7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/quotes\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;47e10929-07f1-4fa7-a614-d5379815e207&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ec0a8f0-a6d7-4325-9150-afeee5360df7&quot;,&quot;47e10929-07f1-4fa7-a614-d5379815e207&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:272,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;38bd8983-77a0-4500-9335-46d5a321548f&quot;,&quot;title&quot;:&quot;POST /quotes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a quote and return it&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should create a quote and return it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:533,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(newQuote.customer);\n    expect(res.body.attention).toBe(newQuote.attention);\n    expect(res.body.isHidden).toBe(false);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4bf662bf-2c7e-4cfd-874d-3c682df1eeeb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should not create a quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;57136df3-67f1-40d9-b208-01894af948d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a quote with validation errors&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should not create a quote with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:263,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newQuote.purchaseType = \&quot;not a number\&quot;;\nrequest(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\n      \&quot;Purchase type selected does not exist\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c5a72619-1e5a-4738-9b1d-015f7e399a78&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4bf662bf-2c7e-4cfd-874d-3c682df1eeeb&quot;,&quot;57136df3-67f1-40d9-b208-01894af948d4&quot;,&quot;c5a72619-1e5a-4738-9b1d-015f7e399a78&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:799,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e05d81d3-38b5-4cab-a484-965d7c87d2e7&quot;,&quot;title&quot;:&quot;GET /quotes/customer/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a customer&#x27;s quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should return all of a customer&#x27;s quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:270,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(1);\n    expect(res.body[0].customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f38e637a-8fdc-48f2-8679-47659687da3e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;664b67ac-4ef8-4065-8e8a-a57b128aec24&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should not return quotes with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\n      \&quot;There were no quotes found for this customer\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1f5ae095-f140-4aea-8f4b-4a1d758ed1c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f38e637a-8fdc-48f2-8679-47659687da3e&quot;,&quot;664b67ac-4ef8-4065-8e8a-a57b128aec24&quot;,&quot;1f5ae095-f140-4aea-8f4b-4a1d758ed1c0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:365,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1e175d1d-b7b7-40d7-a664-f86517a1fc42&quot;,&quot;title&quot;:&quot;GET /quotes/user/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a user&#x27;s created quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should return all of a user&#x27;s created quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(1);\n    expect(res.body[0].createdBy.firstName).toBe(users[0].firstName);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d6e74511-8ff7-483a-a05d-9f48e9f5f6a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c01f8188-19c5-4c60-a938-8785f001cd84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes with invalid user ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should not return quotes with invalid user ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\n      \&quot;There were no quotes found for this user\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;16267973-754c-49f1-af1c-520bea927068&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d6e74511-8ff7-483a-a05d-9f48e9f5f6a5&quot;,&quot;c01f8188-19c5-4c60-a938-8785f001cd84&quot;,&quot;16267973-754c-49f1-af1c-520bea927068&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:366,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;249eba56-0446-45f0-b2de-d9ebad2bf1f8&quot;,&quot;title&quot;:&quot;GET /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should return a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:270,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer._id).toBe(quotes[0].customer.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;76a99626-803e-4444-89cf-5e5ef4db8792&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should not return quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;35555929-c612-43a3-aad4-f846ae44a1d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should not return quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;There was no quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;562c7bd6-5794-43f1-b4b2-e6048a47cdc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;76a99626-803e-4444-89cf-5e5ef4db8792&quot;,&quot;35555929-c612-43a3-aad4-f846ae44a1d0&quot;,&quot;562c7bd6-5794-43f1-b4b2-e6048a47cdc2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:362,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;69f20865-4f3b-46a4-aab6-37819d0482b4&quot;,&quot;title&quot;:&quot;PATCH /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should update a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:623,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(updateQuote._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;258892b6-f99b-42a8-a466-edafdf0955e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0c612425-c24e-4080-8dc8-4a753fa53b50&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}sss`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;No quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;856b857a-31e1-44d5-a882-c85f5ee73497&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote with validation errors&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;updateQuote.purchasePrices = \&quot;sd235523\&quot;;\nrequest(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchasePrices).toBe(\n      \&quot;There is an issue with the quote&#x27;s purchase prices\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;71a10319-84d1-4b0f-ae4a-7d73134cd7b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;258892b6-f99b-42a8-a466-edafdf0955e7&quot;,&quot;0c612425-c24e-4080-8dc8-4a753fa53b50&quot;,&quot;856b857a-31e1-44d5-a882-c85f5ee73497&quot;,&quot;71a10319-84d1-4b0f-ae4a-7d73134cd7b3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:985,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;60826480-50f1-45a0-984f-1c8b718a9bcb&quot;,&quot;title&quot;:&quot;DELETE /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should delete a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:273,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2c4454d8-cb03-4171-99c9-c32c1ea2438b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should not delete quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5aee6c6c-17ba-499d-bd3e-34e469fa0cd4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should not delete quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;There was no quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7127d9e5-b368-42b2-b4ca-876f57951b22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2c4454d8-cb03-4171-99c9-c32c1ea2438b&quot;,&quot;5aee6c6c-17ba-499d-bd3e-34e469fa0cd4&quot;,&quot;7127d9e5-b368-42b2-b4ca-876f57951b22&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:366,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ee1bd846-c72e-4b36-8b54-9cd042d252f2&quot;,&quot;title&quot;:&quot;SETTINGS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;SETTINGS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:573,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b1000fd9-44dd-4868-88c7-8bc919152a7b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;36986c5a-4516-4511-8286-a51e97475ef4&quot;,&quot;title&quot;:&quot;Purchase Types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.deleteMany({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1110eae4-4515-49df-9a9e-3b757856afc6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;747a109d-c5c7-44a7-9e2d-ff48146b04ba&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of purchase types&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/ should return an array of purchase types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(2);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6409df2e-6867-4dc4-aca5-49964581e62a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6409df2e-6867-4dc4-aca5-49964581e62a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:180,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6ddb54a5-1c06-4d41-a021-8f39e7e282b3&quot;,&quot;title&quot;:&quot;POST /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should create a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Resale\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findOne({ type: \&quot;Resale\&quot; })\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0ee2d059-fe96-42c8-982b-232c574a7564&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should not create a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0a2a2d5e-f871-46bf-9306-fd005989d38b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ee2d059-fe96-42c8-982b-232c574a7564&quot;,&quot;0a2a2d5e-f871-46bf-9306-fd005989d38b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:354,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a4815fd4-f98b-49d3-8116-f28bcd8f34fd&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should return a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\n    `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}`\n  )\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(purchaseTypes[0].type);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cf697157-6ffb-4421-b9cb-6218467c6d76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should not return a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\n    `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}sss`\n  )\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\n      \&quot;There was no purchase type found\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;92c8db8a-0703-4b4c-a434-f30dd8cb1842&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf697157-6ffb-4421-b9cb-6218467c6d76&quot;,&quot;92c8db8a-0703-4b4c-a434-f30dd8cb1842&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cabbe515-d29a-4217-8018-21d5d2588a72&quot;,&quot;title&quot;:&quot;PATCH /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should update a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Resale\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;76c96d0f-733f-46f9-b9a8-d7bdd8804663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType.type).toBe(purchaseTypes[1].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;66ba37ed-555c-45b7-ad7e-da90a1b2ba15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType.type).toBe(purchaseTypes[1].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9602d299-5bdc-4540-8e10-d296e184984a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;76c96d0f-733f-46f9-b9a8-d7bdd8804663&quot;,&quot;66ba37ed-555c-45b7-ad7e-da90a1b2ba15&quot;,&quot;9602d299-5bdc-4540-8e10-d296e184984a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:624,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ddd95a6e-8408-4d1e-8f71-f0dd209226a0&quot;,&quot;title&quot;:&quot;DELETE /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should delete a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(purchaseTypes[0].type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[0]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;730805e0-4ac8-4411-a773-7d6be74812be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should not delete a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[0]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(purchaseTypes[0].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a05896eb-d78f-4291-8379-9b3c45e59690&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;730805e0-4ac8-4411-a773-7d6be74812be&quot;,&quot;a05896eb-d78f-4291-8379-9b3c45e59690&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:443,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3003858d-4440-4756-aed0-d54159140050&quot;,&quot;title&quot;:&quot;TODOS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;TODOS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:565,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c00eb1b9-2926-4b9e-93a4-05578ed22383&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateTodos&quot;,&quot;fullTitle&quot;:&quot;TODOS \&quot;before each\&quot; hook: populateTodos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:172,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Todo.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var todoOne = new Todo(todos[0]).save();\n    var todoTwo = new Todo(todos[1]).save();\n    var todoThree = new Todo(todos[2]).save();\n    return Promise.all([todoOne, todoTwo, todoThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b10fcd7e-bf5b-4a12-ad87-9b1689610107&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1d5daa56-3ab1-4f57-addf-3ccf4d87c9ae&quot;,&quot;title&quot;:&quot;GET /todos&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a users todos&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todos should return a users todos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(2);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7130c5df-a063-4f45-a923-9cd61b56d5cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a users todos if not logged in&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todos should not return a users todos if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/todos\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;af576b83-c858-4669-8b43-eeac348c972d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7130c5df-a063-4f45-a923-9cd61b56d5cb&quot;,&quot;af576b83-c858-4669-8b43-eeac348c972d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:184,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e6371511-5e82-40a0-aa8d-70366ed7f691&quot;,&quot;title&quot;:&quot;POST /todos&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new todo for the logged in user&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should create a new todo for the logged in user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;The newest todo\&quot;,\n    creator: users[1]._id\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;The newest todo\&quot;);\n    expect(res.body.creator).toBe(users[1]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ab56b2ab-5775-4756-9131-7759b758c054&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new todo for a user who is not logged in&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should not create a new todo for a user who is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .send({\n    desc: \&quot;The newest todo\&quot;,\n    creator: users[1]._id\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;44eee1bb-0998-41bb-a579-242504a4776e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new todo with missing description&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should not create a new todo with missing description&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;\&quot;,\n    creator: users[1]._id\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;Todo description is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a04c7a3e-8663-4e3b-bce6-61a2a0e4830a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ab56b2ab-5775-4756-9131-7759b758c054&quot;,&quot;44eee1bb-0998-41bb-a579-242504a4776e&quot;,&quot;a04c7a3e-8663-4e3b-bce6-61a2a0e4830a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:275,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a8b5875d-ae96-4fe9-8193-062f49a4ced5&quot;,&quot;title&quot;:&quot;GET /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todo/:id should return the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(todos[0].desc);\n    expect(res.body.creator._id).toBe(users[1]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7d9ec08f-aa92-4fb3-b4b2-a067ce836757&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todo/:id should not return another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBeFalsy();\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9ca92963-22eb-48d1-8111-2e7653dbb202&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d9ec08f-aa92-4fb3-b4b2-a067ce836757&quot;,&quot;9ca92963-22eb-48d1-8111-2e7653dbb202&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:532,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5269819c-e8df-4d85-84cc-7b020c6d093d&quot;,&quot;title&quot;:&quot;PATCH /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should update the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;a new description\&quot;,\n    creator: users[1]._id\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;a new description\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;515e6855-7059-44b5-9eb2-d06839d85422&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should not update another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    desc: \&quot;a new description\&quot;,\n    creator: users[1]._id\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBeFalsy();\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;684ff301-3564-4729-b383-181ba597c38e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user&#x27;s todo with validation errors&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should not update user&#x27;s todo with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;\&quot;,\n    creator: users[1]._id\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;Todo description is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b8ee6423-b77e-4fd8-9d11-4c41fcf134a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;515e6855-7059-44b5-9eb2-d06839d85422&quot;,&quot;684ff301-3564-4729-b383-181ba597c38e&quot;,&quot;b8ee6423-b77e-4fd8-9d11-4c41fcf134a7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:443,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d68a0d58-8567-4550-8af6-1a9646d2c235&quot;,&quot;title&quot;:&quot;DELETE /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS DELETE /todo/:id should delete the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(todos[0].desc);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;63bf390b-a232-47cf-881c-b3255ff691b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS DELETE /todo/:id should not delete another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea693b77-98bb-4618-96ac-95c23ae8d5e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;63bf390b-a232-47cf-881c-b3255ff691b0&quot;,&quot;ea693b77-98bb-4618-96ac-95c23ae8d5e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:350,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b5e8a598-9f58-4081-866a-d28e293f47ce&quot;,&quot;title&quot;:&quot;USERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;USERS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:567,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1e341f2b-22d7-4bbf-a8da-faef1ae1213d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6a65f8b8-3455-4628-aefc-1261d1ecbd16&quot;,&quot;title&quot;:&quot;GET /users&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of users&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users should return an array of users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(users.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e423cd06-7be0-4c66-a672-7980043f7972&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e423cd06-7be0-4c66-a672-7980043f7972&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:178,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;dbc3cc62-ff77-48d3-9727-7954c0267a6f&quot;,&quot;title&quot;:&quot;POST /users&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new user&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:634,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newUser)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.username).toBe(newUser.username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.firstName).toBe(newUser.firstName);\n        expect(user.password).not.toBe(newUser.password);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8c29de21-f3bd-44d5-9bc4-f0fa69416b4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should not create a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = \&quot;amessedupemail\&quot;;\nnewUser.phone = \&quot;(559) 999-1111\&quot;;\nnewUser.validated = \&quot;hello\&quot;;\nrequest(app)\n  .post(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.email).toBe(\&quot;Must enter a valid email\&quot;);\n    expect(res.body.phone).toBe(\n      \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n    );\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7aa332af-c785-40cf-a579-42537b03508c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c29de21-f3bd-44d5-9bc4-f0fa69416b4e&quot;,&quot;7aa332af-c785-40cf-a579-42537b03508c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:815,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1e20f878-be61-48a3-917e-6b8943838edc&quot;,&quot;title&quot;:&quot;GET /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/users/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;05914447-1107-450f-b485-a994d8097bb2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should not return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/users/${users[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n    expect(res.body.username).not.toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4cb2d3b6-6c10-4d3b-8c01-697d0fcb0af7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;05914447-1107-450f-b485-a994d8097bb2&quot;,&quot;4cb2d3b6-6c10-4d3b-8c01-697d0fcb0af7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:269,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ad0f148c-0382-400c-900a-335d2a3783cf&quot;,&quot;title&quot;:&quot;PATCH /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should update and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;users[1].validated = true;\nrequest(app)\n  .patch(`/api/users/${users[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(users[1])\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.username).toBe(users[1].username);\n    expect(res.body.validated).toBe(true);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user.validated).toBe(true);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1bd34a98-5527-4470-9d0d-d4e2d2dd51ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/users/${users[1]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(users[1])\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Invalid ID\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;370a927b-73fe-4b87-bf8f-b40d028100cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;Brian\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Sr\&quot;,\n  username: \&quot;blpsr\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;gbr@test.com\&quot;,\n  phone: \&quot;5559991224\&quot;,\n  title: \&quot;Manager\&quot;,\n  type: \&quot;Staff\&quot;,\n  validated: \&quot;someWrongValidation\&quot;\n};\nrequest(app)\n  .patch(`/api/users/${users[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user.validated).toBe(true);\n        expect(user.firstName).toBe(\&quot;Brian\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9aa01494-e812-4167-a6e8-c1f7976f7bf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1bd34a98-5527-4470-9d0d-d4e2d2dd51ed&quot;,&quot;370a927b-73fe-4b87-bf8f-b40d028100cd&quot;,&quot;9aa01494-e812-4167-a6e8-c1f7976f7bf7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:535,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1644fc6f-0f11-4650-baed-511679945861&quot;,&quot;title&quot;:&quot;DELETE /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should delete and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/users/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[0]._id.toHexString())\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0fd778aa-13ca-4568-90ca-72928c37cc1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should not delete and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/users/${users[1]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n    expect(res.body.username).not.toBe(users[1].username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.username).toBe(users[1].username);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0bfec14b-e988-4698-8231-83b465285fef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0fd778aa-13ca-4568-90ca-72928c37cc1a&quot;,&quot;0bfec14b-e988-4698-8231-83b465285fef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:447,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000},&quot;copyrightYear&quot;:2019}" data-config="{&quot;reportFilename&quot;:&quot;alltests&quot;,&quot;reportDir&quot;:&quot;tests/reports&quot;,&quot;reportTitle&quot;:&quot;gbr-mern&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;tests\\reports\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\reports\\alltests.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\reports\\alltests.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>