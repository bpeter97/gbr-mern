<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:74,&quot;tests&quot;:145,&quot;passes&quot;:143,&quot;pending&quot;:0,&quot;failures&quot;:2,&quot;start&quot;:&quot;2019-03-23T23:20:48.480Z&quot;,&quot;end&quot;:&quot;2019-03-23T23:23:13.115Z&quot;,&quot;duration&quot;:144635,&quot;testsRegistered&quot;:145,&quot;passPercent&quot;:98.6,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;7c659851-10e1-41b0-8534-3e74822b42a9&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d775020a-ee00-4a53-b2b4-9eb5f069c7d7&quot;,&quot;title&quot;:&quot;CONTAINERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1882,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9f8b84f3-5d96-435d-ba46-5ee567569b45&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerSize.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerSize(containerSizes[0]).save();\n    var fourty = new ContainerSize(containerSizes[1]).save();\n    var twentydoubledoors = new ContainerSize(containerSizes[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8e4bd8b3-9f17-49b5-8ad2-e3abe14bec6e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerStats.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerStats(containerStats[0]).save();\n    var fourty = new ContainerStats(containerStats[1]).save();\n    var twentydoubledoors = new ContainerStats(containerStats[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0177851f-4a19-46dd-b54d-68ee23c137c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Container.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new Container(containers[0]).save();\n    var fourty = new Container(containers[1]).save();\n    var twentydoubledoors = new Container(containers[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4122e0da-ba54-4743-8aa7-ad9c6defea17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3edaf74c-ce8c-4f3e-a88e-0f91ed551006&quot;,&quot;title&quot;:&quot;GET /containers/sizes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of container sizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes should return an array of container sizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:210,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7abb42f3-8985-48af-ad0c-7cf75507d964&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7abb42f3-8985-48af-ad0c-7cf75507d964&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:210,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1ba351a7-e64e-4519-afb0-c70c094b2f94&quot;,&quot;title&quot;:&quot;POST /containers/sizes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should create a new container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:371,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainerSize)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;20C\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findOne({ size: \&quot;20C\&quot; })\n      .then(size =&gt; {\n        expect(size).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3bfe4dd4-bf0d-4bf2-8823-e1d15e0ac6c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container size with invalid input&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should not create a new container size with invalid input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) return done(err);\n    ContainerSize.findOne({ size: \&quot;20C\&quot; })\n      .then(size =&gt; {\n        expect(size).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;efcdd706-52ed-46d3-9925-85210aeb5ed7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3bfe4dd4-bf0d-4bf2-8823-e1d15e0ac6c3&quot;,&quot;efcdd706-52ed-46d3-9925-85210aeb5ed7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:548,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9fb553f2-1fdd-4321-ab10-ac4f84902822&quot;,&quot;title&quot;:&quot;GET /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a specific container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should return a specific container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(containerSizes[0]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;463c2c2e-1cbc-4b29-ac20-c4682160817b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a specific container size with invalid :id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should not return a specific container size with invalid :id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/sizes/${containerSizes[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;97c17cda-4553-4a74-860e-7683031c76f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;463c2c2e-1cbc-4b29-ac20-c4682160817b&quot;,&quot;97c17cda-4553-4a74-860e-7683031c76f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:272,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;27ebee1c-02f8-46da-a291-534a9711a884&quot;,&quot;title&quot;:&quot;PATCH /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should patch a container size successfully&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should patch a container size successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:367,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;10\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;10\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        expect(containerSize.size).toBe(\&quot;10\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d0f12b07-b58e-47d4-9340-249242afd6f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        expect(containerSize.size).toBe(\&quot;20\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ba8c43f3-7331-4cc5-9bff-87a3f03ba90f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c253a8b1-1831-4da8-b027-38b078764bc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with size that exists&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with size that exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;40\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;That size already exists\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;336d0470-1736-4423-871b-177f80a1025f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d0f12b07-b58e-47d4-9340-249242afd6f0&quot;,&quot;ba8c43f3-7331-4cc5-9bff-87a3f03ba90f&quot;,&quot;c253a8b1-1831-4da8-b027-38b078764bc1&quot;,&quot;336d0470-1736-4423-871b-177f80a1025f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:817,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cd3dda4e-392d-448a-b282-4ca7a2456406&quot;,&quot;title&quot;:&quot;DELETE /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete the container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should delete the container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:283,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(containerSizes[0].size);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c77aabce-bb2f-43db-9cfc-e0ebf5f9f4e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete the container size with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should not delete the container size with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/sizes/${containerSizes[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c6c31dc2-1154-4ad1-b25f-da39e213cc4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c77aabce-bb2f-43db-9cfc-e0ebf5f9f4e0&quot;,&quot;c6c31dc2-1154-4ad1-b25f-da39e213cc4a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:461,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a942ec44-5b27-4464-be3f-f073a7554031&quot;,&quot;title&quot;:&quot;GET /containers/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of containers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/ should return an array of containers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:370,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/containers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n    // Check to see if each container has a size and stats.\n    expect(res.body[0].size).not.toBe(null);\n    expect(res.body[1].size).not.toBe(null);\n    expect(res.body[2].size).not.toBe(null);\n    expect(res.body[0].stats).not.toBe(null);\n    expect(res.body[1].stats).not.toBe(null);\n    expect(res.body[2].stats).not.toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a4a278d1-2b9c-4b46-b3d1-54e5691bf269&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a4a278d1-2b9c-4b46-b3d1-54e5691bf269&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:370,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cf03b3dd-10f2-409c-b117-c2e3a45eb9c7&quot;,&quot;title&quot;:&quot;POST /containers/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should create a new container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:357,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainer)\n  // .expect(200)\n  .expect(res =&gt; {\n    // Check to see if each container has a size and stats.\n    expect(res.body.size).not.toBe(null);\n    expect(res.body.stats).not.toBe(null);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n      .then(container =&gt; {\n        expect(container).toBeTruthy();\n        expect(container.size).not.toBe(null);\n        expect(container.stats).not.toBe(null);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3cbbae53-c3c7-4f93-bc14-3d8658a1e3d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container with validation errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should not create a new container with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newContainer.rentalResale = \&quot;\&quot;;\nnewContainer.hasOnBoxNumbers = 123;\nnewContainer.hasShelves = 123;\nnewContainer.hasSigns = 123;\nnewContainer.isPainted = 123;\nrequest(app)\n  .post(\&quot;/api/containers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainer)\n  // .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.container).toBeFalsy();\n    // Check to see if each container has a size and stats.\n    expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n    expect(res.body.hasShelves).toBe(\n      \&quot;You must select whether the container has shelves or not\&quot;\n    );\n    expect(res.body.isPainted).toBe(\n      \&quot;You must select whether the container is painted or not\&quot;\n    );\n    expect(res.body.hasOnBoxNumbers).toBe(\n      \&quot;You must select whether the container has GBR numbers or not\&quot;\n    );\n    expect(res.body.hasSigns).toBe(\n      \&quot;You must select whether the container has signs or not\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n      .then(container =&gt; {\n        expect(container).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cbd98c8b-2dd0-40a2-984a-67a665eee3eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3cbbae53-c3c7-4f93-bc14-3d8658a1e3d9&quot;,&quot;cbd98c8b-2dd0-40a2-984a-67a665eee3eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:535,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7d044ea2-dfae-49e3-b583-614e7dc72b3f&quot;,&quot;title&quot;:&quot;GET /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:262,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/${containers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.serialNumber).toBe(containers[0].serialNumber);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;36c8ba73-403f-4529-b253-84272aa9017c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a container with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should not return a container with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/${containers[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1617c9be-055e-4a09-9396-3466fbafb9ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;36c8ba73-403f-4529-b253-84272aa9017c&quot;,&quot;1617c9be-055e-4a09-9396-3466fbafb9ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:353,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;82630938-70af-488b-a3d3-8ad14e961c78&quot;,&quot;title&quot;:&quot;PATCH /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:526,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: containers[1].size.toHexString(),\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  rentalResale: \&quot;Rental\&quot;,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n  currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n  currentlyRented: false\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.hasOnBoxNumbers).toBe(patchData.hasOnBoxNumbers);\n    expect(res.body.hasSigns).toBe(patchData.hasSigns);\n    expect(res.body.hasShelves).toBe(patchData.hasShelves);\n    expect(res.body.isPainted).toBe(patchData.isPainted);\n    expect(res.body.isFlagged).toBe(patchData.isFlagged);\n    expect(res.body.flagReason).toBe(patchData.flagReason);\n    expect(res.body.stats.currentAddress).toBe(patchData.currentAddress);\n    expect(res.body.stats.currentRentee).toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cdd8a521-17a7-4abf-a122-5dd1feb63b18&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: \&quot;\&quot;,\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  rentalResale: \&quot;\&quot;,\n  currentAddress: \&quot;\&quot;,\n  currentlyRented: \&quot;\&quot;,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBeFalsy();\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n    expect(res.body.currentlyRented).toBe(\n      \&quot;You must select whether the container is currently rented\&quot;\n    );\n    expect(res.body.currentAddress).toBe(\&quot;Current address is required\&quot;);\n    expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;42d4940c-9cbe-4693-ab2b-0e71db08fb8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: containers[1].size.toHexString(),\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  rentalResale: \&quot;Rental\&quot;,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n  currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n  currentlyRented: false\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea760e48-0eb0-44fc-8f4c-9ebc3b19a975&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cdd8a521-17a7-4abf-a122-5dd1feb63b18&quot;,&quot;42d4940c-9cbe-4693-ab2b-0e71db08fb8c&quot;,&quot;ea760e48-0eb0-44fc-8f4c-9ebc3b19a975&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:714,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;86a83f0c-2f71-43c2-9689-807699a598b6&quot;,&quot;title&quot;:&quot;DELETE /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should delete a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:358,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(containers[1]._id.toHexString());\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Container.findById(containers[1]._id)\n      .then(container =&gt; {\n        expect(container).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;20c22a53-44b7-4dec-968c-8c794dc1660a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a container with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should not delete a container with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/${containers[1]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9cd2502a-72e0-4428-aedb-56a4d4d78086&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;20c22a53-44b7-4dec-968c-8c794dc1660a&quot;,&quot;9cd2502a-72e0-4428-aedb-56a4d4d78086&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:452,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;72a3b64a-5c44-4c3e-8821-148d0a990d75&quot;,&quot;title&quot;:&quot;CUSTOMERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:577,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b493a303-c7e7-4e34-b9c3-4e392a5953fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.deleteMany({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;96348684-f2b4-4f63-b2a6-ab293d1af5cd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e91c0829-e420-4f0e-bbe5-813769341166&quot;,&quot;title&quot;:&quot;GET /customers&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of customers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers should return an array of customers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(customers.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c9ba2c0c-cf6c-4426-9632-fa18614413e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9ba2c0c-cf6c-4426-9632-fa18614413e3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:182,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;16572767-1785-490d-9690-8e9f17bfd9d8&quot;,&quot;title&quot;:&quot;POST /customers&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new customer and update last viewed&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should create a new customer and update last viewed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:461,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newCustomer)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(newCustomer.name);\n    expect(res.body.lastViewed).not.toBe(null);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findOne({ name: newCustomer.name })\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0d66fbf3-c8d7-4c00-ae6f-6ac2a4e1151d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should not create a new customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(badCustomer)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n    expect(res.body.city).toBe(\&quot;City is required\&quot;);\n    expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n    expect(res.body.state).toBe(\&quot;State is required\&quot;);\n    expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n    expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n    expect(res.body.isFlagged).toBe(\n      \&quot;You must select whether the customer has a flag or not\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findOne({ name: newCustomer.name })\n      .then(customer =&gt; {\n        expect(customer).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e56d6193-68f4-4bbc-8e0a-39e7df65c097&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d66fbf3-c8d7-4c00-ae6f-6ac2a4e1151d&quot;,&quot;e56d6193-68f4-4bbc-8e0a-39e7df65c097&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:642,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;96a36b05-8154-4075-9298-50b29ef379a6&quot;,&quot;title&quot;:&quot;GET /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a customer with updated last viewed property&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should return a customer with updated last viewed property&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/customers/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(customers[0].name);\n    expect(res.body.lastViewed).not.toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;93586c8a-7977-42ab-9834-5dd05713fc5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should not return user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3d842834-be59-492d-8084-0a89dac624af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;93586c8a-7977-42ab-9834-5dd05713fc5c&quot;,&quot;3d842834-be59-492d-8084-0a89dac624af&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:273,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b77b11ec-17cb-4985-9f32-e958af810ef1&quot;,&quot;title&quot;:&quot;PATCH /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer &amp; return the customer&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should update a customer &amp; return the customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:272,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    name: \&quot;Jacob Belmont\&quot;,\n    address1: \&quot;1234 Loopy St\&quot;,\n    address2: \&quot;\&quot;,\n    city: \&quot;Hanford\&quot;,\n    zipcode: \&quot;93230\&quot;,\n    state: \&quot;CA\&quot;,\n    phone: \&quot;559-444-4444\&quot;,\n    ext: \&quot;123\&quot;,\n    fax: \&quot;559-444-4448\&quot;,\n    email: \&quot;another@fake.com\&quot;,\n    rdp: \&quot;\&quot;,\n    notes: \&quot;Customer requires quote everytime before orders\&quot;,\n    isFlagged: false,\n    flagReason: \&quot;\&quot;,\n    lastViewed: null\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Jacob Belmont\&quot;);\n    expect(res.body.isFlagged).toBe(false);\n    expect(res.body.flagReason).toBe(\&quot;\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[1]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        expect(customer.name).toBe(\&quot;Jacob Belmont\&quot;);\n        expect(customer.isFlagged).toBe(false);\n        expect(customer.flagReason).toBe(\&quot;\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2d256f91-bc94-4965-91c4-e5655b99ed09&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update the customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update the customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[2]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    name: \&quot;\&quot;,\n    address1: \&quot;\&quot;,\n    address2: \&quot;\&quot;,\n    city: \&quot;\&quot;,\n    zipcode: \&quot;\&quot;,\n    state: \&quot;\&quot;,\n    phone: \&quot;\&quot;,\n    ext: \&quot;123\&quot;,\n    fax: \&quot;559-444-4448\&quot;,\n    email: \&quot;failemail.com\&quot;,\n    rdp: \&quot;\&quot;,\n    notes: \&quot;Customer requires quote everytime before orders\&quot;,\n    isFlagged: \&quot;messedup\&quot;,\n    flagReason: \&quot;Do not rent, patient hasn&#x27;t paid bill.\&quot;,\n    lastViewed: null\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n    expect(res.body.city).toBe(\&quot;City is required\&quot;);\n    expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n    expect(res.body.state).toBe(\&quot;State is required\&quot;);\n    expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n    expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n    expect(res.body.isFlagged).toBe(\n      \&quot;You must select whether the customer has a flag or not\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;01d92152-f295-4601-a1b3-8dd1f73e0de4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({})\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c7e36cc2-e86e-4c33-8140-a04fbb4d8d07&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2d256f91-bc94-4965-91c4-e5655b99ed09&quot;,&quot;01d92152-f295-4601-a1b3-8dd1f73e0de4&quot;,&quot;c7e36cc2-e86e-4c33-8140-a04fbb4d8d07&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:458,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ebb8f945-9e06-4224-8705-053fc8fa9620&quot;,&quot;title&quot;:&quot;DELETE /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer return the customers data&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should delete a customer return the customers data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/customers/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(customers[0].name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[0]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3607422d-db1e-4c18-8f0d-9f208f8236b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should not delete customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[0]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d521ab05-3a76-455b-a0a7-e2c8bd51fbb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3607422d-db1e-4c18-8f0d-9f208f8236b6&quot;,&quot;d521ab05-3a76-455b-a0a7-e2c8bd51fbb4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:445,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;32b5dd45-e410-4351-a0a0-6ba5676ef844&quot;,&quot;title&quot;:&quot;DEFAULTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:580,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3cd6bdd4-09c2-45cd-ba5b-901971a747e9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5115dd69-921a-4138-8ee8-a162b94e2259&quot;,&quot;title&quot;:&quot;POST /register&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should register a new user&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should register a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:461,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(200)\n  .expect(res =&gt; {\n    // Check to see if body contains users information. If so,\n    // then the user&#x27;s information was passed back meaning it succeeded.\n    expect(res.body.username).toBe(newUser.username);\n    expect(res.body.password).not.toBe(newUser.password);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.password).not.toBe(newUser.password);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ad0d3ad8-ac46-47d0-933c-efdb4a112141&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Set invalid properties to newUser.\nnewUser.email = \&quot;amessedupemail\&quot;;\nnewUser.phone = \&quot;(559) 999-1111\&quot;;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.email).toBe(\&quot;Must enter a valid email.\&quot;);\n    expect(res.body.phone).toBe(\n      \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;09c757d8-6323-4987-8c5f-55f026f1f172&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already taken username&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already taken username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = \&quot;jboy@test.com\&quot;;\nnewUser.phone = \&quot;5559992222\&quot;;\nnewUser.username = users[0].username;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.username).toBe(\&quot;Username already exists.\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ email: newUser.email })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;233abbcd-9e86-470b-944c-bbf06d685d3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already used email&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already used email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = users[0].email;\nnewUser.phone = \&quot;5559992222\&quot;;\nnewUser.username = \&quot;jboy\&quot;;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.email).toBe(\&quot;Email already exists.\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // If no errors during registration, check to see if newUser was\n    // stored in the database properly.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;05c5689d-cba0-494a-8da0-0724def62d3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ad0d3ad8-ac46-47d0-933c-efdb4a112141&quot;,&quot;09c757d8-6323-4987-8c5f-55f026f1f172&quot;,&quot;233abbcd-9e86-470b-944c-bbf06d685d3b&quot;,&quot;05c5689d-cba0-494a-8da0-0724def62d3f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:996,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;443256a9-158c-4889-a6c9-57ce17b309e6&quot;,&quot;title&quot;:&quot;POST /login&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should log a user in and return a token&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should log a user in and return a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:197,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpj\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBe(true);\n    expect(res.body.token).toBeTruthy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2be6883f-274e-419a-9577-a3aa25978c6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect username and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect username and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;wrongusername\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a2bb107a-58bc-4006-8a34-e875f09d0188&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect password and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect password and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:188,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpj\&quot;,\n    password: \&quot;theWrongPassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c9a5c7c5-6eb6-434a-bc54-11d0f04967bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in without being validated&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in without being validated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpsr\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n    expect(res.body.login).toBe(\&quot;Your account is not validated yet\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7f311a68-113f-4b1e-b0c9-9ccd024bc847&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2be6883f-274e-419a-9577-a3aa25978c6c&quot;,&quot;a2bb107a-58bc-4006-8a34-e875f09d0188&quot;,&quot;c9a5c7c5-6eb6-434a-bc54-11d0f04967bc&quot;,&quot;7f311a68-113f-4b1e-b0c9-9ccd024bc847&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:666,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4cd52f4f-0f64-4a38-a3c0-cd8abdf072b7&quot;,&quot;title&quot;:&quot;GET /profile&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return logged in users information&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS GET /profile should return logged in users information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d2035948-67b8-4d28-b426-4e14cd565d33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return user information if not logged in&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS GET /profile should not return user information if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/profile\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.username).toBeFalsy();\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ba2842a0-b479-4507-9ca4-d740e2b753d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d2035948-67b8-4d28-b426-4e14cd565d33&quot;,&quot;ba2842a0-b479-4507-9ca4-d740e2b753d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:96,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;85bb98a9-6e30-4ca3-93dd-0e9c9cd6b701&quot;,&quot;title&quot;:&quot;PATCH /profile&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update the logged in users information&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should update the logged in users information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;somename\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;test@test.com\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: true\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.firstName).toBe(\&quot;somename\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c802bd77-7492-4f9f-8e36-1419f1ad97b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user information if not logged in&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should not update user information if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;newname\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;test@test.com\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: true\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.firstName).toBeFalsy();\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cc3cdf3c-83a8-442b-8c60-f660d090ae58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user information with validation errors&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should not update user information with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;newname\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;bademail\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: \&quot;badvalidatedvalue\&quot;\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.email).toBe(\&quot;Must enter a valid email\&quot;);\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ffd973fc-f3b5-4287-839d-c6ad6de1d5fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c802bd77-7492-4f9f-8e36-1419f1ad97b0&quot;,&quot;cc3cdf3c-83a8-442b-8c60-f660d090ae58&quot;,&quot;ffd973fc-f3b5-4287-839d-c6ad6de1d5fa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:276,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b67e5318-e7d1-490a-90f2-3a167f7ee97b&quot;,&quot;title&quot;:&quot;EVENTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:584,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d3e66dd0-04bd-4912-b5dc-268fc7cf75d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateEvents&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before each\&quot; hook: populateEvents&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;CalendarEvent.deleteMany({})\n  .then(() =&gt; {\n    var eventOne = new CalendarEvent(events[0]).save();\n    var eventTwo = new CalendarEvent(events[1]).save();\n    var eventThree = new CalendarEvent(events[2]).save();\n    return Promise.all([eventOne, eventTwo, eventThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c54507c7-be01-434d-9a78-cf469b7d9da3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7573a9a0-6c4e-4b0d-8953-2db75830caea&quot;,&quot;title&quot;:&quot;GET /events&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of events&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events should return a list of events&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(events.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d7b9d616-0bf5-41ed-b12d-1ac6fdc88b6e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d7b9d616-0bf5-41ed-b12d-1ac6fdc88b6e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:193,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;df649d31-9235-47f3-b758-480fb4f72957&quot;,&quot;title&quot;:&quot;POST /events&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new event&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should create a new event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newEvent)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(newEvent.title);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findOne({ title: newEvent.title })\n      .then(event =&gt; {\n        expect(event).toBeTruthy();\n        expect(event.title).toBe(newEvent.title);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;dd7008a4-1288-42d7-b373-1318b67f262a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should not create a new event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(badEvent)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n    expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n    expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n    expect(res.body.end).toBe(\&quot;End is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findOne({ title: badEvent.title })\n      .then(event =&gt; {\n        expect(event).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;58d0cedb-1106-44a5-931e-0baafa13b818&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dd7008a4-1288-42d7-b373-1318b67f262a&quot;,&quot;58d0cedb-1106-44a5-931e-0baafa13b818&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:445,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e5620849-360c-4d3d-ba60-5eb8efa83cdc&quot;,&quot;title&quot;:&quot;GET /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should return a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(events[0]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;37bd4605-825e-4c51-84d1-f0dd5ae1b0d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a single event with invalid id&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should not return a single event with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/events/${events[0]._id.toHexString()}sssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ffab7737-5d29-4b54-aa82-4f86fa4a5095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;37bd4605-825e-4c51-84d1-f0dd5ae1b0d3&quot;,&quot;ffab7737-5d29-4b54-aa82-4f86fa4a5095&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:358,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2c11864c-7ace-438d-ba2e-12beb61f0194&quot;,&quot;title&quot;:&quot;PATCH /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a single event with new information&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should update a single event with new information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    title: \&quot;New title\&quot;,\n    color: events[0].color,\n    start: events[0].start,\n    end: events[0].end,\n    order: events[0].order\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;New title\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[0]._id.toHexString())\n      .then(event =&gt; {\n        expect(event.title).toBe(\&quot;New title\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4c152ef6-736b-4016-a718-df6b22c78447&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    title: \&quot;\&quot;,\n    color: \&quot;\&quot;,\n    start: \&quot;\&quot;,\n    end: \&quot;\&quot;,\n    order: null\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n    expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n    expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n    expect(res.body.end).toBe(\&quot;End is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[0]._id.toHexString())\n      .then(event =&gt; {\n        expect(event.title).toBe(events[0].title);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7a8823c5-e382-4d1d-a11b-421a8b3559da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}sssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(events[0])\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5f1cde3d-94da-4e00-abe1-f91e63168799&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4c152ef6-736b-4016-a718-df6b22c78447&quot;,&quot;7a8823c5-e382-4d1d-a11b-421a8b3559da&quot;,&quot;5f1cde3d-94da-4e00-abe1-f91e63168799&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:536,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;11559d6d-aca8-4171-8e0a-557dc409292c&quot;,&quot;title&quot;:&quot;DELETE /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should delete a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/events/${events[1]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(events[1]._id.toHexString());\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[1]._id.toHexString())\n      .then(event =&gt; {\n        expect(event).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b66b1445-cf3b-409e-a231-51150dd9ed9e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should not delete an event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/events/${events[1]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;66292f37-5b5c-4224-8906-79b1fa51f4f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b66b1445-cf3b-409e-a231-51150dd9ed9e&quot;,&quot;66292f37-5b5c-4224-8906-79b1fa51f4f9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:359,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;77757c70-243d-4842-8451-da93fde0b584&quot;,&quot;title&quot;:&quot;ORDERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:573,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ce2328f0-56b1-42c7-8f9d-4404126ddaed&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.deleteMany({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f66775b6-768f-4bfb-b780-97f1a018fbdf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.deleteMany({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2013627b-4e17-422b-94ce-c12915d847de&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.deleteMany({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;773164c2-54fd-4065-88a9-4368a899bdaa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;RequestedProduct.deleteMany({})\n  .then(() =&gt; {\n    var requestedProductOne = new RequestedProduct(\n      requestedProducts[0]\n    ).save();\n    var requestedProductTwo = new RequestedProduct(\n      requestedProducts[1]\n    ).save();\n    return Promise.all([requestedProductOne, requestedProductTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;96a15b32-0503-48ab-b11e-61a740d063ec&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchasePrices.deleteMany({})\n  .then(() =&gt; {\n    var ppOne = new PurchasePrices(purchasePrices[0]).save();\n    return Promise.all([ppOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4d5bb299-65b4-44a0-96ac-018668f99b29&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerSize.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerSize(containerSizes[0]).save();\n    var fourty = new ContainerSize(containerSizes[1]).save();\n    var twentydoubledoors = new ContainerSize(containerSizes[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e080f778-1d44-4545-acb0-95f797685d2f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerStats.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new ContainerStats(containerStats[0]).save();\n    var fourty = new ContainerStats(containerStats[1]).save();\n    var twentydoubledoors = new ContainerStats(containerStats[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d263ebc8-4460-41d5-81ee-f1bff3bbacc1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Container.deleteMany({})\n  .then(() =&gt; {\n    var twenty = new Container(containers[0]).save();\n    var fourty = new Container(containers[1]).save();\n    var twentydoubledoors = new Container(containers[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3b3577ae-58c8-4dbf-b51a-cef06326f38e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateOrders&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateOrders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Order.deleteMany({})\n  .then(() =&gt; {\n    var orderOne = new Order(orders[0]).save();\n    return Promise.all([orderOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f7b56ffc-7cde-4ca4-b881-ceca8f1472e2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1a70f528-b1c1-43c3-88af-c9dab291317c&quot;,&quot;title&quot;:&quot;GET /orders&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all orders that are not hidden&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders should return all orders that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:354,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/orders\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(orders.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;81e90578-6a6e-4c6e-ae2b-2b4045070a53&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if the user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders should not return orders if the user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/orders\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7feb6701-4b26-4b30-8bfa-f399afd2cfd4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81e90578-6a6e-4c6e-ae2b-2b4045070a53&quot;,&quot;7feb6701-4b26-4b30-8bfa-f399afd2cfd4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:357,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;551a2ab5-c97e-490d-b343-50f3293880ce&quot;,&quot;title&quot;:&quot;GET /orders/customer/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a customer&#x27;s orders&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should return all of a customer&#x27;s orders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:362,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.orders[0].customer._id).toBe(orders[0].customer);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e92ce198-a7e5-420b-9150-7791b8a4512b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should not return orders if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0d652188-900d-4cfe-b1a2-159ef78d1b81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should not return orders if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b024c917-4a96-4a8e-b482-1c04f3d995d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e92ce198-a7e5-420b-9150-7791b8a4512b&quot;,&quot;0d652188-900d-4cfe-b1a2-159ef78d1b81&quot;,&quot;b024c917-4a96-4a8e-b482-1c04f3d995d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:453,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c4ed7ae8-fe6c-4b8e-bab6-a69a32365c4d&quot;,&quot;title&quot;:&quot;GET /orders/user/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a user&#x27;s created orders&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should return all of a user&#x27;s created orders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:357,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body[0].createdBy._id).toBe(orders[0].createdBy);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1cba3591-a6c8-4cd3-b915-432547fc9f6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should not return orders if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ca3ff125-d02f-4548-815e-510c093b7992&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should not return orders if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8fc47179-a723-4b89-941a-de50e15cacb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1cba3591-a6c8-4cd3-b915-432547fc9f6a&quot;,&quot;ca3ff125-d02f-4548-815e-510c093b7992&quot;,&quot;8fc47179-a723-4b89-941a-de50e15cacb4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:450,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;de2014f7-0b52-4858-a693-f609db271494&quot;,&quot;title&quot;:&quot;POST /orders&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an order and return it&quot;,&quot;fullTitle&quot;:&quot;ORDERS POST /orders should create an order and return it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:985,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/orders\&quot;)\n  .send(newOrder)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.job.name).toBe(\&quot;Walmart Construction\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Order.findOne({\n      job: {\n        name: \&quot;Walmart Construction\&quot;,\n        address: \&quot;1733 S. Casablanca St\&quot;,\n        city: \&quot;Visalia\&quot;,\n        zipcode: \&quot;93292\&quot;\n      }\n    })\n      .then(order =&gt; {\n        expect(order).toBeTruthy();\n        expect(order.job.name).toBe(\&quot;Walmart Construction\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;702127b4-bf6b-461b-8158-41df42d02ab8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create an order if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS POST /orders should not create an order if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/orders\&quot;)\n  .send(newOrder)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;23ce1b56-08b6-4976-a1de-364d1cc67c21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;702127b4-bf6b-461b-8158-41df42d02ab8&quot;,&quot;23ce1b56-08b6-4976-a1de-364d1cc67c21&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:988,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;896ae7b1-69da-4168-bc5f-f4ce2304d963&quot;,&quot;title&quot;:&quot;GET /orders/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an order with the ID matching the provided ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should return an order with the ID matching the provided ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:362,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(orders[0]._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f2b95a6d-98e0-40f4-9295-0898b49b4055&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return an order if not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should not return an order if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7b4514c9-6eb6-4b07-ba9b-41a2918dba6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return an order if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should not return an order if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}ssssssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.order).toBe(\&quot;There was no order found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7ca5dfc6-18a7-4aec-bfb1-25b55f068159&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f2b95a6d-98e0-40f4-9295-0898b49b4055&quot;,&quot;7b4514c9-6eb6-4b07-ba9b-41a2918dba6a&quot;,&quot;7ca5dfc6-18a7-4aec-bfb1-25b55f068159&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:456,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;aec29110-c742-40ce-b58f-246516957d3c&quot;,&quot;title&quot;:&quot;DELETE /orders/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an order&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should delete an order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(orders[0]._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;10f5a1df-2a78-4594-bde8-15e78821a75b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an order if not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should not delete an order if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ff73ae8f-4d47-4afe-b7f5-a6c5e8a09456&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an order with an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should not delete an order with an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.order).toBe(\&quot;There was no order found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;003d89e5-f7d1-4a9b-ac44-f116bbdef511&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10f5a1df-2a78-4594-bde8-15e78821a75b&quot;,&quot;ff73ae8f-4d47-4afe-b7f5-a6c5e8a09456&quot;,&quot;003d89e5-f7d1-4a9b-ac44-f116bbdef511&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:280,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;81f65d18-2441-44e7-b7cb-8f3d54ab08fd&quot;,&quot;title&quot;:&quot;PRODUCT TYPES&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:566,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3efdc626-b592-4777-b7fc-38771893beb0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ProductType.deleteMany({})\n  .then(() =&gt; {\n    var modification = new ProductType(productTypes[0]).save();\n    var container = new ProductType(productTypes[1]).save();\n    var rentalModification = new ProductType(productTypes[2]).save();\n    var delivery = new ProductType(productTypes[3]).save();\n    var pickup = new ProductType(productTypes[4]).save();\n    return Promise.all([\n      modification,\n      container,\n      rentalModification,\n      delivery,\n      pickup\n    ]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5ede5d7c-2bc0-4f37-bc7b-bba6a59e9745&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f23e924f-0a12-4697-80c9-92bda8d5c193&quot;,&quot;title&quot;:&quot;GET /products/types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of product types&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types should retrieve a array of product types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if product types array exists.\n    expect(res.body.length).toBe(5);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bbd69aa2-fd6a-4b48-8eb1-ddf19c0ef335&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bbd69aa2-fd6a-4b48-8eb1-ddf19c0ef335&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:182,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;db7608f3-560b-40fb-baf7-f005b74e6a46&quot;,&quot;title&quot;:&quot;POST /products/types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new product type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should create a new product type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:364,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProductType)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if new product type exists.\n    expect(res.body.type).toBe(newProductType.type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    ProductType.findOne({ type: newProductType.type })\n      .then(result =&gt; {\n        expect(result.type).toBe(newProductType.type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f1568266-be0f-48e3-b396-6ecc90e3cb6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new product type with empty values&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should not create a new product type with empty values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product type exists.\n    expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    ProductType.findOne({ type: newProductType.type })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;68bee8fe-bc0c-42e6-a6fb-0b8a9053905c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f1568266-be0f-48e3-b396-6ecc90e3cb6c&quot;,&quot;68bee8fe-bc0c-42e6-a6fb-0b8a9053905c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:539,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e6f6af03-b0c9-4dc8-b3d3-9aa3c9a76699&quot;,&quot;title&quot;:&quot;GET /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should retrieve a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;modification\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7aea5cff-9bcc-4b27-a0a5-c6129595ad35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if type not found and error message&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should return a 400 error if type not found and error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;45499bde-1029-4929-bf39-8489b648ebf6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7aea5cff-9bcc-4b27-a0a5-c6129595ad35&quot;,&quot;45499bde-1029-4929-bf39-8489b648ebf6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;56f0bbef-1523-4844-800d-af9b41a8360b&quot;,&quot;title&quot;:&quot;PATCH /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should update a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:453,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;new modification\&quot;\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;new modification\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a0976a2b-0cc9-4494-8d7d-1cf07f42f11f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if no type is entered&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should return a 400 error if no type is entered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0c3cb819-7525-4e18-82ad-83d867c02455&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a type that is in use&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a type that is in use&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;container\&quot;\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;That type is already being used\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8c3109f1-526b-461d-a3be-370a1916a9d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a messed up ID&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a messed up ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;some new mod\&quot;\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\n      \&quot;No product found with that ID in the URL\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9a4aa2af-826e-4ab8-a917-fe327224ec3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0976a2b-0cc9-4494-8d7d-1cf07f42f11f&quot;,&quot;0c3cb819-7525-4e18-82ad-83d867c02455&quot;,&quot;8c3109f1-526b-461d-a3be-370a1916a9d5&quot;,&quot;9a4aa2af-826e-4ab8-a917-fe327224ec3d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:814,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;518c339d-7c33-4640-beb7-67e05c14691d&quot;,&quot;title&quot;:&quot;DELETE /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should remove a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(productTypes[0].type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ProductType.findById(productTypes[0]._id.toHexString())\n      .then(type =&gt; {\n        expect(type).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1c2680d7-3df3-4ed5-a482-1f771660cb23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 and an error message if id is invalid&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 400 and an error message if id is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${productTypes[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7bbb2813-5034-4e8d-b308-a651d26bf3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 and an error message if id is not found&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 404 and an error message if id is not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${new ObjectID().toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(404)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\n      \&quot;Unable to find and remove the product type\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5efc8890-5e1e-4704-8779-9c67e9523cca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1c2680d7-3df3-4ed5-a482-1f771660cb23&quot;,&quot;7bbb2813-5034-4e8d-b308-a651d26bf3bc&quot;,&quot;5efc8890-5e1e-4704-8779-9c67e9523cca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:534,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;25637149-8647-46d5-9ba9-705f8101ce0b&quot;,&quot;title&quot;:&quot;PRODUCTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.deleteMany({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;965c9c18-6983-4185-8006-4483a28d4281&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dda0b2d2-1708-430a-906d-58227a4281b6&quot;,&quot;title&quot;:&quot;GET /products&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of products&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products should retrieve a array of products&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e863a3a0-79c9-4539-874c-4bc8f76d39ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e863a3a0-79c9-4539-874c-4bc8f76d39ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:267,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;82f07bf9-21af-48f4-af8c-ab7656bfc53e&quot;,&quot;title&quot;:&quot;POST /products&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should create a product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(newProduct.name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;eaf413b6-675f-4695-b254-d477e49c0b60&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should not create a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct.name = \&quot;\&quot;;\nnewProduct.shortName = \&quot;\&quot;;\nnewProduct.rental = \&quot;\&quot;;\nnewProduct.type = \&quot;\&quot;;\nrequest(app)\n  .post(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n    expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n    expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;daf1e305-9ba2-4d66-9841-3523bdf62e1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;daf1e305-9ba2-4d66-9841-3523bdf62e1a&quot;],&quot;failures&quot;:[&quot;eaf413b6-675f-4695-b254-d477e49c0b60&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:268,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b57d6d00-1e87-484d-96c4-1047211968c7&quot;,&quot;title&quot;:&quot;GET /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should retrieve a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(products[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5247f0d9-4a67-40c3-9656-fc659c580961&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;869e4f19-42e6-4dde-b39c-6739a6444a89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5247f0d9-4a67-40c3-9656-fc659c580961&quot;,&quot;869e4f19-42e6-4dde-b39c-6739a6444a89&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:360,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6e69bc0e-67b8-449b-9691-66ef597032da&quot;,&quot;title&quot;:&quot;PATCH /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should update a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;40&#x27; Pickup\&quot;,\n  shortName: \&quot;40PU\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: false,\n  type: `${productTypes[0]._id.toHexString()}`\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;40&#x27; Pickup\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a16fd39d-e58d-46bf-a0ba-28019625894d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;40&#x27; Pickup\&quot;,\n  shortName: \&quot;40PU\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: false,\n  type: `${productTypes[0]._id.toHexString()}`\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;No product found.\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;577c92e3-49cd-48b8-b1ae-7dfdd99e87d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should not update a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;\&quot;,\n  shortName: \&quot;\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: \&quot;\&quot;,\n  type: \&quot;\&quot;\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n    expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n    expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;269ca89c-7812-44cd-bad5-89a1fa7e5bf1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;577c92e3-49cd-48b8-b1ae-7dfdd99e87d2&quot;,&quot;269ca89c-7812-44cd-bad5-89a1fa7e5bf1&quot;],&quot;failures&quot;:[&quot;a16fd39d-e58d-46bf-a0ba-28019625894d&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:358,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;15e505b0-13a9-43e9-90ec-fd30a202a1c9&quot;,&quot;title&quot;:&quot;DELETE /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should delete a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(products[0].name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Product.findById(products[0]._id.toHexString())\n      .then(product =&gt; {\n        expect(product).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;120eb2f1-1c4b-4ab9-ad99-01f8a8ab89e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d69cf866-caca-4011-be85-7a47403961b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;120eb2f1-1c4b-4ab9-ad99-01f8a8ab89e9&quot;,&quot;d69cf866-caca-4011-be85-7a47403961b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:354,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c7a3be00-b2e7-43fc-896e-c094680e56a2&quot;,&quot;title&quot;:&quot;QUOTES&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:580,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d27dbc4a-c931-41fa-acde-3d2e5388dc8f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.deleteMany({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5c4a1018-a64f-4663-906b-f2a86f61642d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.deleteMany({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6f3e9d72-120f-4320-92c5-49e3753c9bb8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.deleteMany({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;689b0d23-db37-47b2-bf86-d87fbd2bedfe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;RequestedProduct.deleteMany({})\n  .then(() =&gt; {\n    var requestedProductOne = new RequestedProduct(\n      requestedProducts[0]\n    ).save();\n    var requestedProductTwo = new RequestedProduct(\n      requestedProducts[1]\n    ).save();\n    return Promise.all([requestedProductOne, requestedProductTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4a66fc37-9bd5-4c5f-adc0-69c1bdfa3db5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchasePrices.deleteMany({})\n  .then(() =&gt; {\n    var ppOne = new PurchasePrices(purchasePrices[0]).save();\n    return Promise.all([ppOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0b8ab50b-3a38-4834-b820-8553644b6f77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateQuotes&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateQuotes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Quote.deleteMany({})\n  .then(() =&gt; {\n    var quoteOne = new Quote(quotes[0]).save();\n    return Promise.all([quoteOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8726da45-fe1c-47ba-b4f9-2feb8289b549&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5075feae-7fab-4497-b7cf-c33439afa598&quot;,&quot;title&quot;:&quot;GET /quotes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes should return all quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:273,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/quotes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body[0].customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a4cef48c-6ef6-4422-8d31-967d8a304e4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/quotes\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7c907dc9-b5d6-400e-93c5-8649a5a5f822&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a4cef48c-6ef6-4422-8d31-967d8a304e4e&quot;,&quot;7c907dc9-b5d6-400e-93c5-8649a5a5f822&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:276,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;50bc40ca-d0e8-488a-9119-410df0c615c9&quot;,&quot;title&quot;:&quot;POST /quotes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a quote and return it&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should create a quote and return it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:537,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(newQuote.customer);\n    expect(res.body.attention).toBe(newQuote.attention);\n    expect(res.body.isHidden).toBe(false);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;43ca5b36-d61e-49c8-b485-0e6c54b6fd88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should not create a quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3a00df59-e829-4fc7-af86-c67fbac12bba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a quote with validation errors&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should not create a quote with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newQuote.purchaseType = \&quot;not a number\&quot;;\nrequest(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\n      \&quot;Purchase type selected does not exist\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9d74b4ae-1563-4c62-948f-ac85c50e1010&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;43ca5b36-d61e-49c8-b485-0e6c54b6fd88&quot;,&quot;3a00df59-e829-4fc7-af86-c67fbac12bba&quot;,&quot;9d74b4ae-1563-4c62-948f-ac85c50e1010&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:807,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1517f13e-57d3-47a9-9ac8-883dd72822d5&quot;,&quot;title&quot;:&quot;GET /quotes/customer/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a customer&#x27;s quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should return all of a customer&#x27;s quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(1);\n    expect(res.body[0].customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0ec1d6cc-75a0-4c19-8d59-cace9c388223&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7f81da69-d3c0-4d6a-b07f-67c9ab18e893&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should not return quotes with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\n      \&quot;There were no quotes found for this customer\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7788c5f3-6d26-4958-acd6-a272418737f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ec1d6cc-75a0-4c19-8d59-cace9c388223&quot;,&quot;7f81da69-d3c0-4d6a-b07f-67c9ab18e893&quot;,&quot;7788c5f3-6d26-4958-acd6-a272418737f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:369,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4e04f2bd-10f6-4e8b-b6da-2c6c3e4103eb&quot;,&quot;title&quot;:&quot;GET /quotes/user/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a user&#x27;s created quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should return all of a user&#x27;s created quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:272,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(1);\n    expect(res.body[0].createdBy.firstName).toBe(users[0].firstName);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bbccda0a-07c5-4e98-8092-e5b1608c033b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e7c015ad-cce1-4fcf-b900-5bb150621644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes with invalid user ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should not return quotes with invalid user ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\n      \&quot;There were no quotes found for this user\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9140516c-847b-4cad-a689-23c97a637ae2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bbccda0a-07c5-4e98-8092-e5b1608c033b&quot;,&quot;e7c015ad-cce1-4fcf-b900-5bb150621644&quot;,&quot;9140516c-847b-4cad-a689-23c97a637ae2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:366,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d203313f-5262-43cc-8c8e-70ec8cb529a7&quot;,&quot;title&quot;:&quot;GET /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should return a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer._id).toBe(quotes[0].customer.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bc9337d7-aa80-43e0-8897-1e4dbd0e2736&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should not return quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;20e36b5a-b264-41d9-a4b2-100345e08dd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should not return quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;There was no quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;abc624d0-8b36-40b3-8453-74e8ab590264&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc9337d7-aa80-43e0-8897-1e4dbd0e2736&quot;,&quot;20e36b5a-b264-41d9-a4b2-100345e08dd8&quot;,&quot;abc624d0-8b36-40b3-8453-74e8ab590264&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:364,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d4659f52-ea57-46ad-964c-f1c155742081&quot;,&quot;title&quot;:&quot;PATCH /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should update a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:627,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(updateQuote._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3846fdef-0111-4e6a-a427-0d4c15fcfa77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e3f25b47-e152-461a-8700-22732019c2ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}sss`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;No quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;80078929-c970-414f-b425-b162100277a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote with validation errors&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:272,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;updateQuote.purchasePrices = \&quot;sd235523\&quot;;\nrequest(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchasePrices).toBe(\n      \&quot;There is an issue with the quote&#x27;s purchase prices\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c9515c3e-4abc-4912-b56d-5f9445fb4254&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3846fdef-0111-4e6a-a427-0d4c15fcfa77&quot;,&quot;e3f25b47-e152-461a-8700-22732019c2ab&quot;,&quot;80078929-c970-414f-b425-b162100277a3&quot;,&quot;c9515c3e-4abc-4912-b56d-5f9445fb4254&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:994,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e570a478-fbfc-4dfa-a351-a5615509d1ce&quot;,&quot;title&quot;:&quot;DELETE /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should delete a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:271,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3d3c32f5-24b3-453a-afe5-8fadd3f2c0c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should not delete quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7e1ba2e6-64fc-4603-8bff-f9952791943e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should not delete quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;There was no quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e2bbeb85-7b39-4ee5-a0d5-d61279ed0f6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d3c32f5-24b3-453a-afe5-8fadd3f2c0c9&quot;,&quot;7e1ba2e6-64fc-4603-8bff-f9952791943e&quot;,&quot;e2bbeb85-7b39-4ee5-a0d5-d61279ed0f6f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:368,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2f46c718-5657-47fe-93bb-84f0aa3725fb&quot;,&quot;title&quot;:&quot;SETTINGS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;SETTINGS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:570,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;24e8b134-64e1-4a68-b3df-cb13d1a78045&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;064eafe9-3c8a-4989-8854-1e4bcc4478e9&quot;,&quot;title&quot;:&quot;Purchase Types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.deleteMany({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;922839f6-a371-4662-8278-8fd904a1b6f3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5e5658e6-ba84-4ba7-810a-5845e325159f&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of purchase types&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/ should return an array of purchase types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(2);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b146a01c-c5f4-4e23-bd7a-895d39927bac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b146a01c-c5f4-4e23-bd7a-895d39927bac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:183,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b3441d84-0519-433b-9072-00995ecf9c80&quot;,&quot;title&quot;:&quot;POST /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should create a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Resale\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findOne({ type: \&quot;Resale\&quot; })\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;64fcc54b-8ba9-4c85-8414-4c1ced9432a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should not create a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;683347ba-91a9-4101-a85d-701c5e07a0bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;64fcc54b-8ba9-4c85-8414-4c1ced9432a7&quot;,&quot;683347ba-91a9-4101-a85d-701c5e07a0bd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:358,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d149a87f-dc00-47c1-9407-5f39f230db5b&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should return a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\n    `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}`\n  )\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(purchaseTypes[0].type);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;43e85a5d-14cc-48a1-a2a7-c0e43b9174d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should not return a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\n    `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}sss`\n  )\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\n      \&quot;There was no purchase type found\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9f345dce-90e3-4e35-b03d-ee29116e13e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;43e85a5d-14cc-48a1-a2a7-c0e43b9174d8&quot;,&quot;9f345dce-90e3-4e35-b03d-ee29116e13e4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:278,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b9d40e6e-3814-46d1-b4b2-05f082a6ca97&quot;,&quot;title&quot;:&quot;PATCH /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should update a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Resale\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ac299118-d643-47bb-9045-5ef14f97812e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType.type).toBe(purchaseTypes[1].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8372da12-d8ac-4155-997d-628c4580f14e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType.type).toBe(purchaseTypes[1].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;10a4a649-1ad1-4f68-a702-51fff5c7f600&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ac299118-d643-47bb-9045-5ef14f97812e&quot;,&quot;8372da12-d8ac-4155-997d-628c4580f14e&quot;,&quot;10a4a649-1ad1-4f68-a702-51fff5c7f600&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:625,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;37f7b2df-acdc-4096-b910-2cec9e3e5316&quot;,&quot;title&quot;:&quot;DELETE /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should delete a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(purchaseTypes[0].type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[0]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0ab31c0a-0914-4ef8-83aa-a8652e19ba46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should not delete a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[0]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(purchaseTypes[0].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b4e349e9-5914-4f2d-b7ee-ffa1b157f45a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ab31c0a-0914-4ef8-83aa-a8652e19ba46&quot;,&quot;b4e349e9-5914-4f2d-b7ee-ffa1b157f45a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:442,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ffc1e703-fd32-4d8a-ae4b-9f428bc74090&quot;,&quot;title&quot;:&quot;TODOS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;TODOS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:605,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;26951169-5254-4dbe-8ecc-e6b4f5352fe0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateTodos&quot;,&quot;fullTitle&quot;:&quot;TODOS \&quot;before each\&quot; hook: populateTodos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Todo.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var todoOne = new Todo(todos[0]).save();\n    var todoTwo = new Todo(todos[1]).save();\n    var todoThree = new Todo(todos[2]).save();\n    return Promise.all([todoOne, todoTwo, todoThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6f3ddf25-04fa-439c-af62-4b8e40802591&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1d2c3cf3-84de-4140-9e2c-348d0bcff7ee&quot;,&quot;title&quot;:&quot;GET /todos&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a users todos&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todos should return a users todos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(2);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5beded8a-28df-49a1-bc7f-70c245d15a9a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a users todos if not logged in&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todos should not return a users todos if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/todos\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0e4f9118-295a-4126-bd9c-cae2a25eb218&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5beded8a-28df-49a1-bc7f-70c245d15a9a&quot;,&quot;0e4f9118-295a-4126-bd9c-cae2a25eb218&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:183,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3cc5b81c-c7b8-4185-a0c0-49d16afc15af&quot;,&quot;title&quot;:&quot;POST /todos&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new todo for the logged in user&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should create a new todo for the logged in user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;The newest todo\&quot;,\n    creator: users[1]._id\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;The newest todo\&quot;);\n    expect(res.body.creator).toBe(users[1]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;921cff11-3a2d-4107-b893-e1676ca74508&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new todo for a user who is not logged in&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should not create a new todo for a user who is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .send({\n    desc: \&quot;The newest todo\&quot;,\n    creator: users[1]._id\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0dc0c48f-f99c-4502-8b45-9f0a27ab4050&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new todo with missing description&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should not create a new todo with missing description&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;\&quot;,\n    creator: users[1]._id\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;Todo description is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bcd70c9d-870a-4c68-a4bd-704527c01195&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;921cff11-3a2d-4107-b893-e1676ca74508&quot;,&quot;0dc0c48f-f99c-4502-8b45-9f0a27ab4050&quot;,&quot;bcd70c9d-870a-4c68-a4bd-704527c01195&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:273,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;90f19a16-b401-4422-b1fd-0de769643f0b&quot;,&quot;title&quot;:&quot;GET /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todo/:id should return the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(todos[0].desc);\n    expect(res.body.creator._id).toBe(users[1]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1d5f2201-cf36-4e6f-9c42-eb69717d3e93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todo/:id should not return another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBeFalsy();\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8cb9bea0-26ca-44fa-b4b5-7dbbc0e74f22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d5f2201-cf36-4e6f-9c42-eb69717d3e93&quot;,&quot;8cb9bea0-26ca-44fa-b4b5-7dbbc0e74f22&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:533,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;35a5a94e-73f2-48e5-8466-f9fc90f27e23&quot;,&quot;title&quot;:&quot;PATCH /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should update the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;a new description\&quot;,\n    creator: users[1]._id\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;a new description\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bfe5d528-018a-4b29-adb4-86a129a42496&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should not update another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    desc: \&quot;a new description\&quot;,\n    creator: users[1]._id\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBeFalsy();\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;83cb78b6-5f21-4e10-a881-aebfc5fbda3e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user&#x27;s todo with validation errors&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should not update user&#x27;s todo with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;\&quot;,\n    creator: users[1]._id\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;Todo description is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4bab0fc4-3644-46ab-9cdd-9f75b7471253&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bfe5d528-018a-4b29-adb4-86a129a42496&quot;,&quot;83cb78b6-5f21-4e10-a881-aebfc5fbda3e&quot;,&quot;4bab0fc4-3644-46ab-9cdd-9f75b7471253&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:444,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3cfdfa86-eefc-44c9-8952-721dfbe85820&quot;,&quot;title&quot;:&quot;DELETE /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS DELETE /todo/:id should delete the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(todos[0].desc);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;04ef5952-b99b-4d7e-9629-90a7da139680&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS DELETE /todo/:id should not delete another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;95f7d258-53b9-4c7d-b207-bb2a2d52d8a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;04ef5952-b99b-4d7e-9629-90a7da139680&quot;,&quot;95f7d258-53b9-4c7d-b207-bb2a2d52d8a8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:357,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f6212e13-3085-4f0a-8562-80813fb13d41&quot;,&quot;title&quot;:&quot;USERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;USERS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:567,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.deleteMany({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f5429ab2-5145-4974-afbc-91191b7cf85d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f8547157-b740-45ff-8b20-c59101231d83&quot;,&quot;title&quot;:&quot;GET /users&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of users&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users should return an array of users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(users.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;106eb974-1962-4705-9b07-c4cd81f4ac8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;106eb974-1962-4705-9b07-c4cd81f4ac8e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:180,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c95ca238-fe84-4ea1-b4a3-e2edf399890f&quot;,&quot;title&quot;:&quot;POST /users&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new user&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:641,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newUser)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.username).toBe(newUser.username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.firstName).toBe(newUser.firstName);\n        expect(user.password).not.toBe(newUser.password);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a2cff9a3-12f4-45c3-9f2a-21cec76be5fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should not create a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = \&quot;amessedupemail\&quot;;\nnewUser.phone = \&quot;(559) 999-1111\&quot;;\nnewUser.validated = \&quot;hello\&quot;;\nrequest(app)\n  .post(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.email).toBe(\&quot;Must enter a valid email\&quot;);\n    expect(res.body.phone).toBe(\n      \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n    );\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;19aa6754-e7c8-4546-a0b0-082399ff718a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a2cff9a3-12f4-45c3-9f2a-21cec76be5fe&quot;,&quot;19aa6754-e7c8-4546-a0b0-082399ff718a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:819,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;015b4c89-9b6f-4eeb-91bd-6d6425d0a3fd&quot;,&quot;title&quot;:&quot;GET /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/users/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d1f7d14f-9267-4675-8789-212ae00c261f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should not return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/users/${users[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n    expect(res.body.username).not.toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6f128990-8269-4532-8297-5700307fbfa7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1f7d14f-9267-4675-8789-212ae00c261f&quot;,&quot;6f128990-8269-4532-8297-5700307fbfa7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6da7685b-ba3d-42db-a046-cf190ad035df&quot;,&quot;title&quot;:&quot;PATCH /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should update and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;users[1].validated = true;\nrequest(app)\n  .patch(`/api/users/${users[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(users[1])\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.username).toBe(users[1].username);\n    expect(res.body.validated).toBe(true);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user.validated).toBe(true);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7b7a51c5-3812-48db-a990-a60cb1d8e868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/users/${users[1]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(users[1])\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Invalid ID\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;38f0bdec-e143-4b63-9931-b38fc46e833f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;Brian\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Sr\&quot;,\n  username: \&quot;blpsr\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;gbr@test.com\&quot;,\n  phone: \&quot;5559991224\&quot;,\n  title: \&quot;Manager\&quot;,\n  type: \&quot;Staff\&quot;,\n  validated: \&quot;someWrongValidation\&quot;\n};\nrequest(app)\n  .patch(`/api/users/${users[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user.validated).toBe(true);\n        expect(user.firstName).toBe(\&quot;Brian\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7adf5581-43d3-4095-b0ec-e8d3e86756cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7b7a51c5-3812-48db-a990-a60cb1d8e868&quot;,&quot;38f0bdec-e143-4b63-9931-b38fc46e833f&quot;,&quot;7adf5581-43d3-4095-b0ec-e8d3e86756cd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:537,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ba773a00-4e70-4cf0-af6b-ca4c90c9ae17&quot;,&quot;title&quot;:&quot;DELETE /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should delete and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/users/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[0]._id.toHexString())\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e58fbb8e-de01-47c9-a0a2-428d3a52b11f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should not delete and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:185,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/users/${users[1]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n    expect(res.body.username).not.toBe(users[1].username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.username).toBe(users[1].username);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b893336f-9925-4a39-8641-174b38aab018&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e58fbb8e-de01-47c9-a0a2-428d3a52b11f&quot;,&quot;b893336f-9925-4a39-8641-174b38aab018&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:449,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000},&quot;copyrightYear&quot;:2019}" data-config="{&quot;reportFilename&quot;:&quot;alltests&quot;,&quot;reportDir&quot;:&quot;tests/reports&quot;,&quot;reportTitle&quot;:&quot;gbr-mern&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;tests\\reports\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\reports\\alltests.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\reports\\alltests.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>