<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:74,&quot;tests&quot;:145,&quot;passes&quot;:130,&quot;pending&quot;:0,&quot;failures&quot;:15,&quot;start&quot;:&quot;2019-03-23T19:58:56.086Z&quot;,&quot;end&quot;:&quot;2019-03-23T20:01:20.702Z&quot;,&quot;duration&quot;:144616,&quot;testsRegistered&quot;:145,&quot;passPercent&quot;:89.7,&quot;pendingPercent&quot;:0,&quot;other&quot;:1,&quot;hasOther&quot;:true,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;70494c49-997c-4997-ace3-38940eb0a2a8&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;80ba2566-6a0a-4ace-8d00-05daebae8f20&quot;,&quot;title&quot;:&quot;CONTAINERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1883,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0351d3a3-44ec-4853-b7ca-62f3e7a15b53&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerSize.remove({})\n  .then(() =&gt; {\n    var twenty = new ContainerSize(containerSizes[0]).save();\n    var fourty = new ContainerSize(containerSizes[1]).save();\n    var twentydoubledoors = new ContainerSize(containerSizes[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;09c47421-bd77-45d6-bbb5-93a595774881&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerStats.remove({})\n  .then(() =&gt; {\n    var twenty = new ContainerStats(containerStats[0]).save();\n    var fourty = new ContainerStats(containerStats[1]).save();\n    var twentydoubledoors = new ContainerStats(containerStats[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c29b49e4-aeb3-499b-9f7d-dcac7b245334&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Container.remove({})\n  .then(() =&gt; {\n    var twenty = new Container(containers[0]).save();\n    var fourty = new Container(containers[1]).save();\n    var twentydoubledoors = new Container(containers[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8aa74817-2786-4aad-ae02-04cd9ae49674&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d1f705eb-e662-499a-8ab5-a341a365b2db&quot;,&quot;title&quot;:&quot;GET /containers/sizes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of container sizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes should return an array of container sizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:210,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6930fd74-1841-4035-bb61-06f0b0b453e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6930fd74-1841-4035-bb61-06f0b0b453e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:210,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e9b70a4c-4205-4651-b32c-44116d23f1a2&quot;,&quot;title&quot;:&quot;POST /containers/sizes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should create a new container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:110,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;20C\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;20C\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findOne({ size: \&quot;20C\&quot; })\n      .then(size =&gt; {\n        expect(size).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;20117548-0ef5-446c-ab12-00bb07bab780&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container size with invalid input&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should not create a new container size with invalid input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers/sizes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findOne({ size: \&quot;20C\&quot; })\n      .then(size =&gt; {\n        expect(size).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5c496107-7c5f-43e0-96f3-30a1b32c9748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;20117548-0ef5-446c-ab12-00bb07bab780&quot;,&quot;5c496107-7c5f-43e0-96f3-30a1b32c9748&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:203,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;991d06f6-b12c-4720-a04a-8bd69a923aa3&quot;,&quot;title&quot;:&quot;GET /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a specific container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should return a specific container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(containerSizes[0]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8eb5fbea-cadb-4986-a3ec-c6f09412fd94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a specific container size with invalid :id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should not return a specific container size with invalid :id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:87,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/sizes/${containerSizes[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3b52775e-f160-489e-b79f-f26a47a3dac7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8eb5fbea-cadb-4986-a3ec-c6f09412fd94&quot;,&quot;3b52775e-f160-489e-b79f-f26a47a3dac7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:266,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;182b27f1-fee3-4748-a02a-34661cff5e9f&quot;,&quot;title&quot;:&quot;PATCH /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should patch a container size successfully&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should patch a container size successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;10\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(\&quot;10\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        expect(containerSize.size).toBe(\&quot;10\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;38ca7704-c8e7-4289-bf3b-59774f1f9e71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        expect(containerSize.size).toBe(\&quot;20\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2df51318-7a30-4c12-9004-5ac22900909c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;67243e60-5230-4a6f-9cae-9b1aa9dd951c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with size that exists&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with size that exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ size: \&quot;40\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;That size already exists\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;294c72cb-1da8-492b-8654-ebb160048745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;38ca7704-c8e7-4289-bf3b-59774f1f9e71&quot;,&quot;2df51318-7a30-4c12-9004-5ac22900909c&quot;,&quot;67243e60-5230-4a6f-9cae-9b1aa9dd951c&quot;,&quot;294c72cb-1da8-492b-8654-ebb160048745&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:363,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;17b9dcd7-23cd-4732-969e-fa5ce9ac6b0d&quot;,&quot;title&quot;:&quot;DELETE /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete the container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should delete the container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/sizes/${containerSizes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.size).toBe(containerSizes[0].size);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fc0e7d90-daed-4dd7-bc60-662e76d5be2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete the container size with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should not delete the container size with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/sizes/${containerSizes[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.size).toBeTruthy();\n    expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    ContainerSize.findById(containerSizes[0]._id)\n      .then(containerSize =&gt; {\n        expect(containerSize).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;09fb38d1-c46b-4603-ad67-d597665f2231&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fc0e7d90-daed-4dd7-bc60-662e76d5be2b&quot;,&quot;09fb38d1-c46b-4603-ad67-d597665f2231&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:447,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;de0ea443-cab2-4a39-8d01-f02d7d455198&quot;,&quot;title&quot;:&quot;GET /containers/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of containers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/ should return an array of containers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:361,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/containers/\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n    // Check to see if each container has a size and stats.\n    expect(res.body[0].size).not.toBe(null);\n    expect(res.body[1].size).not.toBe(null);\n    expect(res.body[2].size).not.toBe(null);\n    expect(res.body[0].stats).not.toBe(null);\n    expect(res.body[1].stats).not.toBe(null);\n    expect(res.body[2].stats).not.toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3f93aa26-31f2-4258-8e24-e6e607f9b733&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3f93aa26-31f2-4258-8e24-e6e607f9b733&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:361,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d3736b63-3680-449f-b0e8-3b1fa412f762&quot;,&quot;title&quot;:&quot;POST /containers/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should create a new container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/containers/\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainer)\n  // .expect(200)\n  .expect(res =&gt; {\n    // Check to see if each container has a size and stats.\n    expect(res.body.size).not.toBe(null);\n    expect(res.body.stats).not.toBe(null);\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n      .then(container =&gt; {\n        expect(container).toBeTruthy();\n        expect(container.size).not.toBe(null);\n        expect(container.stats).not.toBe(null);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expect(received).toBeTruthy()\n\nExpected value to be truthy, instead received\n  null&quot;,&quot;estack&quot;:&quot;Error: expect(received).toBeTruthy()\n\nExpected value to be truthy, instead received\n  null\n    at Container.findOne.then.container (tests\\containers.test.js:300:33)\n    at process._tickCallback (internal/process/next_tick.js:68:7)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7c96ffca-93ee-49a7-9c71-5718dbfa6ee8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container with validation errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should not create a new container with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;newContainer.rentalResale = \&quot;\&quot;;\nnewContainer.hasOnBoxNumbers = 123;\nnewContainer.hasShelves = 123;\nnewContainer.hasSigns = 123;\nnewContainer.isPainted = 123;\nrequest(app)\n  .post(\&quot;/api/containers/\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newContainer)\n  // .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.container).toBeFalsy();\n    // Check to see if each container has a size and stats.\n    expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n    expect(res.body.hasShelves).toBe(\n      \&quot;You must select whether the container has shelves or not\&quot;\n    );\n    expect(res.body.isPainted).toBe(\n      \&quot;You must select whether the container is painted or not\&quot;\n    );\n    expect(res.body.hasOnBoxNumbers).toBe(\n      \&quot;You must select whether the container has GBR numbers or not\&quot;\n    );\n    expect(res.body.hasSigns).toBe(\n      \&quot;You must select whether the container has signs or not\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n      .then(container =&gt; {\n        expect(container).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: done() called multiple times&quot;,&quot;estack&quot;:&quot;Error: done() called multiple times\n    at Container.findOne.then.container (tests\\containers.test.js:346:15)\n    at process._tickCallback (internal/process/next_tick.js:68:7)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c3bb8b14-ea09-46e3-afbc-59b0cc7ce2f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;7c96ffca-93ee-49a7-9c71-5718dbfa6ee8&quot;,&quot;c3bb8b14-ea09-46e3-afbc-59b0cc7ce2f8&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2c53da87-e822-41c7-b197-e0cef39c0f87&quot;,&quot;title&quot;:&quot;GET /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/${containers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.serialNumber).toBe(containers[0].serialNumber);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ca0f416d-a1df-4779-92d3-839dc50716de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a container with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should not return a container with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/containers/${containers[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0cc78579-fb13-4a52-8498-187edd31a5c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ca0f416d-a1df-4779-92d3-839dc50716de&quot;,&quot;0cc78579-fb13-4a52-8498-187edd31a5c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:353,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ac035ff7-f20f-4309-a91c-42cbc321d1e8&quot;,&quot;title&quot;:&quot;PATCH /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: containers[1].size.toHexString(),\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  rentalResale: \&quot;Rental\&quot;,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n  currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n  currentlyRented: false\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.hasOnBoxNumbers).toBe(patchData.hasOnBoxNumbers);\n    expect(res.body.hasSigns).toBe(patchData.hasSigns);\n    expect(res.body.hasShelves).toBe(patchData.hasShelves);\n    expect(res.body.isPainted).toBe(patchData.isPainted);\n    expect(res.body.isFlagged).toBe(patchData.isFlagged);\n    expect(res.body.flagReason).toBe(patchData.flagReason);\n    expect(res.body.stats.currentAddress).toBe(patchData.currentAddress);\n    expect(res.body.stats.currentRentee).toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f63aea05-7aa1-4132-b1a5-dd949e58a605&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: \&quot;\&quot;,\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  rentalResale: \&quot;\&quot;,\n  currentAddress: \&quot;\&quot;,\n  currentlyRented: \&quot;\&quot;,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBeFalsy();\n    expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n    expect(res.body.currentlyRented).toBe(\n      \&quot;You must select whether the container is currently rented\&quot;\n    );\n    expect(res.body.currentAddress).toBe(\&quot;Current address is required\&quot;);\n    expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;127f2dab-dbce-4de3-ae4c-ac7d5923df89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;patchData = {\n  gbrNumber: containers[1].gbrNumber,\n  releaseNumber: containers[1].releaseNumber,\n  size: containers[1].size.toHexString(),\n  serialNumber: containers[1].serialNumber,\n  hasShelves: true,\n  isPainted: true,\n  hasOnBoxNumbers: true,\n  hasSigns: true,\n  rentalResale: \&quot;Rental\&quot;,\n  isFlagged: true,\n  flagReason: \&quot;Container is super damaged\&quot;,\n  stats: containers[1].stats.toHexString(),\n  currentRentee: null,\n  previousRentees:\n    \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n  currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n  currentlyRented: false\n};\nrequest(app)\n  .patch(`/api/containers/${containers[1]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(patchData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 500 \&quot;Internal Server Error\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e68c2962-7a3b-4288-a4ea-9a02097fba91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;f63aea05-7aa1-4132-b1a5-dd949e58a605&quot;,&quot;127f2dab-dbce-4de3-ae4c-ac7d5923df89&quot;,&quot;e68c2962-7a3b-4288-a4ea-9a02097fba91&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:272,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;463d1492-4ad9-436e-a6e5-41f5737c023b&quot;,&quot;title&quot;:&quot;DELETE /containers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should delete a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:353,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/${containers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(containers[1]._id.toHexString());\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Container.findById(containers[1]._id)\n      .then(container =&gt; {\n        expect(container).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1cc4f308-7052-4acc-8198-84fa40729d14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a container with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should not delete a container with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/containers/${containers[1]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aa44d61d-0be1-4ab5-a80f-12ee8e638a6e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1cc4f308-7052-4acc-8198-84fa40729d14&quot;,&quot;aa44d61d-0be1-4ab5-a80f-12ee8e638a6e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:447,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d4c4ea46-71d0-4302-ae6b-791918c69526&quot;,&quot;title&quot;:&quot;CUSTOMERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:581,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5aa48009-c4fe-4ddb-9035-0ab4205b6ab4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.remove({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8a15a8f2-420c-440f-a809-f3c461e7b1ff&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5ab8c7a4-23fa-48e2-92ab-d925c666752f&quot;,&quot;title&quot;:&quot;GET /customers&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of customers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers should return an array of customers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:185,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(customers.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f995e6a1-e7f0-42a1-b94c-65e0c9011e7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f995e6a1-e7f0-42a1-b94c-65e0c9011e7e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:185,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;33028aba-06bf-4bb8-bef0-61e9cd694f22&quot;,&quot;title&quot;:&quot;POST /customers&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new customer and update last viewed&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should create a new customer and update last viewed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:458,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newCustomer)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(newCustomer.name);\n    expect(res.body.lastViewed).not.toBe(null);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findOne({ name: newCustomer.name })\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0536f64f-4d31-4cd6-814d-b73005f4e59a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should not create a new customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/customers\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(badCustomer)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n    expect(res.body.city).toBe(\&quot;City is required\&quot;);\n    expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n    expect(res.body.state).toBe(\&quot;State is required\&quot;);\n    expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n    expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n    expect(res.body.isFlagged).toBe(\n      \&quot;You must select whether the customer has a flag or not\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findOne({ name: newCustomer.name })\n      .then(customer =&gt; {\n        expect(customer).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8888d417-b743-4ad8-acb9-5ec25263f7ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0536f64f-4d31-4cd6-814d-b73005f4e59a&quot;,&quot;8888d417-b743-4ad8-acb9-5ec25263f7ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:639,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9b50dfcd-bcdb-41ff-9453-cccb4994e6d0&quot;,&quot;title&quot;:&quot;GET /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a customer with updated last viewed property&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should return a customer with updated last viewed property&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:184,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/customers/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(customers[0].name);\n    expect(res.body.lastViewed).not.toBe(null);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bd4a40cf-2ad3-4d95-945a-f7d8144f56bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should not return user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9c5ebe0b-3e1d-4237-be45-2fc24a7f11a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd4a40cf-2ad3-4d95-945a-f7d8144f56bd&quot;,&quot;9c5ebe0b-3e1d-4237-be45-2fc24a7f11a8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:274,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;09507492-e422-48ce-af3d-d46a42341a7c&quot;,&quot;title&quot;:&quot;PATCH /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer &amp; return the customer&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should update a customer &amp; return the customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    name: \&quot;Jacob Belmont\&quot;,\n    address1: \&quot;1234 Loopy St\&quot;,\n    address2: \&quot;\&quot;,\n    city: \&quot;Hanford\&quot;,\n    zipcode: \&quot;93230\&quot;,\n    state: \&quot;CA\&quot;,\n    phone: \&quot;559-444-4444\&quot;,\n    ext: \&quot;123\&quot;,\n    fax: \&quot;559-444-4448\&quot;,\n    email: \&quot;another@fake.com\&quot;,\n    rdp: \&quot;\&quot;,\n    notes: \&quot;Customer requires quote everytime before orders\&quot;,\n    isFlagged: false,\n    flagReason: \&quot;\&quot;,\n    lastViewed: null\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Jacob Belmont\&quot;);\n    expect(res.body.isFlagged).toBe(false);\n    expect(res.body.flagReason).toBe(\&quot;\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[1]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        expect(customer.name).toBe(\&quot;Jacob Belmont\&quot;);\n        expect(customer.isFlagged).toBe(false);\n        expect(customer.flagReason).toBe(\&quot;\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;eb17de44-bc52-426b-8b25-c3acfaced8f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update the customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update the customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[2]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    name: \&quot;\&quot;,\n    address1: \&quot;\&quot;,\n    address2: \&quot;\&quot;,\n    city: \&quot;\&quot;,\n    zipcode: \&quot;\&quot;,\n    state: \&quot;\&quot;,\n    phone: \&quot;\&quot;,\n    ext: \&quot;123\&quot;,\n    fax: \&quot;559-444-4448\&quot;,\n    email: \&quot;failemail.com\&quot;,\n    rdp: \&quot;\&quot;,\n    notes: \&quot;Customer requires quote everytime before orders\&quot;,\n    isFlagged: \&quot;messedup\&quot;,\n    flagReason: \&quot;Do not rent, patient hasn&#x27;t paid bill.\&quot;,\n    lastViewed: null\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n    expect(res.body.city).toBe(\&quot;City is required\&quot;);\n    expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n    expect(res.body.state).toBe(\&quot;State is required\&quot;);\n    expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n    expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n    expect(res.body.isFlagged).toBe(\n      \&quot;You must select whether the customer has a flag or not\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6ded67d9-a753-455c-84ff-6c0eb8e67cc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({})\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;66249590-f2ec-4727-af0b-faa564f0081d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb17de44-bc52-426b-8b25-c3acfaced8f3&quot;,&quot;6ded67d9-a753-455c-84ff-6c0eb8e67cc1&quot;,&quot;66249590-f2ec-4727-af0b-faa564f0081d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:450,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ace635b8-8015-4d2c-badf-d16ce47722c5&quot;,&quot;title&quot;:&quot;DELETE /customers/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer return the customers data&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should delete a customer return the customers data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:261,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/customers/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(customers[0].name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[0]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9a7f3111-07dc-459d-bbc2-dd5cfe5e189d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should not delete customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/customers/${customers[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Customer.findById(customers[0]._id)\n      .then(customer =&gt; {\n        expect(customer).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e01e4f2d-e3fb-45a5-a2e4-008640910305&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9a7f3111-07dc-459d-bbc2-dd5cfe5e189d&quot;,&quot;e01e4f2d-e3fb-45a5-a2e4-008640910305&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:440,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4f5a7be7-63e6-4d3c-9d8f-1a1834e8cb3b&quot;,&quot;title&quot;:&quot;DEFAULTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:578,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;da78ec3f-bab8-4755-bf9d-5bf9d4c14c2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;db0f9956-e04f-45df-bde6-51ec1bca3bcb&quot;,&quot;title&quot;:&quot;POST /register&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should register a new user&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should register a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:606,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(200)\n  .expect(res =&gt; {\n    // Check to see if body contains users information. If so,\n    // then the user&#x27;s information was passed back meaning it succeeded.\n    expect(res.body.username).toBe(newUser.username);\n    expect(res.body.password).not.toBe(newUser.password);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.password).not.toBe(newUser.password);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;394dd293-be64-4a6e-af16-6427be76d3cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Set invalid properties to newUser.\nnewUser.email = \&quot;amessedupemail\&quot;;\nnewUser.phone = \&quot;(559) 999-1111\&quot;;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.email).toBe(\&quot;Must enter a valid email.\&quot;);\n    expect(res.body.phone).toBe(\n      \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;29d6f6e8-b3e8-4d93-bdda-4201e4342956&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already taken username&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already taken username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = \&quot;jboy@test.com\&quot;;\nnewUser.phone = \&quot;5559992222\&quot;;\nnewUser.username = users[0].username;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.username).toBe(\&quot;Username already exists.\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check if user was saved in DB.\n    User.findOne({ email: newUser.email })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;79c41e9a-8a1c-41b8-a6ac-00e7d886e260&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already used email&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already used email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = users[0].email;\nnewUser.phone = \&quot;5559992222\&quot;;\nnewUser.username = \&quot;jboy\&quot;;\nrequest(app)\n  .post(\&quot;/api/register\&quot;)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    // Check to see if validation errors are there.\n    expect(res.body.email).toBe(\&quot;Email already exists.\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // If no errors during registration, check to see if newUser was\n    // stored in the database properly.\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;48f863ea-5090-4185-be55-a4c97cd97cb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;394dd293-be64-4a6e-af16-6427be76d3cb&quot;,&quot;29d6f6e8-b3e8-4d93-bdda-4201e4342956&quot;,&quot;79c41e9a-8a1c-41b8-a6ac-00e7d886e260&quot;,&quot;48f863ea-5090-4185-be55-a4c97cd97cb9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1139,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6ce1c2de-606d-4dd0-b236-ff3ba0766678&quot;,&quot;title&quot;:&quot;POST /login&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should log a user in and return a token&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should log a user in and return a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpj\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBe(true);\n    expect(res.body.token).toBeTruthy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;04a1e9f8-6a72-4f05-9987-c521fd226beb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect username and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect username and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:449,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;wrongusername\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f8e7a902-1b8d-4871-83d8-2161100a3125&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect password and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect password and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpj\&quot;,\n    password: \&quot;theWrongPassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3ae3c582-0e6c-4342-8027-3da871d63e13&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in without being validated&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in without being validated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:197,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/login\&quot;)\n  .send({\n    username: \&quot;blpsr\&quot;,\n    password: \&quot;thePassword\&quot;\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.success).toBeFalsy();\n    expect(res.body.token).toBeFalsy();\n    expect(res.body.login).toBe(\&quot;Your account is not validated yet\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;93da1329-dc50-4d57-ab00-983c5f7bccaa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;04a1e9f8-6a72-4f05-9987-c521fd226beb&quot;,&quot;f8e7a902-1b8d-4871-83d8-2161100a3125&quot;,&quot;3ae3c582-0e6c-4342-8027-3da871d63e13&quot;,&quot;93da1329-dc50-4d57-ab00-983c5f7bccaa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1029,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;21ba1b7b-e20e-434b-a801-f545cceafa25&quot;,&quot;title&quot;:&quot;GET /profile&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return logged in users information&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS GET /profile should return logged in users information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cd9f864a-49ae-4f61-9e9c-973d4ca57d3a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return user information if not logged in&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS GET /profile should not return user information if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/profile\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.username).toBeFalsy();\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c4692d53-d63b-46f1-8958-097afa5e8793&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd9f864a-49ae-4f61-9e9c-973d4ca57d3a&quot;,&quot;c4692d53-d63b-46f1-8958-097afa5e8793&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:97,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8aa2bcf6-c918-4073-a63e-642d9e5506c2&quot;,&quot;title&quot;:&quot;PATCH /profile&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update the logged in users information&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should update the logged in users information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;somename\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;test@test.com\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: true\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.firstName).toBe(\&quot;somename\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1e29d94e-ddb5-41a4-ab6a-b34acff3a3a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user information if not logged in&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should not update user information if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;newname\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;test@test.com\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: true\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.firstName).toBeFalsy();\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bda00dd4-4ec2-4cc3-bc76-70525289210a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user information with validation errors&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS PATCH /profile should not update user information with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;newname\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Jr\&quot;,\n  username: \&quot;blpj\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;bademail\&quot;,\n  phone: \&quot;5559991234\&quot;,\n  title: \&quot;Web Developer\&quot;,\n  type: \&quot;Admin\&quot;,\n  validated: \&quot;badvalidatedvalue\&quot;\n};\nrequest(app)\n  .patch(\&quot;/api/profile\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if success &amp; token has been created.\n    expect(res.body.email).toBe(\&quot;Must enter a valid email\&quot;);\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1b3533b5-15dc-4425-8c15-e6c4ad93ecdb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1e29d94e-ddb5-41a4-ab6a-b34acff3a3a7&quot;,&quot;bda00dd4-4ec2-4cc3-bc76-70525289210a&quot;,&quot;1b3533b5-15dc-4425-8c15-e6c4ad93ecdb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9e426827-c37d-45b0-a8ae-b7ff0fc6805a&quot;,&quot;title&quot;:&quot;EVENTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:603,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;656169e3-7a69-455c-b2cb-b31a389a3fe3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateEvents&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before each\&quot; hook: populateEvents&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;CalendarEvent.remove({})\n  .then(() =&gt; {\n    var eventOne = new CalendarEvent(events[0]).save();\n    var eventTwo = new CalendarEvent(events[1]).save();\n    var eventThree = new CalendarEvent(events[2]).save();\n    return Promise.all([eventOne, eventTwo, eventThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3d24ae30-7648-4abb-9d11-41b9fe946b51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e1cd8e3c-32a8-43b0-ab8f-482cd3da6d44&quot;,&quot;title&quot;:&quot;GET /events&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of events&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events should return a list of events&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(events.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9f3a3ab6-93ea-459b-bedb-052fdece4ca4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9f3a3ab6-93ea-459b-bedb-052fdece4ca4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:183,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;62bd31de-e651-4e78-8a5b-3d1e22320888&quot;,&quot;title&quot;:&quot;POST /events&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new event&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should create a new event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newEvent)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(newEvent.title);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findOne({ title: newEvent.title })\n      .then(event =&gt; {\n        expect(event).toBeTruthy();\n        expect(event.title).toBe(newEvent.title);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3afbc8a7-b6ab-42f5-8c64-a06caaf35802&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should not create a new event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/events\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(badEvent)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n    expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n    expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n    expect(res.body.end).toBe(\&quot;End is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findOne({ title: badEvent.title })\n      .then(event =&gt; {\n        expect(event).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;33817430-d5e5-4555-91fa-9f0634b447b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3afbc8a7-b6ab-42f5-8c64-a06caaf35802&quot;,&quot;33817430-d5e5-4555-91fa-9f0634b447b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:446,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;595a53de-4a8a-4492-b007-c9409c122c44&quot;,&quot;title&quot;:&quot;GET /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should return a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(events[0]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9604eb7d-c7b1-4110-a5c2-6190e868fbcd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a single event with invalid id&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should not return a single event with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/events/${events[0]._id.toHexString()}sssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a2ce6613-1444-48ef-854b-8843b89a275d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9604eb7d-c7b1-4110-a5c2-6190e868fbcd&quot;,&quot;a2ce6613-1444-48ef-854b-8843b89a275d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:361,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;783a481c-b338-4a54-a0c2-bfbe18fe7f36&quot;,&quot;title&quot;:&quot;PATCH /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a single event with new information&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should update a single event with new information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    title: \&quot;New title\&quot;,\n    color: events[0].color,\n    start: events[0].start,\n    end: events[0].end,\n    order: events[0].order\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;New title\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[0]._id.toHexString())\n      .then(event =&gt; {\n        expect(event.title).toBe(\&quot;New title\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;41398a52-c64d-4e64-a645-8156b9c65535&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    title: \&quot;\&quot;,\n    color: \&quot;\&quot;,\n    start: \&quot;\&quot;,\n    end: \&quot;\&quot;,\n    order: null\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n    expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n    expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n    expect(res.body.end).toBe(\&quot;End is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[0]._id.toHexString())\n      .then(event =&gt; {\n        expect(event.title).toBe(events[0].title);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d2b4f6b6-f31d-49ec-ad99-8bdb17264742&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/events/${events[0]._id.toHexString()}sssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(events[0])\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c9a0f0ce-3bc6-4ca8-8d6f-1a69d4b4214d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41398a52-c64d-4e64-a645-8156b9c65535&quot;,&quot;d2b4f6b6-f31d-49ec-ad99-8bdb17264742&quot;,&quot;c9a0f0ce-3bc6-4ca8-8d6f-1a69d4b4214d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:539,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c89fc460-6379-438e-852c-346134f2cad2&quot;,&quot;title&quot;:&quot;DELETE /events/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should delete a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/events/${events[1]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(events[1]._id.toHexString());\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    CalendarEvent.findById(events[1]._id.toHexString())\n      .then(event =&gt; {\n        expect(event).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0ad0ffe6-01b2-48fa-a2ce-5242e6530180&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should not delete an event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/events/${events[1]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;912ace73-778d-44d3-aced-5838d1d8260e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ad0ffe6-01b2-48fa-a2ce-5242e6530180&quot;,&quot;912ace73-778d-44d3-aced-5838d1d8260e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:361,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ea9f6c1b-2efa-481d-87e2-27ea1936d574&quot;,&quot;title&quot;:&quot;ORDERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:595,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;82fcff72-96ce-419f-8265-8498753f8261&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.remove({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d627dff6-d3ec-4186-946d-185b642f0f0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.remove({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8546e219-aff7-46e8-8584-f48cd460834a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.remove({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;63cc7906-f34f-4b23-beb5-f685fd9a045d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;RequestedProduct.remove({})\n  .then(() =&gt; {\n    var requestedProductOne = new RequestedProduct(\n      requestedProducts[0]\n    ).save();\n    var requestedProductTwo = new RequestedProduct(\n      requestedProducts[1]\n    ).save();\n    return Promise.all([requestedProductOne, requestedProductTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;add812a0-24b0-477a-88bf-bc9597b34f64&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchasePrices.remove({})\n  .then(() =&gt; {\n    var ppOne = new PurchasePrices(purchasePrices[0]).save();\n    return Promise.all([ppOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0aa238ff-ee4a-4095-82a8-4442dc1d39d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerSize.remove({})\n  .then(() =&gt; {\n    var twenty = new ContainerSize(containerSizes[0]).save();\n    var fourty = new ContainerSize(containerSizes[1]).save();\n    var twentydoubledoors = new ContainerSize(containerSizes[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9336e967-dc41-481b-9427-5fc329ff063c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:184,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ContainerStats.remove({})\n  .then(() =&gt; {\n    var twenty = new ContainerStats(containerStats[0]).save();\n    var fourty = new ContainerStats(containerStats[1]).save();\n    var twentydoubledoors = new ContainerStats(containerStats[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;42b3ab23-4d24-4d49-a0a7-38de91a541cf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainers&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateContainers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Container.remove({})\n  .then(() =&gt; {\n    var twenty = new Container(containers[0]).save();\n    var fourty = new Container(containers[1]).save();\n    var twentydoubledoors = new Container(containers[2]).save();\n    return Promise.all([twenty, fourty, twentydoubledoors]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fc82534a-4994-4b27-93ea-44c5b17e91fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateOrders&quot;,&quot;fullTitle&quot;:&quot;ORDERS \&quot;before each\&quot; hook: populateOrders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Order.remove({})\n  .then(() =&gt; {\n    var orderOne = new Order(orders[0]).save();\n    return Promise.all([orderOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4636fcb3-9229-40f5-90f7-f103fb02558d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9774d69c-7848-4bce-b399-663efaf43528&quot;,&quot;title&quot;:&quot;GET /orders&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all orders that are not hidden&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders should return all orders that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:360,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/orders\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.orders.length).toBe(orders.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read property &#x27;length&#x27; of undefined&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read property &#x27;length&#x27; of undefined\n    at request.get.set.expect.expect.res (tests\\orders.test.js:112:34)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a979c928-8b7e-4260-8d36-ef1313c785a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if the user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders should not return orders if the user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/orders\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;602732d8-29de-457b-8981-26017e2441c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;602732d8-29de-457b-8981-26017e2441c9&quot;],&quot;failures&quot;:[&quot;a979c928-8b7e-4260-8d36-ef1313c785a3&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:364,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4570c6ad-eb6a-42d6-8420-fc3b14a29a1c&quot;,&quot;title&quot;:&quot;GET /orders/customer/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a customer&#x27;s orders&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should return all of a customer&#x27;s orders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:359,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.orders[0].customer._id).toBe(orders[0].customer);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f6b1f333-ef90-4442-ab8b-1e6f0c3cefd5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should not return orders if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f04f2c98-6d07-47ad-a944-9eaf60df47cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/customer/:id should not return orders if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/customer/${customers[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b7b03bb4-5287-41c6-8bd6-9708396c14f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f6b1f333-ef90-4442-ab8b-1e6f0c3cefd5&quot;,&quot;f04f2c98-6d07-47ad-a944-9eaf60df47cc&quot;,&quot;b7b03bb4-5287-41c6-8bd6-9708396c14f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:453,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;32de26a4-5141-461d-85d1-a2bdd21d83c2&quot;,&quot;title&quot;:&quot;GET /orders/user/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a user&#x27;s created orders&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should return all of a user&#x27;s created orders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:358,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.orders[0].createdBy._id).toBe(orders[0].createdBy);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read property &#x27;0&#x27; of undefined&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read property &#x27;0&#x27; of undefined\n    at request.get.set.expect.expect.res (tests\\orders.test.js:166:33)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4057050b-8b3e-4344-aded-4dde30c7a3bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should not return orders if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c9209200-62a9-48e5-9fba-17f41e39e80f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return orders if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/user/:id should not return orders if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/user/${users[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;99cae537-5266-481f-92eb-8ca2a87f1cd3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9209200-62a9-48e5-9fba-17f41e39e80f&quot;,&quot;99cae537-5266-481f-92eb-8ca2a87f1cd3&quot;],&quot;failures&quot;:[&quot;4057050b-8b3e-4344-aded-4dde30c7a3bd&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:452,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0b230277-c018-4c78-8d60-528db53b432d&quot;,&quot;title&quot;:&quot;POST /orders&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an order and return it&quot;,&quot;fullTitle&quot;:&quot;ORDERS POST /orders should create an order and return it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1003,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/orders\&quot;)\n  .send(newOrder)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  // .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.job.name).toBe(\&quot;Walmart Construction\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Order.findOne({\n      job: {\n        name: \&quot;Walmart Construction\&quot;,\n        address: \&quot;1733 S. Casablanca St\&quot;,\n        city: \&quot;Visalia\&quot;,\n        zipcode: \&quot;93292\&quot;\n      }\n    })\n      .then(order =&gt; {\n        expect(order).toBeTruthy();\n        expect(order.job.name).toBe(\&quot;Walmart Construction\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;53111f09-82c1-40e0-b48e-36d75d4b5bfc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create an order if user is not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS POST /orders should not create an order if user is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/orders\&quot;)\n  .send(newOrder)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b705b550-5aae-46d4-b8ea-14e4e662eab8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53111f09-82c1-40e0-b48e-36d75d4b5bfc&quot;,&quot;b705b550-5aae-46d4-b8ea-14e4e662eab8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1007,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8ced4be6-b2d0-4aeb-a26b-6c6d3240b1e3&quot;,&quot;title&quot;:&quot;GET /orders/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an order with the ID matching the provided ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should return an order with the ID matching the provided ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:355,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(orders[0]._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d4e5ef00-bfe9-456a-aabf-13adc18703ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return an order if not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should not return an order if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea671ade-f147-44dc-8fd0-f28731ca89b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return an order if supplied an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS GET /orders/:id should not return an order if supplied an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:95,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/orders/${orders[0]._id}ssssssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.order).toBe(\&quot;There was no order found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f483dae3-12e3-43f1-b137-0ba055be2f88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d4e5ef00-bfe9-456a-aabf-13adc18703ef&quot;,&quot;ea671ade-f147-44dc-8fd0-f28731ca89b8&quot;,&quot;f483dae3-12e3-43f1-b137-0ba055be2f88&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:454,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8b4ff2ce-34d9-4837-a5a4-8d2382c08477&quot;,&quot;title&quot;:&quot;DELETE /orders/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\orders.test.js&quot;,&quot;file&quot;:&quot;\\tests\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an order&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should delete an order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(orders[0]._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f66b38d2-cb79-46b0-82f3-53cbc068430f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an order if not logged in&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should not delete an order if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4de85e31-791e-481f-8f64-98b15dce43f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an order with an invalid ID&quot;,&quot;fullTitle&quot;:&quot;ORDERS DELETE /orders/:id should not delete an order with an invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .del(`/api/orders/${orders[0]._id}sssssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.order).toBe(\&quot;There was no order found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;396174df-7903-4c21-b54e-b59b94486ed9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f66b38d2-cb79-46b0-82f3-53cbc068430f&quot;,&quot;4de85e31-791e-481f-8f64-98b15dce43f9&quot;,&quot;396174df-7903-4c21-b54e-b59b94486ed9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:280,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e99c1a61-7e5b-4bb2-8669-5c69a0e7cb4e&quot;,&quot;title&quot;:&quot;PRODUCT TYPES&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:566,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0d2100a1-548b-40cd-9bd0-aa77123e346e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;ProductType.remove({})\n  .then(() =&gt; {\n    var modification = new ProductType(productTypes[0]).save();\n    var container = new ProductType(productTypes[1]).save();\n    var rentalModification = new ProductType(productTypes[2]).save();\n    var delivery = new ProductType(productTypes[3]).save();\n    var pickup = new ProductType(productTypes[4]).save();\n    return Promise.all([\n      modification,\n      container,\n      rentalModification,\n      delivery,\n      pickup\n    ]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3c92d9d5-1a40-4bd0-a93a-3fb504f64964&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d7a9966d-125d-412d-b859-2610c5546bd5&quot;,&quot;title&quot;:&quot;GET /products/types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of product types&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types should retrieve a array of product types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if product types array exists.\n    expect(res.body.length).toBe(5);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f7e1678e-44da-4244-9444-043122015aba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f7e1678e-44da-4244-9444-043122015aba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:182,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fac3efd1-1945-4093-8b9f-4ac939e12806&quot;,&quot;title&quot;:&quot;POST /products/types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new product type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should create a new product type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:355,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProductType)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if new product type exists.\n    expect(res.body.type).toBe(newProductType.type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    ProductType.findOne({ type: newProductType.type })\n      .then(result =&gt; {\n        expect(result.type).toBe(newProductType.type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c5b9b4cd-37cb-4f9f-8bbf-88ce56238ef4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new product type with empty values&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should not create a new product type with empty values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products/types\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product type exists.\n    expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    ProductType.findOne({ type: newProductType.type })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7a525bc5-4942-4af9-897c-ad1e4bd39524&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c5b9b4cd-37cb-4f9f-8bbf-88ce56238ef4&quot;,&quot;7a525bc5-4942-4af9-897c-ad1e4bd39524&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:537,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6298b59d-b570-4db8-a174-c8b256007863&quot;,&quot;title&quot;:&quot;GET /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should retrieve a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;modification\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c39cf9e2-df83-435c-906b-8cd0cb23fe60&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if type not found and error message&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should return a 400 error if type not found and error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;acfcca60-bbf3-48df-a677-f89173d78831&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c39cf9e2-df83-435c-906b-8cd0cb23fe60&quot;,&quot;acfcca60-bbf3-48df-a677-f89173d78831&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:273,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a1def26e-890f-4c1d-84ff-8ae7bf8a1b94&quot;,&quot;title&quot;:&quot;PATCH /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should update a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;new modification\&quot;\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;new modification\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7b4d6c7c-a9ab-4e48-b265-a18a9de61115&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if no type is entered&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should return a 400 error if no type is entered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ee3acc29-71ce-436a-becf-52a5ea47e762&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a type that is in use&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a type that is in use&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;container\&quot;\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;That type is already being used\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;70729574-a403-4358-9306-3e085aa7afd0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a messed up ID&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a messed up ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    type: \&quot;some new mod\&quot;\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\n      \&quot;No product found with that ID in the URL\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a71721e9-f912-4c7f-97f3-910542be9fcb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7b4d6c7c-a9ab-4e48-b265-a18a9de61115&quot;,&quot;ee3acc29-71ce-436a-becf-52a5ea47e762&quot;,&quot;70729574-a403-4358-9306-3e085aa7afd0&quot;,&quot;a71721e9-f912-4c7f-97f3-910542be9fcb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:625,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;dc3b8923-ce70-476e-89c8-9bc536d5cc93&quot;,&quot;title&quot;:&quot;DELETE /products/types/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should remove a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:272,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(productTypes[0].type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    ProductType.findById(productTypes[0]._id.toHexString())\n      .then(type =&gt; {\n        expect(type).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;77f4c855-e1b6-4b91-bf2d-ffba4de78fdb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 and an error message if id is invalid&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 400 and an error message if id is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${productTypes[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1ce325a9-64f6-478e-a995-21b0c99fc989&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 and an error message if id is not found&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 404 and an error message if id is not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/types/${new ObjectID().toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(404)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\n      \&quot;Unable to find and remove the product type\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b178c716-7679-465c-87d0-4ddd7b0ec907&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;77f4c855-e1b6-4b91-bf2d-ffba4de78fdb&quot;,&quot;1ce325a9-64f6-478e-a995-21b0c99fc989&quot;,&quot;b178c716-7679-465c-87d0-4ddd7b0ec907&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:541,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;da88c168-6d75-4702-b912-32388fc3d060&quot;,&quot;title&quot;:&quot;PRODUCTS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.remove({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bd63cad4-61c9-4786-9a85-d9e377deeffb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;741a7533-564a-438d-823f-1920139e913f&quot;,&quot;title&quot;:&quot;GET /products&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of products&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products should retrieve a array of products&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:274,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(3);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2e0007b6-ba14-459b-9fd3-1c1b43a43ee2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2e0007b6-ba14-459b-9fd3-1c1b43a43ee2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:274,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0a0bb30d-b96b-4cf1-a324-0b3271053dfb&quot;,&quot;title&quot;:&quot;POST /products&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should create a product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(200)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(newProduct.name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeTruthy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;881aeb52-caf4-40f6-8c5b-6c13ab23a5ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should not create a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct.name = \&quot;\&quot;;\nnewProduct.shortName = \&quot;\&quot;;\nnewProduct.rental = \&quot;\&quot;;\nnewProduct.type = \&quot;\&quot;;\nrequest(app)\n  .post(\&quot;/api/products\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n    expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n    expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1ab9425e-ffe0-418e-b494-99fd9b99b59b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1ab9425e-ffe0-418e-b494-99fd9b99b59b&quot;],&quot;failures&quot;:[&quot;881aeb52-caf4-40f6-8c5b-6c13ab23a5ef&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1c5ef625-35c5-4f81-95b3-d1e50b9bbbb7&quot;,&quot;title&quot;:&quot;GET /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should retrieve a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:270,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(products[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;49fbbb90-3436-4434-b4d3-00d32ed5395b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;60f9bc91-cf8d-49b9-92b9-8d3ec5ae233a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49fbbb90-3436-4434-b4d3-00d32ed5395b&quot;,&quot;60f9bc91-cf8d-49b9-92b9-8d3ec5ae233a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:359,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;671a84c8-6fbf-44c4-b105-312b75e9628c&quot;,&quot;title&quot;:&quot;PATCH /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should update a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;40&#x27; Pickup\&quot;,\n  shortName: \&quot;40PU\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: false,\n  type: `${productTypes[0]._id.toHexString()}`\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(\&quot;40&#x27; Pickup\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 400 \&quot;Bad Request\&quot;\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:268:12)\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:283:11)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:173:18)\n    at Server.localAssert (node_modules\\supertest\\lib\\test.js:131:12)\n    at emitCloseNT (net.js:1618:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3a471b2a-67f3-4c75-8b9b-7993c810b528&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;40&#x27; Pickup\&quot;,\n  shortName: \&quot;40PU\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: false,\n  type: `${productTypes[0]._id.toHexString()}`\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;No product found.\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cfc694cd-375e-4c55-8636-00860762ed67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should not update a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newProduct = {\n  name: \&quot;\&quot;,\n  shortName: \&quot;\&quot;,\n  price: 110.0,\n  monthlyPrice: 0.0,\n  rental: \&quot;\&quot;,\n  type: \&quot;\&quot;\n};\nrequest(app)\n  .patch(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newProduct)\n  .expect(400)\n  .expect(res =&gt; {\n    // check to see if new product exists.\n    expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n    expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n    expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n    expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    // Check to see if it was inserted into db properly.\n    Product.findOne({ name: newProduct.name })\n      .then(result =&gt; {\n        expect(result).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1e99149f-4e31-4f21-b74b-1efa88d81887&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cfc694cd-375e-4c55-8636-00860762ed67&quot;,&quot;1e99149f-4e31-4f21-b74b-1efa88d81887&quot;],&quot;failures&quot;:[&quot;3a471b2a-67f3-4c75-8b9b-7993c810b528&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:357,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fc2f7e25-692e-4e25-a3a4-542dbfb4706f&quot;,&quot;title&quot;:&quot;DELETE /products/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should delete a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:276,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/${products[0]._id.toHexString()}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.name).toBe(products[0].name);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Product.findById(products[0]._id.toHexString())\n      .then(product =&gt; {\n        expect(product).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f0cd9b16-40cc-4285-aee6-ec49c68b58e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/products/${products[0]._id.toHexString()}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d07f3556-2adf-4fd7-bbe6-bd52f055173d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f0cd9b16-40cc-4285-aee6-ec49c68b58e0&quot;,&quot;d07f3556-2adf-4fd7-bbe6-bd52f055173d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:367,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a02388e0-9a05-4582-8c3a-c16da48da064&quot;,&quot;title&quot;:&quot;QUOTES&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:567,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b33967d4-ce06-4e6e-a229-b399f2886c87&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Product.remove({})\n  .then(() =&gt; {\n    var lockbox = new Product(products[0]).save();\n    var delivery = new Product(products[1]).save();\n    var container = new Product(products[2]).save();\n    return Promise.all([lockbox, delivery, container]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ddf2fbc3-3018-426d-95ff-60e42f757405&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.remove({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2d6322a1-4a2e-4279-ac8a-07fe1b476d54&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Customer.remove({})\n  .then(() =&gt; {\n    var customerOne = new Customer(customers[0]).save();\n    var customerTwo = new Customer(customers[1]).save();\n    var customerThree = new Customer(customers[2]).save();\n    return Promise.all([customerOne, customerTwo, customerThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;06cd858e-9f54-4c94-8330-ffff5791ea5a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateRequestedProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;RequestedProduct.remove({})\n  .then(() =&gt; {\n    var requestedProductOne = new RequestedProduct(\n      requestedProducts[0]\n    ).save();\n    var requestedProductTwo = new RequestedProduct(\n      requestedProducts[1]\n    ).save();\n    return Promise.all([requestedProductOne, requestedProductTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;71776320-a641-49ea-8676-21f0a73c8d25&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populatePurchasePrices&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchasePrices.remove({})\n  .then(() =&gt; {\n    var ppOne = new PurchasePrices(purchasePrices[0]).save();\n    return Promise.all([ppOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c038981f-dadf-4441-af11-534c3ebe6acd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateQuotes&quot;,&quot;fullTitle&quot;:&quot;QUOTES \&quot;before each\&quot; hook: populateQuotes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Quote.remove({})\n  .then(() =&gt; {\n    var quoteOne = new Quote(quotes[0]).save();\n    return Promise.all([quoteOne]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;30a35d2d-89f9-4072-b75d-07f6b9491bef&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1bd581c9-b5c6-4f0e-b417-40fafc55de0d&quot;,&quot;title&quot;:&quot;GET /quotes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes should return all quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/quotes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body[0].customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;88044a57-7ee5-4f58-b776-47dcb12f981f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/quotes\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;23166c09-0158-45cc-9387-8ff01c157e7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;88044a57-7ee5-4f58-b776-47dcb12f981f&quot;,&quot;23166c09-0158-45cc-9387-8ff01c157e7b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:272,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0cc64c50-e24f-4dd4-a19b-3e59bef1e49f&quot;,&quot;title&quot;:&quot;POST /quotes&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a quote and return it&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should create a quote and return it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:538,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer).toBe(newQuote.customer);\n    expect(res.body.attention).toBe(newQuote.attention);\n    expect(res.body.isHidden).toBe(false);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;61c80ff8-ecea-4d6e-9fec-f290a6dd1333&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should not create a quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;31bacb8f-1ce7-4e7b-9f87-b7f9c3875611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a quote with validation errors&quot;,&quot;fullTitle&quot;:&quot;QUOTES POST /quotes should not create a quote with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newQuote.purchaseType = \&quot;not a number\&quot;;\nrequest(app)\n  .post(\&quot;/api/quotes\&quot;)\n  .send(newQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\n      \&quot;Purchase type selected does not exist\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b5cb7809-f8b4-4dfd-94b1-29cdce355f9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;61c80ff8-ecea-4d6e-9fec-f290a6dd1333&quot;,&quot;31bacb8f-1ce7-4e7b-9f87-b7f9c3875611&quot;,&quot;b5cb7809-f8b4-4dfd-94b1-29cdce355f9d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:809,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e2f8bd10-8d43-4602-ae5c-86df88380043&quot;,&quot;title&quot;:&quot;GET /quotes/customer/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a customer&#x27;s quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should return all of a customer&#x27;s quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:276,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(1);\n    expect(res.body[0].customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c76b0f2a-8037-419e-b6df-f7844091f89f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7adcbdfb-d703-4052-9007-5c573d4b2a12&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/customer/:id should not return quotes with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/customer/${customers[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\n      \&quot;There were no quotes found for this customer\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a49cac10-a8e1-4caf-ae13-83a1c5218d2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c76b0f2a-8037-419e-b6df-f7844091f89f&quot;,&quot;7adcbdfb-d703-4052-9007-5c573d4b2a12&quot;,&quot;a49cac10-a8e1-4caf-ae13-83a1c5218d2e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:369,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9328ce33-6439-4951-a540-dd05d61d83df&quot;,&quot;title&quot;:&quot;GET /quotes/user/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all of a user&#x27;s created quotes that are not hidden&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should return all of a user&#x27;s created quotes that are not hidden&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(1);\n    expect(res.body[0].createdBy.firstName).toBe(users[0].firstName);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f704442f-b08e-4578-8283-98a1b1a34d2f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should not return quotes if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;af4bde18-cd69-40e5-9b54-e054753fb13a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quotes with invalid user ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/user/:id should not return quotes with invalid user ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/user/${users[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\n      \&quot;There were no quotes found for this user\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ec928088-c853-4d55-9ad0-4d36f198ac37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f704442f-b08e-4578-8283-98a1b1a34d2f&quot;,&quot;af4bde18-cd69-40e5-9b54-e054753fb13a&quot;,&quot;ec928088-c853-4d55-9ad0-4d36f198ac37&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:364,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3aefcb00-b435-43d5-9ab2-d8931ee12eec&quot;,&quot;title&quot;:&quot;GET /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should return a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:281,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer._id).toBe(quotes[0].customer.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;13fb6d58-13df-4a2e-85c8-2d152ba0f976&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should not return quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;701139d8-6615-4c0c-9c94-2bdd74d0e398&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES GET /quotes/:id should not return quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/quotes/${quotes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;There was no quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;504585ec-8d9c-487c-b919-a0fff9c7b8c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;13fb6d58-13df-4a2e-85c8-2d152ba0f976&quot;,&quot;701139d8-6615-4c0c-9c94-2bdd74d0e398&quot;,&quot;504585ec-8d9c-487c-b919-a0fff9c7b8c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:375,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1ac51956-b366-4d2c-885f-d02f6770eb66&quot;,&quot;title&quot;:&quot;PATCH /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should update a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:633,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(updateQuote._id);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0d727acc-9e81-4e16-994e-552c3de095fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a9950bb6-1523-4614-8f66-8957185950a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/quotes/${updateQuote._id}sss`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;No quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;52374c0b-6c7b-4b35-9675-48da810a85bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update quote with validation errors&quot;,&quot;fullTitle&quot;:&quot;QUOTES PATCH /quotes/:id should not update quote with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;updateQuote.purchasePrices = \&quot;sd235523\&quot;;\nrequest(app)\n  .patch(`/api/quotes/${updateQuote._id}`)\n  .send(updateQuote)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchasePrices).toBe(\n      \&quot;There is an issue with the quote&#x27;s purchase prices\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;18b9df46-e2c5-4cf3-8fdf-d1f73ec86232&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d727acc-9e81-4e16-994e-552c3de095fa&quot;,&quot;a9950bb6-1523-4614-8f66-8957185950a9&quot;,&quot;52374c0b-6c7b-4b35-9675-48da810a85bd&quot;,&quot;18b9df46-e2c5-4cf3-8fdf-d1f73ec86232&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:996,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b96fcaa9-969e-46ab-a7e8-f19d85ee9425&quot;,&quot;title&quot;:&quot;DELETE /quotes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\quotes.test.js&quot;,&quot;file&quot;:&quot;\\tests\\quotes.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a quote&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should delete a quote&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:271,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.customer.name).toBe(customers[0].name);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d88a5fe6-4796-4038-b745-4401015a3152&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete quote if not logged in&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should not delete quote if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}`)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6cfb88d6-67b1-44fd-a934-263c2fcb3f71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete quote with invalid ID&quot;,&quot;fullTitle&quot;:&quot;QUOTES DELETE /quotes/:id should not delete quote with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/quotes/${quotes[0]._id}ss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.quote).toBe(\&quot;There was no quote found\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2d33ab06-cc61-45e9-b693-4ab9436bea2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d88a5fe6-4796-4038-b745-4401015a3152&quot;,&quot;6cfb88d6-67b1-44fd-a934-263c2fcb3f71&quot;,&quot;2d33ab06-cc61-45e9-b693-4ab9436bea2c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:368,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6de82302-6ef3-4d0e-b574-1c068f10b9fc&quot;,&quot;title&quot;:&quot;SETTINGS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;SETTINGS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:561,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5a58e056-7e28-4603-bdc9-5cbece919503&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5060c7b0-0fc5-4e54-9361-d11904a53b4c&quot;,&quot;title&quot;:&quot;Purchase Types&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;PurchaseType.remove({})\n  .then(() =&gt; {\n    var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n    var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n    return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a4ecb4ba-2021-4e9b-8b77-78ef4506f68a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ea85c0fc-c73a-4457-8d71-e9a1a949692a&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of purchase types&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/ should return an array of purchase types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(2);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1d1c912b-d8c3-4fd1-9372-506d089a1b8f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d1c912b-d8c3-4fd1-9372-506d089a1b8f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:180,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f6a4ed8b-87ac-4313-811e-ffefa48f5e02&quot;,&quot;title&quot;:&quot;POST /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should create a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Resale\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findOne({ type: \&quot;Resale\&quot; })\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2368771c-b103-4a6c-9dd8-85c5c90c01d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should not create a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/settings/purchasetypes\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0c57130e-3af0-45f6-8861-e43f7d10fb36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2368771c-b103-4a6c-9dd8-85c5c90c01d5&quot;,&quot;0c57130e-3af0-45f6-8861-e43f7d10fb36&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:356,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;56ee2584-234e-4153-b011-eea4138b1fdb&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should return a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\n    `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}`\n  )\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(purchaseTypes[0].type);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f6392e76-2080-477c-92e5-1daa5ed8acac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should not return a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\n    `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}sss`\n  )\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\n      \&quot;There was no purchase type found\&quot;\n    );\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;63fde724-5812-4aa4-8b73-55cff39a03e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f6392e76-2080-477c-92e5-1daa5ed8acac&quot;,&quot;63fde724-5812-4aa4-8b73-55cff39a03e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:268,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c5944da1-e450-4d63-8116-676e68e6a9e2&quot;,&quot;title&quot;:&quot;PATCH /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should update a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Resale\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9ac76b50-bfd3-41cc-84f4-af68c39c7bc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;Resale\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType.type).toBe(purchaseTypes[1].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;361876a4-59c4-402f-9f6b-8fae000d9c0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({ type: \&quot;\&quot; })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[1]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType.type).toBe(purchaseTypes[1].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;dca0f7d0-ee32-4765-a8c3-ad27151ed1f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9ac76b50-bfd3-41cc-84f4-af68c39c7bc3&quot;,&quot;361876a4-59c4-402f-9f6b-8fae000d9c0b&quot;,&quot;dca0f7d0-ee32-4765-a8c3-ad27151ed1f9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:623,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;19dcc7c6-1c6f-477b-a863-4d1ea42a9376&quot;,&quot;title&quot;:&quot;DELETE /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should delete a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.type).toBe(purchaseTypes[0].type);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[0]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;366d3307-1298-4c6f-a3c8-56b23f97189e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should not delete a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    PurchaseType.findById(purchaseTypes[0]._id)\n      .then(purchaseType =&gt; {\n        expect(purchaseType).toBeTruthy();\n        expect(purchaseType.type).toBe(purchaseTypes[0].type);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;755ada2e-751c-4a35-a5a3-da9072745109&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;366d3307-1298-4c6f-a3c8-56b23f97189e&quot;,&quot;755ada2e-751c-4a35-a5a3-da9072745109&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:445,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9d788479-d730-4940-8265-43b898ef44ea&quot;,&quot;title&quot;:&quot;TODOS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;TODOS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:570,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;10c16177-67e9-41e9-b8a6-3993d73436ed&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateTodos&quot;,&quot;fullTitle&quot;:&quot;TODOS \&quot;before each\&quot; hook: populateTodos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;Todo.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var todoOne = new Todo(todos[0]).save();\n    var todoTwo = new Todo(todos[1]).save();\n    var todoThree = new Todo(todos[2]).save();\n    return Promise.all([todoOne, todoTwo, todoThree]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2b2ba291-8940-43f2-8579-d4c1285143cd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;004e7231-71c6-4102-8346-3962628e3c3b&quot;,&quot;title&quot;:&quot;GET /todos&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a users todos&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todos should return a users todos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(2);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ff3587c6-a057-4fc1-9e85-2d617ff7ab03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a users todos if not logged in&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todos should not return a users todos if not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/todos\&quot;)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;82ac027a-3094-458a-b29d-df8622d43116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ff3587c6-a057-4fc1-9e85-2d617ff7ab03&quot;,&quot;82ac027a-3094-458a-b29d-df8622d43116&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:183,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a6e6a844-c5e4-455f-b40f-0bc4c70cbdeb&quot;,&quot;title&quot;:&quot;POST /todos&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new todo for the logged in user&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should create a new todo for the logged in user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;The newest todo\&quot;,\n    creator: users[1]._id\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;The newest todo\&quot;);\n    expect(res.body.creator).toBe(users[1]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;eb6d446a-3c6c-4f4e-bf88-d2e0f6706877&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new todo for a user who is not logged in&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should not create a new todo for a user who is not logged in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .send({\n    desc: \&quot;The newest todo\&quot;,\n    creator: users[1]._id\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Authorization failed\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;22408f0a-0564-4d60-9e3e-2ea962794e59&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new todo with missing description&quot;,&quot;fullTitle&quot;:&quot;TODOS POST /todos should not create a new todo with missing description&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/todos\&quot;)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;\&quot;,\n    creator: users[1]._id\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;Todo description is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9cf30594-3b0f-4929-9cb8-d7115eace351&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb6d446a-3c6c-4f4e-bf88-d2e0f6706877&quot;,&quot;22408f0a-0564-4d60-9e3e-2ea962794e59&quot;,&quot;9cf30594-3b0f-4929-9cb8-d7115eace351&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:275,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f2484ea0-3528-4c1d-97bb-f5a4caefd9c1&quot;,&quot;title&quot;:&quot;GET /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todo/:id should return the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:270,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(todos[0].desc);\n    expect(res.body.creator._id).toBe(users[1]._id.toHexString());\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b318cba9-c8f2-43d4-8840-a8eb5f920eae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS GET /todo/:id should not return another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:258,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBeFalsy();\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d80050b0-dff8-4342-9340-68f9d2ea1778&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b318cba9-c8f2-43d4-8840-a8eb5f920eae&quot;,&quot;d80050b0-dff8-4342-9340-68f9d2ea1778&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:528,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1396c1a4-f470-4f17-9d62-ef1f9f7e29d3&quot;,&quot;title&quot;:&quot;PATCH /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should update the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;a new description\&quot;,\n    creator: users[1]._id\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;a new description\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;377c6abd-ecf8-43aa-b830-2e0cf471b0da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should not update another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send({\n    desc: \&quot;a new description\&quot;,\n    creator: users[1]._id\n  })\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBeFalsy();\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d73e2b89-31d7-4c95-a5ee-38a6d786b869&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update user&#x27;s todo with validation errors&quot;,&quot;fullTitle&quot;:&quot;TODOS PATCH /todo/:id should not update user&#x27;s todo with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .send({\n    desc: \&quot;\&quot;,\n    creator: users[1]._id\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(\&quot;Todo description is required\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;811b46ea-ddf9-47cf-87e4-32d3b55aa205&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;377c6abd-ecf8-43aa-b830-2e0cf471b0da&quot;,&quot;d73e2b89-31d7-4c95-a5ee-38a6d786b869&quot;,&quot;811b46ea-ddf9-47cf-87e4-32d3b55aa205&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:449,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;40865bc8-0c87-40ba-b392-6694546ac295&quot;,&quot;title&quot;:&quot;DELETE /todo/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\todos.test.js&quot;,&quot;file&quot;:&quot;\\tests\\todos.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete the users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS DELETE /todo/:id should delete the users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[1].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.desc).toBe(todos[0].desc);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d29d8ce1-cf32-4f57-9482-9d6f3814599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete another users todo&quot;,&quot;fullTitle&quot;:&quot;TODOS DELETE /todo/:id should not delete another users todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/todos/${todos[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(401)\n  .expect(res =&gt; {\n    expect(res.body.todo).toBe(\&quot;You cannot access this todo\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bdad006e-f9cb-4f61-b137-1df647b26931&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d29d8ce1-cf32-4f57-9482-9d6f3814599e&quot;,&quot;bdad006e-f9cb-4f61-b137-1df647b26931&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:357,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3a7acc8f-e242-423f-aeb3-8cdabf3b9b9b&quot;,&quot;title&quot;:&quot;USERS&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;USERS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:567,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.remove({})\n  .then(() =&gt; {\n    // generate the hash/salted password for the users.\n    var userOne = new User(users[0]).save().then(user =&gt; {\n      users[0].token = user.generateAuthToken();\n    });\n    var userTwo = new User(users[1]).save().then(user =&gt; {\n      users[1].token = user.generateAuthToken();\n    });\n    var userThree = new User(users[2]).save();\n    var userFour = new User(users[3]).save();\n    return Promise.all([userOne, userTwo, userThree, userFour]);\n  })\n  .then(() =&gt; done())\n  .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9e2658ca-a91d-41e1-92a8-a372f2376bf1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;63a17e37-4b81-498f-a00c-6e03b894791e&quot;,&quot;title&quot;:&quot;GET /users&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of users&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users should return an array of users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.length).toBe(users.length);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ca7c4424-c2e1-4471-9afd-4d4ecb907e0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ca7c4424-c2e1-4471-9afd-4d4ecb907e0f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:178,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d35afe5b-9667-4e4d-8ae5-a21f069cc93b&quot;,&quot;title&quot;:&quot;POST /users&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new user&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:636,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newUser)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.username).toBe(newUser.username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.firstName).toBe(newUser.firstName);\n        expect(user.password).not.toBe(newUser.password);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;df175f60-e62b-4dc8-9281-d60bafa97f4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should not create a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = \&quot;amessedupemail\&quot;;\nnewUser.phone = \&quot;(559) 999-1111\&quot;;\nnewUser.validated = \&quot;hello\&quot;;\nrequest(app)\n  .post(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(newUser)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.email).toBe(\&quot;Must enter a valid email\&quot;);\n    expect(res.body.phone).toBe(\n      \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n    );\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findOne({ username: newUser.username })\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b5b093e9-5284-43d8-af83-08c1a23e47b2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;df175f60-e62b-4dc8-9281-d60bafa97f4f&quot;,&quot;b5b093e9-5284-43d8-af83-08c1a23e47b2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:815,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b582e3a3-9008-4be5-a6bd-b96766eacc13&quot;,&quot;title&quot;:&quot;GET /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/users/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ff1404dc-dc3b-4957-942b-10ed59d32a52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should not return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/api/users/${users[0]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n    expect(res.body.username).not.toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;155a8884-e2e8-4ef3-9a57-dee042216c0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ff1404dc-dc3b-4957-942b-10ed59d32a52&quot;,&quot;155a8884-e2e8-4ef3-9a57-dee042216c0a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5e8bfd63-16ad-4200-b8f7-1f3e8a7cecde&quot;,&quot;title&quot;:&quot;PATCH /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should update and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;users[1].validated = true;\nrequest(app)\n  .patch(`/api/users/${users[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(users[1])\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.username).toBe(users[1].username);\n    expect(res.body.validated).toBe(true);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user.validated).toBe(true);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fa11bb07-2871-47fe-af11-9464c2b53198&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .patch(`/api/users/${users[1]._id}ssss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(users[1])\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.auth).toBe(\&quot;Invalid ID\&quot;);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0b5e082a-b144-4336-bf4f-5afe21f63439&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData = {\n  firstName: \&quot;Brian\&quot;,\n  lastName: \&quot;Peter\&quot;,\n  middleInitial: \&quot;L\&quot;,\n  suffix: \&quot;Sr\&quot;,\n  username: \&quot;blpsr\&quot;,\n  password: \&quot;thePassword\&quot;,\n  email: \&quot;gbr@test.com\&quot;,\n  phone: \&quot;5559991224\&quot;,\n  title: \&quot;Manager\&quot;,\n  type: \&quot;Staff\&quot;,\n  validated: \&quot;someWrongValidation\&quot;\n};\nrequest(app)\n  .patch(`/api/users/${users[1]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .send(userData)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.validated).toBe(\n      \&quot;You must select whether the user is validated\&quot;\n    );\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user.validated).toBe(true);\n        expect(user.firstName).toBe(\&quot;Brian\&quot;);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;017e267e-f253-420c-bf27-b9ece9e74ff0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa11bb07-2871-47fe-af11-9464c2b53198&quot;,&quot;0b5e082a-b144-4336-bf4f-5afe21f63439&quot;,&quot;017e267e-f253-420c-bf27-b9ece9e74ff0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:541,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fc91a126-888e-4d7e-a9bd-f939369dc102&quot;,&quot;title&quot;:&quot;DELETE /users/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should delete and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:267,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/users/${users[0]._id}`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[0]._id.toHexString())\n      .then(user =&gt; {\n        expect(user).toBeFalsy();\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9c2c1688-e874-430e-accd-aef207a33e62&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should not delete and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/api/users/${users[1]._id}sss`)\n  .set(\&quot;Authorization\&quot;, users[0].token)\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n    expect(res.body.username).not.toBe(users[1].username);\n  })\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id.toHexString())\n      .then(user =&gt; {\n        expect(user).toBeTruthy();\n        expect(user.username).toBe(users[1].username);\n        done();\n      })\n      .catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fe0a9d05-0c8c-4ec7-98d6-375130b87256&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9c2c1688-e874-430e-accd-aef207a33e62&quot;,&quot;fe0a9d05-0c8c-4ec7-98d6-375130b87256&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:442,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000},&quot;copyrightYear&quot;:2019}" data-config="{&quot;reportFilename&quot;:&quot;alltests&quot;,&quot;reportDir&quot;:&quot;tests/reports&quot;,&quot;reportTitle&quot;:&quot;gbr-mern&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;tests\\reports\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\reports\\alltests.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Programming\\gbr-mern\\tests\\reports\\alltests.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>