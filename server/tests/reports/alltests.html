<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:51,&quot;tests&quot;:91,&quot;passes&quot;:91,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2018-05-24T01:00:05.983Z&quot;,&quot;end&quot;:&quot;2018-05-24T01:00:56.045Z&quot;,&quot;duration&quot;:50062,&quot;testsRegistered&quot;:91,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;8496d7e9-fc2e-41d5-815f-062f61ab7120&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e8983298-49b2-431f-ada3-07b903176299&quot;,&quot;title&quot;:&quot;CONTAINERS&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1322,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  User.remove({})\n    .then(() =&gt; {\n      // generate the hash/salted password for the users.\n      var userOne = new User(users[0]).save().then(user =&gt; {\n        users[0].token = user.generateAuthToken();\n      });\n      var userTwo = new User(users[1]).save();\n      var userThree = new User(users[2]).save();\n      return Promise.all([userOne, userTwo, userThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0f827e0e-2179-43d8-a883-65a62e34d24c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerSizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:165,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  ContainerSize.remove({})\n    .then(() =&gt; {\n      var twenty = new ContainerSize(containerSizes[0]).save();\n      var fourty = new ContainerSize(containerSizes[1]).save();\n      var twentydoubledoors = new ContainerSize(containerSizes[2]).save();\n      return Promise.all([twenty, fourty, twentydoubledoors]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;64366c4a-fa4f-4784-8213-8ba66f6c79c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainerStats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  ContainerStats.remove({})\n    .then(() =&gt; {\n      var twenty = new ContainerStats(containerStats[0]).save();\n      var fourty = new ContainerStats(containerStats[1]).save();\n      var twentydoubledoors = new ContainerStats(containerStats[2]).save();\n      return Promise.all([twenty, fourty, twentydoubledoors]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;12f47b71-eefc-4c53-89d0-920ed67a6faf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateContainers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS \&quot;before each\&quot; hook: populateContainers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:169,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  Container.remove({})\n    .then(() =&gt; {\n      var twenty = new Container(containers[0]).save();\n      var fourty = new Container(containers[1]).save();\n      var twentydoubledoors = new Container(containers[2]).save();\n      return Promise.all([twenty, fourty, twentydoubledoors]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0e2b3140-efef-4395-a4db-268f769f9d53&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;62ce75bc-dfe9-4a06-b699-eafbda72e0ee&quot;,&quot;title&quot;:&quot;GET /containers/sizes&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of container sizes&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes should return an array of container sizes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:196,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(\&quot;/api/containers/sizes\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.length).toBe(3);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;06602d23-2a0f-4371-a7d1-c559918a4ab0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;06602d23-2a0f-4371-a7d1-c559918a4ab0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:196,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8c6712c3-a36b-4474-bb9d-e183618ef760&quot;,&quot;title&quot;:&quot;POST /containers/sizes&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should create a new container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:353,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/containers/sizes\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({ size: \&quot;20C\&quot; })\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.size).toBe(\&quot;20C\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          ContainerSize.findOne({ size: \&quot;20C\&quot; })\n            .then(size =&gt; {\n              expect(size).toBeTruthy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;93c8a57d-3a92-4b85-ac1c-e65871b5b450&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container size with invalid input&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/sizes should not create a new container size with invalid input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/containers/sizes\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({ size: \&quot;\&quot; })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          ContainerSize.findOne({ size: \&quot;20C\&quot; })\n            .then(size =&gt; {\n              expect(size).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8bd61966-2f4c-49ea-ba01-ed1305c1e56d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;93c8a57d-3a92-4b85-ac1c-e65871b5b450&quot;,&quot;8bd61966-2f4c-49ea-ba01-ed1305c1e56d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:525,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1d80d8b8-018a-41e8-8f0b-186c9976dbc6&quot;,&quot;title&quot;:&quot;GET /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a specific container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should return a specific container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/containers/sizes/${containerSizes[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body._id).toBe(containerSizes[0]._id.toHexString());\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;439d0952-d3bb-450d-bc78-a361b60beb6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a specific container size with invalid :id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/sizes/:id should not return a specific container size with invalid :id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/containers/sizes/${containerSizes[0]._id}sss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ed74d9b4-4037-43d6-bab8-2380e6deae9c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;439d0952-d3bb-450d-bc78-a361b60beb6f&quot;,&quot;ed74d9b4-4037-43d6-bab8-2380e6deae9c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:255,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9e285200-764b-4afc-9233-925dd7eb5460&quot;,&quot;title&quot;:&quot;PATCH /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should patch a container size successfully&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should patch a container size successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:334,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({ size: \&quot;10\&quot; })\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.size).toBe(\&quot;10\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          ContainerSize.findById(containerSizes[0]._id)\n            .then(containerSize =&gt; {\n              expect(containerSize).toBeTruthy();\n              expect(containerSize.size).toBe(\&quot;10\&quot;);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a5352378-d6c2-4430-a9c4-452681b6f852&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({ size: \&quot;\&quot; })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.size).toBeTruthy();\n          expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          ContainerSize.findById(containerSizes[0]._id)\n            .then(containerSize =&gt; {\n              expect(containerSize).toBeTruthy();\n              expect(containerSize.size).toBe(\&quot;20\&quot;);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;73a7cc56-8d49-44ad-9bcc-fe55a974b84d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/containers/sizes/${containerSizes[0]._id}ss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({ size: \&quot;\&quot; })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.size).toBeTruthy();\n          expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1826f646-0b19-4b34-afca-b6e720bb8b65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container size with size that exists&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/sizes/:id should not patch a container size with size that exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/containers/sizes/${containerSizes[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({ size: \&quot;40\&quot; })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.size).toBeTruthy();\n          expect(res.body.size).toBe(\&quot;That size already exists\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;477d9a44-e713-4f06-91de-0c67fbe513f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5352378-d6c2-4430-a9c4-452681b6f852&quot;,&quot;73a7cc56-8d49-44ad-9bcc-fe55a974b84d&quot;,&quot;1826f646-0b19-4b34-afca-b6e720bb8b65&quot;,&quot;477d9a44-e713-4f06-91de-0c67fbe513f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:750,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;77fe50da-2e61-4442-a31f-d1c6a72cd0a6&quot;,&quot;title&quot;:&quot;DELETE /containers/sizes/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete the container size&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should delete the container size&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:250,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/containers/sizes/${containerSizes[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.size).toBe(containerSizes[0].size);\n        })\n        .end(err =&gt; {\n          if (err) {\n            done(err);\n          }\n          ContainerSize.findById(containerSizes[0]._id)\n            .then(containerSize =&gt; {\n              expect(containerSize).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c08ad2cd-efc6-4114-b3d5-23fba8f36f33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete the container size with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/sizes/:id should not delete the container size with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/containers/sizes/${containerSizes[0]._id}ssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.size).toBeTruthy();\n          expect(res.body.size).toBe(\&quot;There was no size found\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            done(err);\n          }\n          ContainerSize.findById(containerSizes[0]._id)\n            .then(containerSize =&gt; {\n              expect(containerSize).toBeTruthy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;32967a3b-4ed7-4171-a4a3-e009496444b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c08ad2cd-efc6-4114-b3d5-23fba8f36f33&quot;,&quot;32967a3b-4ed7-4171-a4a3-e009496444b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:416,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;64ea811f-d2ac-4e1e-8f25-9ffd56a349d1&quot;,&quot;title&quot;:&quot;GET /containers/&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of containers&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/ should return an array of containers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:283,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(\&quot;/api/containers/\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.length).toBe(3);\n          // Check to see if each container has a size and stats.\n          expect(res.body[0].size).not.toBe(null);\n          expect(res.body[1].size).not.toBe(null);\n          expect(res.body[2].size).not.toBe(null);\n          expect(res.body[0].stats).not.toBe(null);\n          expect(res.body[1].stats).not.toBe(null);\n          expect(res.body[2].stats).not.toBe(null);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ee8b561b-d73e-47b7-9635-e799555bfe40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ee8b561b-d73e-47b7-9635-e799555bfe40&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:283,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;da0483be-ac27-4eae-8bfa-23f8482ef434&quot;,&quot;title&quot;:&quot;POST /containers/&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should create a new container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:345,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/containers/\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newContainer)\n        // .expect(200)\n        .expect(res =&gt; {\n          // Check to see if each container has a size and stats.\n          expect(res.body.size).not.toBe(null);\n          expect(res.body.stats).not.toBe(null);\n        })\n        .end(err =&gt; {\n          if (err) {\n            done(err);\n          }\n          Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n            .then(container =&gt; {\n              expect(container).toBeTruthy();\n              expect(container.size).not.toBe(null);\n              expect(container.stats).not.toBe(null);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;59a1c740-4f84-4e86-b6c6-53879aca38b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new container with validation errors&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS POST /containers/ should not create a new container with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newContainer.rentalResale = \&quot;\&quot;;\n      newContainer.hasOnBoxNumbers = 123;\n      newContainer.hasShelves = 123;\n      newContainer.hasSigns = 123;\n      newContainer.isPainted = 123;\n      request(app)\n        .post(\&quot;/api/containers/\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newContainer)\n        // .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.container).toBeFalsy();\n          // Check to see if each container has a size and stats.\n          expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n          expect(res.body.hasShelves).toBe(\n            \&quot;You must select whether the container has shelves or not\&quot;\n          );\n          expect(res.body.isPainted).toBe(\n            \&quot;You must select whether the container is painted or not\&quot;\n          );\n          expect(res.body.hasOnBoxNumbers).toBe(\n            \&quot;You must select whether the container has GBR numbers or not\&quot;\n          );\n          expect(res.body.hasSigns).toBe(\n            \&quot;You must select whether the container has signs or not\&quot;\n          );\n        })\n        .end(err =&gt; {\n          if (err) {\n            done(err);\n          }\n          Container.findOne({ serialNumber: \&quot;123456727\&quot; })\n            .then(container =&gt; {\n              expect(container).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d8b578c6-91a2-488b-b4eb-d45415ea3b37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;59a1c740-4f84-4e86-b6c6-53879aca38b0&quot;,&quot;d8b578c6-91a2-488b-b4eb-d45415ea3b37&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:517,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5a4bd79e-8f9c-49d7-b608-cb7d5c3e9a59&quot;,&quot;title&quot;:&quot;GET /containers/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:249,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/containers/${containers[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.serialNumber).toBe(containers[0].serialNumber);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0462892c-fba1-400a-9621-4ddac0688ca6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a container with invalid id&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS GET /containers/:id should not return a container with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/containers/${containers[0]._id}sss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d7de5a9e-9b7f-4b96-846a-f0befc048dbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0462892c-fba1-400a-9621-4ddac0688ca6&quot;,&quot;d7de5a9e-9b7f-4b96-846a-f0befc048dbc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:333,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6cd9a69c-944d-435e-83be-46219d49c1b2&quot;,&quot;title&quot;:&quot;PATCH /containers/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should return a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:500,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      patchData = {\n        gbrNumber: containers[1].gbrNumber,\n        releaseNumber: containers[1].releaseNumber,\n        size: containers[1].size.toHexString(),\n        serialNumber: containers[1].serialNumber,\n        hasShelves: true,\n        isPainted: true,\n        hasOnBoxNumbers: true,\n        hasSigns: true,\n        rentalResale: \&quot;Rental\&quot;,\n        isFlagged: true,\n        flagReason: \&quot;Container is super damaged\&quot;,\n        stats: containers[1].stats.toHexString(),\n        currentRentee: null,\n        previousRentees:\n          \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n        currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n        currentlyRented: false\n      };\n      request(app)\n        .patch(`/api/containers/${containers[1]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(patchData)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.hasOnBoxNumbers).toBe(patchData.hasOnBoxNumbers);\n          expect(res.body.hasSigns).toBe(patchData.hasSigns);\n          expect(res.body.hasShelves).toBe(patchData.hasShelves);\n          expect(res.body.isPainted).toBe(patchData.isPainted);\n          expect(res.body.isFlagged).toBe(patchData.isFlagged);\n          expect(res.body.flagReason).toBe(patchData.flagReason);\n          expect(res.body.stats.currentAddress).toBe(patchData.currentAddress);\n          expect(res.body.stats.currentRentee).toBe(null);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e63da1b9-53e8-4c79-8dcb-74fedeca78f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      patchData = {\n        gbrNumber: containers[1].gbrNumber,\n        releaseNumber: containers[1].releaseNumber,\n        size: \&quot;\&quot;,\n        serialNumber: containers[1].serialNumber,\n        hasShelves: true,\n        isPainted: true,\n        hasOnBoxNumbers: true,\n        hasSigns: true,\n        isFlagged: true,\n        flagReason: \&quot;Container is super damaged\&quot;,\n        stats: containers[1].stats.toHexString(),\n        currentRentee: null,\n        rentalResale: \&quot;\&quot;,\n        currentAddress: \&quot;\&quot;,\n        currentlyRented: \&quot;\&quot;,\n        previousRentees:\n          \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;\n      };\n      request(app)\n        .patch(`/api/containers/${containers[1]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(patchData)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.container).toBeFalsy();\n          expect(res.body.size).toBe(\&quot;Size is required\&quot;);\n          expect(res.body.currentlyRented).toBe(\n            \&quot;You must select whether the container is currently rented\&quot;\n          );\n          expect(res.body.currentAddress).toBe(\&quot;Current address is required\&quot;);\n          expect(res.body.rentalResale).toBe(\&quot;Select rental or resale\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;62c75404-d8ca-4473-9e3e-13d5e12de32f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not patch a container with invalid fields&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS PATCH /containers/:id should not patch a container with invalid fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      patchData = {\n        gbrNumber: containers[1].gbrNumber,\n        releaseNumber: containers[1].releaseNumber,\n        size: containers[1].size.toHexString(),\n        serialNumber: containers[1].serialNumber,\n        hasShelves: true,\n        isPainted: true,\n        hasOnBoxNumbers: true,\n        hasSigns: true,\n        rentalResale: \&quot;Rental\&quot;,\n        isFlagged: true,\n        flagReason: \&quot;Container is super damaged\&quot;,\n        stats: containers[1].stats.toHexString(),\n        currentRentee: null,\n        previousRentees:\n          \&quot;5aefceb5fd938b204046c428,5aefceb5fd938b204046c429,5aefceb5fd938b204046c42a,5aefceb5fd938b204046c42b,5aefceb5fd938b204046c427\&quot;,\n        currentAddress: \&quot;1733 S. Casablanca St., Visalia, CA 93292\&quot;,\n        currentlyRented: false\n      };\n      request(app)\n        .patch(`/api/containers/${containers[1]._id}ss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(patchData)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9393a145-07e5-4109-89e6-3f287fb10987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e63da1b9-53e8-4c79-8dcb-74fedeca78f7&quot;,&quot;62c75404-d8ca-4473-9e3e-13d5e12de32f&quot;,&quot;9393a145-07e5-4109-89e6-3f287fb10987&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:672,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a6e605e1-4562-45f5-8f86-f9bf29408d1a&quot;,&quot;title&quot;:&quot;DELETE /containers/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\containers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\containers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a container&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should delete a container&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:330,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/containers/${containers[1]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body._id).toBe(containers[1]._id.toHexString());\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          Container.findById(containers[1]._id)\n            .then(container =&gt; {\n              expect(container).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;adb6d358-ea75-4524-997f-a66212e936c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a container with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CONTAINERS DELETE /containers/:id should not delete a container with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/containers/${containers[1]._id}sss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.container).toBe(\&quot;There was no container found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4c57b9da-ca2c-4d7f-ab3c-0a9d40bf85ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;adb6d358-ea75-4524-997f-a66212e936c7&quot;,&quot;4c57b9da-ca2c-4d7f-ab3c-0a9d40bf85ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:415,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;57a729d9-f0de-47b3-bbef-824f927caa76&quot;,&quot;title&quot;:&quot;CUSTOMERS&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:548,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  User.remove({})\n    .then(() =&gt; {\n      // generate the hash/salted password for the users.\n      var userOne = new User(users[0]).save().then(user =&gt; {\n        users[0].token = user.generateAuthToken();\n      });\n      var userTwo = new User(users[1]).save();\n      var userThree = new User(users[2]).save();\n      return Promise.all([userOne, userTwo, userThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;12614122-ccef-4401-8a5e-80488b1b2636&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateCustomers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS \&quot;before each\&quot; hook: populateCustomers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:169,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  Customer.remove({})\n    .then(() =&gt; {\n      var customerOne = new Customer(customers[0]).save();\n      var customerTwo = new Customer(customers[1]).save();\n      var customerThree = new Customer(customers[2]).save();\n      return Promise.all([customerOne, customerTwo, customerThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;375f8482-e5fb-4dc9-87e3-b73ba2b49e93&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5dc16d44-6dd1-48fd-ba43-eafbd3f87076&quot;,&quot;title&quot;:&quot;GET /customers&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of customers&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers should return an array of customers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(\&quot;/api/customers\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.length).toBe(customers.length);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7801d3a2-62cf-410f-894b-ef0a0b2053a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7801d3a2-62cf-410f-894b-ef0a0b2053a2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:173,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8e623227-d56f-4926-9d9d-8fc0ba315dab&quot;,&quot;title&quot;:&quot;POST /customers&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new customer and update last viewed&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should create a new customer and update last viewed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:342,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/customers\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newCustomer)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(newCustomer.name);\n          expect(res.body.lastViewed).not.toBe(null);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          Customer.findOne({ name: newCustomer.name })\n            .then(customer =&gt; {\n              expect(customer).toBeTruthy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d91667ea-84d1-489c-a22c-4ff256ea8b79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS POST /customers should not create a new customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/customers\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(badCustomer)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n          expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n          expect(res.body.city).toBe(\&quot;City is required\&quot;);\n          expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n          expect(res.body.state).toBe(\&quot;State is required\&quot;);\n          expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n          expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n          expect(res.body.isFlagged).toBe(\n            \&quot;You must select whether the customer has a flag or not\&quot;\n          );\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          Customer.findOne({ name: newCustomer.name })\n            .then(customer =&gt; {\n              expect(customer).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c462ddd9-f7d0-4d19-85ef-888e8fcf5a8b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d91667ea-84d1-489c-a22c-4ff256ea8b79&quot;,&quot;c462ddd9-f7d0-4d19-85ef-888e8fcf5a8b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:509,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5cf99d6b-bf61-497a-97b9-a616777de3e3&quot;,&quot;title&quot;:&quot;GET /customers/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a customer with updated last viewed property&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should return a customer with updated last viewed property&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/customers/${customers[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(customers[0].name);\n          expect(res.body.lastViewed).not.toBe(null);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;05cbda38-7052-4fd2-919d-8d9345775fda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS GET /customers/:id should not return user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/customers/${customers[0]._id}ssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;34215dd5-0b35-4ae3-beda-750cb2df95ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;05cbda38-7052-4fd2-919d-8d9345775fda&quot;,&quot;34215dd5-0b35-4ae3-beda-750cb2df95ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:251,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8c3fb338-9978-4977-ac81-a4e1197b1fe2&quot;,&quot;title&quot;:&quot;PATCH /customers/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer &amp; return the customer&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should update a customer &amp; return the customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:251,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/customers/${customers[1]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({\n          name: \&quot;Jacob Belmont\&quot;,\n          address1: \&quot;1234 Loopy St\&quot;,\n          address2: \&quot;\&quot;,\n          city: \&quot;Hanford\&quot;,\n          zipcode: \&quot;93230\&quot;,\n          state: \&quot;CA\&quot;,\n          phone: \&quot;559-444-4444\&quot;,\n          ext: \&quot;123\&quot;,\n          fax: \&quot;559-444-4448\&quot;,\n          email: \&quot;another@fake.com\&quot;,\n          rdp: \&quot;\&quot;,\n          notes: \&quot;Customer requires quote everytime before orders\&quot;,\n          isFlagged: false,\n          flagReason: \&quot;\&quot;,\n          lastViewed: null\n        })\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(\&quot;Jacob Belmont\&quot;);\n          expect(res.body.isFlagged).toBe(false);\n          expect(res.body.flagReason).toBe(\&quot;\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          Customer.findById(customers[1]._id)\n            .then(customer =&gt; {\n              expect(customer).toBeTruthy();\n              expect(customer.name).toBe(\&quot;Jacob Belmont\&quot;);\n              expect(customer.isFlagged).toBe(false);\n              expect(customer.flagReason).toBe(\&quot;\&quot;);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a5e08d0e-7c4c-4c14-a417-b7517893d2f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update the customer with validation errors&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update the customer with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/customers/${customers[2]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({\n          name: \&quot;\&quot;,\n          address1: \&quot;\&quot;,\n          address2: \&quot;\&quot;,\n          city: \&quot;\&quot;,\n          zipcode: \&quot;\&quot;,\n          state: \&quot;\&quot;,\n          phone: \&quot;\&quot;,\n          ext: \&quot;123\&quot;,\n          fax: \&quot;559-444-4448\&quot;,\n          email: \&quot;failemail.com\&quot;,\n          rdp: \&quot;\&quot;,\n          notes: \&quot;Customer requires quote everytime before orders\&quot;,\n          isFlagged: \&quot;messedup\&quot;,\n          flagReason: \&quot;Do not rent, patient hasn&#x27;t paid bill.\&quot;,\n          lastViewed: null\n        })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n          expect(res.body.address).toBe(\&quot;Address is required\&quot;);\n          expect(res.body.city).toBe(\&quot;City is required\&quot;);\n          expect(res.body.zipcode).toBe(\&quot;Zipcode is required\&quot;);\n          expect(res.body.state).toBe(\&quot;State is required\&quot;);\n          expect(res.body.phone).toBe(\&quot;Phone is required\&quot;);\n          expect(res.body.email).toBe(\&quot;Email is invalid\&quot;);\n          expect(res.body.isFlagged).toBe(\n            \&quot;You must select whether the customer has a flag or not\&quot;\n          );\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;23d99d71-2001-428f-b0c4-b42b0ae546b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS PATCH /customers/:id should not update customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:82,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/customers/${customers[0]._id}ssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({})\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ff036a55-1b89-4396-b84f-8ab1a65ad7af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5e08d0e-7c4c-4c14-a417-b7517893d2f7&quot;,&quot;23d99d71-2001-428f-b0c4-b42b0ae546b1&quot;,&quot;ff036a55-1b89-4396-b84f-8ab1a65ad7af&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:418,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4d46ebe5-f965-449b-bc64-171b4a7b2f41&quot;,&quot;title&quot;:&quot;DELETE /customers/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\customers.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer return the customers data&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should delete a customer return the customers data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/customers/${customers[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(customers[0].name);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          Customer.findById(customers[0]._id)\n            .then(customer =&gt; {\n              expect(customer).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d34858bc-024c-43c5-9fd9-76e67d6643eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete customer with incorrect ID.&quot;,&quot;fullTitle&quot;:&quot;CUSTOMERS DELETE /customers/:id should not delete customer with incorrect ID.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/customers/${customers[0]._id}ssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.customer).toBe(\&quot;There was no customer found\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          Customer.findById(customers[0]._id)\n            .then(customer =&gt; {\n              expect(customer).toBeTruthy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;baadb0b0-95aa-42b0-ab29-9026fc9a3bd5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d34858bc-024c-43c5-9fd9-76e67d6643eb&quot;,&quot;baadb0b0-95aa-42b0-ab29-9026fc9a3bd5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:419,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;10c1b7d7-d13b-49c2-a0c1-52130d4c1322&quot;,&quot;title&quot;:&quot;DEFAULTS&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:488,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  User.remove({})\n    .then(() =&gt; {\n      // generate the hash/salted password for the users.\n      var userOne = new User(users[0]).save().then(user =&gt; {\n        users[0].token = user.generateAuthToken();\n      });\n      var userTwo = new User(users[1]).save();\n      var userThree = new User(users[2]).save();\n      return Promise.all([userOne, userTwo, userThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;997228f8-2989-4810-aab0-bb00e2004ed2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8c33a816-f232-4ee5-aded-bf06c844d95b&quot;,&quot;title&quot;:&quot;POST /register&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should register a new user&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should register a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:439,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/register\&quot;)\n        .send(newUser)\n        .expect(200)\n        .expect(res =&gt; {\n          // Check to see if body contains users information. If so,\n          // then the user&#x27;s information was passed back meaning it succeeded.\n          expect(res.body.username).toBe(newUser.username);\n          expect(res.body.password).not.toBe(newUser.password);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check if user was saved in DB.\n          User.findOne({ username: newUser.username })\n            .then(user =&gt; {\n              expect(user).toBeTruthy();\n              expect(user.password).not.toBe(newUser.password);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b1ee24a1-a036-4a7f-94a6-62188697ab18&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:91,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      // Set invalid properties to newUser.\n      newUser.email = \&quot;amessedupemail\&quot;;\n      newUser.phone = \&quot;(559) 999-1111\&quot;;\n      request(app)\n        .post(\&quot;/api/register\&quot;)\n        .send(newUser)\n        .expect(400)\n        .expect(res =&gt; {\n          // Check to see if validation errors are there.\n          expect(res.body.email).toBe(\&quot;Must enter a valid email.\&quot;);\n          expect(res.body.phone).toBe(\n            \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n          );\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check if user was saved in DB.\n          User.findOne({ username: newUser.username })\n            .then(user =&gt; {\n              expect(user).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0a11475a-bf13-4865-9471-b6a575f1fbba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already taken username&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already taken username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newUser.email = \&quot;jboy@test.com\&quot;;\n      newUser.phone = \&quot;5559992222\&quot;;\n      newUser.username = users[0].username;\n      request(app)\n        .post(\&quot;/api/register\&quot;)\n        .send(newUser)\n        .expect(400)\n        .expect(res =&gt; {\n          // Check to see if validation errors are there.\n          expect(res.body.username).toBe(\&quot;Username already exists.\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check if user was saved in DB.\n          User.findOne({ email: newUser.email })\n            .then(user =&gt; {\n              expect(user).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ef8fc92e-ac20-44c4-8957-5461748aa764&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a new user with an already used email&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /register should not register a new user with an already used email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newUser.email = users[0].email;\n      newUser.phone = \&quot;5559992222\&quot;;\n      newUser.username = \&quot;jboy\&quot;;\n      request(app)\n        .post(\&quot;/api/register\&quot;)\n        .send(newUser)\n        .expect(400)\n        .expect(res =&gt; {\n          // Check to see if validation errors are there.\n          expect(res.body.email).toBe(\&quot;Email already exists.\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // If no errors during registration, check to see if newUser was\n          // stored in the database properly.\n          User.findOne({ username: newUser.username })\n            .then(user =&gt; {\n              expect(user).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;28ef6cfd-04a0-40d7-963e-d9394daf89c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b1ee24a1-a036-4a7f-94a6-62188697ab18&quot;,&quot;0a11475a-bf13-4865-9471-b6a575f1fbba&quot;,&quot;ef8fc92e-ac20-44c4-8957-5461748aa764&quot;,&quot;28ef6cfd-04a0-40d7-963e-d9394daf89c9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:952,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c3334d5c-680e-4ccc-b4bf-163eae6e6550&quot;,&quot;title&quot;:&quot;POST /login&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\defaults.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\defaults.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should log a user in and return a token&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should log a user in and return a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:192,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/login\&quot;)\n        .send({\n          username: \&quot;blpj\&quot;,\n          password: \&quot;thePassword\&quot;\n        })\n        .expect(200)\n        .expect(res =&gt; {\n          // check to see if success &amp; token has been created.\n          expect(res.body.success).toBe(true);\n          expect(res.body.token).toBeTruthy();\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;54c1c0aa-b011-425d-adc1-7ea876d75dd9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect username and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect username and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/login\&quot;)\n        .send({\n          username: \&quot;wrongusername\&quot;,\n          password: \&quot;thePassword\&quot;\n        })\n        .expect(401)\n        .expect(res =&gt; {\n          // check to see if success &amp; token has been created.\n          expect(res.body.success).toBeFalsy();\n          expect(res.body.token).toBeFalsy();\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d144f65c-2b79-410f-aa8c-0224bf348359&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in with incorrect password and return error&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in with incorrect password and return error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/login\&quot;)\n        .send({\n          username: \&quot;blpj\&quot;,\n          password: \&quot;theWrongPassword\&quot;\n        })\n        .expect(401)\n        .expect(res =&gt; {\n          // check to see if success &amp; token has been created.\n          expect(res.body.success).toBeFalsy();\n          expect(res.body.token).toBeFalsy();\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e153cf61-ca77-46ec-8d63-be6e22f224ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not log user in without being validated&quot;,&quot;fullTitle&quot;:&quot;DEFAULTS POST /login should not log user in without being validated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/login\&quot;)\n        .send({\n          username: \&quot;blpsr\&quot;,\n          password: \&quot;thePassword\&quot;\n        })\n        .expect(401)\n        .expect(res =&gt; {\n          // check to see if success &amp; token has been created.\n          expect(res.body.success).toBeFalsy();\n          expect(res.body.token).toBeFalsy();\n          expect(res.body.login).toBe(\&quot;Your account is not validated yet\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2c096828-6828-4853-b252-43513782a006&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;54c1c0aa-b011-425d-adc1-7ea876d75dd9&quot;,&quot;d144f65c-2b79-410f-aa8c-0224bf348359&quot;,&quot;e153cf61-ca77-46ec-8d63-be6e22f224ef&quot;,&quot;2c096828-6828-4853-b252-43513782a006&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:657,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;175b37df-7d59-4137-b8f2-5a36348886a6&quot;,&quot;title&quot;:&quot;EVENTS&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:494,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  User.remove({})\n    .then(() =&gt; {\n      // generate the hash/salted password for the users.\n      var userOne = new User(users[0]).save().then(user =&gt; {\n        users[0].token = user.generateAuthToken();\n      });\n      var userTwo = new User(users[1]).save();\n      var userThree = new User(users[2]).save();\n      return Promise.all([userOne, userTwo, userThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e0c03b97-49e4-456c-bd0c-c1779f77b83a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateEvents&quot;,&quot;fullTitle&quot;:&quot;EVENTS \&quot;before each\&quot; hook: populateEvents&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:162,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  CalendarEvent.remove({})\n    .then(() =&gt; {\n      var eventOne = new CalendarEvent(events[0]).save();\n      var eventTwo = new CalendarEvent(events[1]).save();\n      var eventThree = new CalendarEvent(events[2]).save();\n      return Promise.all([eventOne, eventTwo, eventThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;96512350-d77c-4d0f-8af4-438397a4acc4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;46dcdb01-18a0-4576-b485-2186484ba81a&quot;,&quot;title&quot;:&quot;GET /events&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of events&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events should return a list of events&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(\&quot;/api/events\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.length).toBe(events.length);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7bef6cc9-c35b-415f-9f63-bb2c28a015a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7bef6cc9-c35b-415f-9f63-bb2c28a015a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:167,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;045be9f1-95a4-4473-9701-ab99a8347875&quot;,&quot;title&quot;:&quot;POST /events&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new event&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should create a new event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:247,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/events\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newEvent)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.title).toBe(newEvent.title);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          CalendarEvent.findOne({ title: newEvent.title })\n            .then(event =&gt; {\n              expect(event).toBeTruthy();\n              expect(event.title).toBe(newEvent.title);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0e8fc123-6a14-48f8-8224-b9d8120041d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS POST /events should not create a new event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/events\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(badEvent)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n          expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n          expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n          expect(res.body.end).toBe(\&quot;End is required\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          CalendarEvent.findOne({ title: badEvent.title })\n            .then(event =&gt; {\n              expect(event).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c237617c-188f-4f3c-94b2-df85a708f73f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0e8fc123-6a14-48f8-8224-b9d8120041d3&quot;,&quot;c237617c-188f-4f3c-94b2-df85a708f73f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:415,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;325ecbe1-de5a-4330-a0db-85269be2e9a9&quot;,&quot;title&quot;:&quot;GET /events/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should return a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/events/${events[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body._id).toBe(events[0]._id.toHexString());\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aca1ab99-5b29-4778-972b-410656dd4099&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a single event with invalid id&quot;,&quot;fullTitle&quot;:&quot;EVENTS GET /events/:id should not return a single event with invalid id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:86,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/events/${events[0]._id.toHexString()}sssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;18b19c0c-af9b-414b-9bad-2ac8cd7af3a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aca1ab99-5b29-4778-972b-410656dd4099&quot;,&quot;18b19c0c-af9b-414b-9bad-2ac8cd7af3a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:252,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;62e3c000-dcdd-4d67-a5af-16f3397298a1&quot;,&quot;title&quot;:&quot;PATCH /events/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a single event with new information&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should update a single event with new information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:246,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/events/${events[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({\n          title: \&quot;New title\&quot;,\n          color: events[0].color,\n          start: events[0].start,\n          end: events[0].end,\n          order: events[0].order\n        })\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.title).toBe(\&quot;New title\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          CalendarEvent.findById(events[0]._id.toHexString())\n            .then(event =&gt; {\n              expect(event.title).toBe(\&quot;New title\&quot;);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d582b1bc-0f28-4ad5-b718-6a2ab7c73178&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with validation errors&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/events/${events[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({\n          title: \&quot;\&quot;,\n          color: \&quot;\&quot;,\n          start: \&quot;\&quot;,\n          end: \&quot;\&quot;,\n          order: null\n        })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.title).toBe(\&quot;Title must be at least 3 characters\&quot;);\n          expect(res.body.color).toBe(\&quot;Color is required\&quot;);\n          expect(res.body.start).toBe(\&quot;Start is required\&quot;);\n          expect(res.body.end).toBe(\&quot;End is required\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          CalendarEvent.findById(events[0]._id.toHexString())\n            .then(event =&gt; {\n              expect(event.title).toBe(events[0].title);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;afe1de39-a14a-4523-b15a-08c3b77f384c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a single event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS PATCH /events/:id should not update a single event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/events/${events[0]._id.toHexString()}sssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(events[0])\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b86b0ae8-1eff-418b-95bf-b9e8e5b572a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d582b1bc-0f28-4ad5-b718-6a2ab7c73178&quot;,&quot;afe1de39-a14a-4523-b15a-08c3b77f384c&quot;,&quot;b86b0ae8-1eff-418b-95bf-b9e8e5b572a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:501,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9f9eabbf-68ef-4f3e-8ac6-3f9d4ecf6404&quot;,&quot;title&quot;:&quot;DELETE /events/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\events.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\events.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a single event&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should delete a single event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:246,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/events/${events[1]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body._id).toBe(events[1]._id.toHexString());\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          CalendarEvent.findById(events[1]._id.toHexString())\n            .then(event =&gt; {\n              expect(event).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0136e07d-5f50-4628-a929-a269b05768f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete an event with invalid ID&quot;,&quot;fullTitle&quot;:&quot;EVENTS DELETE /events/:id should not delete an event with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/events/${events[1]._id.toHexString()}sss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.event).toBe(\&quot;There was no event found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3df64b23-edab-4136-9dea-d05490be2d98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0136e07d-5f50-4628-a929-a269b05768f5&quot;,&quot;3df64b23-edab-4136-9dea-d05490be2d98&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:335,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;acecd2c7-077e-4238-a646-21f8fcdab940&quot;,&quot;title&quot;:&quot;PRODUCT TYPES&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:490,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  User.remove({})\n    .then(() =&gt; {\n      // generate the hash/salted password for the users.\n      var userOne = new User(users[0]).save().then(user =&gt; {\n        users[0].token = user.generateAuthToken();\n      });\n      var userTwo = new User(users[1]).save();\n      var userThree = new User(users[2]).save();\n      return Promise.all([userOne, userTwo, userThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;af87d65d-6464-4e1c-8d6d-c1a587fe61ec&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES \&quot;before each\&quot; hook: populateProductTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  ProductType.remove({})\n    .then(() =&gt; {\n      var modification = new ProductType(productTypes[0]).save();\n      var container = new ProductType(productTypes[1]).save();\n      var rentalModification = new ProductType(productTypes[2]).save();\n      var delivery = new ProductType(productTypes[3]).save();\n      var pickup = new ProductType(productTypes[4]).save();\n      return Promise.all([\n        modification,\n        container,\n        rentalModification,\n        delivery,\n        pickup\n      ]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;da89ce47-5092-4b35-8736-ee50a183af7a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;da1dff3c-63ce-439c-bbc1-e556c67d4d04&quot;,&quot;title&quot;:&quot;GET /products/types&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of product types&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types should retrieve a array of product types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(\&quot;/api/products/types\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          // check to see if product types array exists.\n          expect(res.body.length).toBe(5);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a2a5e534-f9bc-4e1f-9ea9-7b22f02d6d6d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a2a5e534-f9bc-4e1f-9ea9-7b22f02d6d6d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:173,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;35e90103-e067-4a3f-9ab0-5804109b8647&quot;,&quot;title&quot;:&quot;POST /products/types&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new product type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should create a new product type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:330,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/products/types\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newProductType)\n        .expect(200)\n        .expect(res =&gt; {\n          // check to see if new product type exists.\n          expect(res.body.type).toBe(newProductType.type);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check to see if it was inserted into db properly.\n          ProductType.findOne({ type: newProductType.type })\n            .then(result =&gt; {\n              expect(result.type).toBe(newProductType.type);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;677f18d4-3b9d-4498-981f-a8e9b266aaed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new product type with empty values&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES POST /products/types should not create a new product type with empty values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/products/types\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({ type: \&quot;\&quot; })\n        .expect(400)\n        .expect(res =&gt; {\n          // check to see if new product type exists.\n          expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check to see if it was inserted into db properly.\n          ProductType.findOne({ type: newProductType.type })\n            .then(result =&gt; {\n              expect(result).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;56abc489-1181-449a-a28d-d0ab32fe380a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;677f18d4-3b9d-4498-981f-a8e9b266aaed&quot;,&quot;56abc489-1181-449a-a28d-d0ab32fe380a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:496,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1f7b44a7-e38d-40de-8b5a-d02772ae54a9&quot;,&quot;title&quot;:&quot;GET /products/types/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should retrieve a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\&quot;modification\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1d3c887c-7dff-4b53-96ba-7767834c3311&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if type not found and error message&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES GET /products/types/:id should return a 400 error if type not found and error message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;63698907-75aa-4729-861d-1f8edf22047d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d3c887c-7dff-4b53-96ba-7767834c3311&quot;,&quot;63698907-75aa-4729-861d-1f8edf22047d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:255,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;29f3f37d-fc50-40ef-a9ca-0ee8a45ca103&quot;,&quot;title&quot;:&quot;PATCH /products/types/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should update a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:247,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({\n          type: \&quot;new modification\&quot;\n        })\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\&quot;new modification\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3f4b004d-9420-4749-bc38-045994296723&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error if no type is entered&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should return a 400 error if no type is entered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:86,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\&quot;Type is required\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3f6ee685-e645-4641-b0bd-cfa580a7832e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a type that is in use&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a type that is in use&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({\n          type: \&quot;container\&quot;\n        })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\&quot;That type is already being used\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;65662c46-c27a-4d2e-9bdd-2d717bdb0897&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a type with a messed up ID&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES PATCH /products/types/:id should not update a type with a messed up ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/products/types/${productTypes[0]._id.toHexString()}sss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send({\n          type: \&quot;some new mod\&quot;\n        })\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\n            \&quot;No product found with that ID in the URL\&quot;\n          );\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c865080b-9d56-46d5-9831-eb372b160a53&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3f4b004d-9420-4749-bc38-045994296723&quot;,&quot;3f6ee685-e645-4641-b0bd-cfa580a7832e&quot;,&quot;65662c46-c27a-4d2e-9bdd-2d717bdb0897&quot;,&quot;c865080b-9d56-46d5-9831-eb372b160a53&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:587,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fd5085e5-9502-4acb-8b53-aeed8ceca3d4&quot;,&quot;title&quot;:&quot;DELETE /products/types/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a specific type&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should remove a specific type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/products/types/${productTypes[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(productTypes[0].type);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          ProductType.findById(productTypes[0]._id.toHexString())\n            .then(type =&gt; {\n              expect(type).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b8ba945d-0371-493a-8ace-470f0e454821&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 and an error message if id is invalid&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 400 and an error message if id is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/products/types/${productTypes[0]._id.toHexString()}ss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\&quot;There was no product type found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;51298149-b73e-4a45-bbb2-0b5dfe0f5aa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 and an error message if id is not found&quot;,&quot;fullTitle&quot;:&quot;PRODUCT TYPES DELETE /products/types/:id should return 404 and an error message if id is not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/products/types/${new ObjectID().toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(404)\n        .expect(res =&gt; {\n          expect(res.body.type).toBe(\n            \&quot;Unable to find and remove the product type\&quot;\n          );\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2f42d1be-31bb-4740-9de9-7c2e30f0fe1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b8ba945d-0371-493a-8ace-470f0e454821&quot;,&quot;51298149-b73e-4a45-bbb2-0b5dfe0f5aa4&quot;,&quot;2f42d1be-31bb-4740-9de9-7c2e30f0fe1f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:506,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7d604f40-ae36-4565-b1a0-7b8fd4a120de&quot;,&quot;title&quot;:&quot;PRODUCTS&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateProducts&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS \&quot;before each\&quot; hook: populateProducts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:164,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  Product.remove({})\n    .then(() =&gt; {\n      var lockbox = new Product(products[0]).save();\n      var delivery = new Product(products[1]).save();\n      var container = new Product(products[2]).save();\n      return Promise.all([lockbox, delivery, container]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f97cfbb3-1182-493b-b504-c9fce45039c0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fe850126-7a63-4c45-bc3f-7760ae4a176f&quot;,&quot;title&quot;:&quot;GET /products&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a array of products&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products should retrieve a array of products&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(\&quot;/api/products\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.length).toBe(3);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e1c64442-2e8f-4b6a-bd32-2fb2866c82ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e1c64442-2e8f-4b6a-bd32-2fb2866c82ff&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:252,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b7985957-f10d-46e0-ad6b-e145a46d4fd7&quot;,&quot;title&quot;:&quot;POST /products&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should create a product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:331,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/products\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newProduct)\n        .expect(200)\n        .expect(res =&gt; {\n          // check to see if new product exists.\n          expect(res.body.name).toBe(newProduct.name);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check to see if it was inserted into db properly.\n          Product.findOne({ name: newProduct.name })\n            .then(result =&gt; {\n              expect(result).toBeTruthy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;719b7559-09c9-455a-aa73-925b1706f304&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS POST /products should not create a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newProduct.name = \&quot;\&quot;;\n      newProduct.shortName = \&quot;\&quot;;\n      newProduct.rental = \&quot;\&quot;;\n      newProduct.type = \&quot;\&quot;;\n      request(app)\n        .post(\&quot;/api/products\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newProduct)\n        .expect(400)\n        .expect(res =&gt; {\n          // check to see if new product exists.\n          expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n          expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n          expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n          expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check to see if it was inserted into db properly.\n          Product.findOne({ name: newProduct.name })\n            .then(result =&gt; {\n              expect(result).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0413618f-0adb-4c81-90e0-1c2371f3f33b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;719b7559-09c9-455a-aa73-925b1706f304&quot;,&quot;0413618f-0adb-4c81-90e0-1c2371f3f33b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:504,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b10755f1-b9e7-4814-be9c-273ab865877f&quot;,&quot;title&quot;:&quot;GET /products/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should retrieve a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:164,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/products/${products[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(products[0].name);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;69fabf22-d4fd-4ce9-ad80-955ab0fb6de7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS GET /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/products/${products[0]._id.toHexString()}ss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;acf8f1a5-b826-46e1-8dfb-9740057bb6c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;69fabf22-d4fd-4ce9-ad80-955ab0fb6de7&quot;,&quot;acf8f1a5-b826-46e1-8dfb-9740057bb6c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:249,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;31fad43e-0116-4022-8dd3-b6c21b92fbfc&quot;,&quot;title&quot;:&quot;PATCH /products/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should update a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newProduct = {\n        name: \&quot;40&#x27; Pickup\&quot;,\n        shortName: \&quot;40PU\&quot;,\n        price: 110.0,\n        monthlyPrice: 0.0,\n        rental: false,\n        type: `${productTypes[0]._id.toHexString()}`\n      };\n      request(app)\n        .patch(`/api/products/${products[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newProduct)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(\&quot;40&#x27; Pickup\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f850744e-e445-4336-98e7-5eab99470646&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newProduct = {\n        name: \&quot;40&#x27; Pickup\&quot;,\n        shortName: \&quot;40PU\&quot;,\n        price: 110.0,\n        monthlyPrice: 0.0,\n        rental: false,\n        type: `${productTypes[0]._id.toHexString()}`\n      };\n      request(app)\n        .patch(`/api/products/${products[0]._id.toHexString()}ss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newProduct)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.product).toBe(\&quot;No product found.\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2ace0adb-368f-4728-b56f-ee2e863a4e4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a product with validation errors&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS PATCH /products/:id should not update a product with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newProduct = {\n        name: \&quot;\&quot;,\n        shortName: \&quot;\&quot;,\n        price: 110.0,\n        monthlyPrice: 0.0,\n        rental: \&quot;\&quot;,\n        type: \&quot;\&quot;\n      };\n      request(app)\n        .patch(`/api/products/${products[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newProduct)\n        .expect(400)\n        .expect(res =&gt; {\n          // check to see if new product exists.\n          expect(res.body.name).toBe(\&quot;Name is required\&quot;);\n          expect(res.body.shortName).toBe(\&quot;Short name is required\&quot;);\n          expect(res.body.rental).toBe(\&quot;Must select a rental type\&quot;);\n          expect(res.body.type).toBe(\&quot;Must select a product type\&quot;);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          // Check to see if it was inserted into db properly.\n          Product.findOne({ name: newProduct.name })\n            .then(result =&gt; {\n              expect(result).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6c39fc96-65d6-4947-828d-7117cdf1d8a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f850744e-e445-4336-98e7-5eab99470646&quot;,&quot;2ace0adb-368f-4728-b56f-ee2e863a4e4d&quot;,&quot;6c39fc96-65d6-4947-828d-7117cdf1d8a8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:430,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;354d20d9-3bb0-4990-857c-28291b0d45a7&quot;,&quot;title&quot;:&quot;DELETE /products/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\products.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\products.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a specific product&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should delete a specific product&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:254,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/products/${products[0]._id.toHexString()}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.name).toBe(products[0].name);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          Product.findById(products[0]._id.toHexString())\n            .then(product =&gt; {\n              expect(product).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8a09b0b7-8ae5-49bc-a612-a6f374aea0d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;PRODUCTS DELETE /products/:id should have 400 status and error message if id doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/products/${products[0]._id.toHexString()}ss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.product).toBe(\&quot;There was no product found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea1eade5-d8c4-42cd-9336-1a690ca6ab3a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8a09b0b7-8ae5-49bc-a612-a6f374aea0d4&quot;,&quot;ea1eade5-d8c4-42cd-9336-1a690ca6ab3a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:338,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2ac6ad84-9ddb-4505-a3d9-95fd29025e44&quot;,&quot;title&quot;:&quot;SETTINGS&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;SETTINGS \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:499,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  User.remove({})\n    .then(() =&gt; {\n      // generate the hash/salted password for the users.\n      var userOne = new User(users[0]).save().then(user =&gt; {\n        users[0].token = user.generateAuthToken();\n      });\n      var userTwo = new User(users[1]).save();\n      var userThree = new User(users[2]).save();\n      return Promise.all([userOne, userTwo, userThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4b4c95e4-06f8-4e8b-8de3-4b6f52296783&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9fc94c55-8355-4718-b879-2ad5b2982aaa&quot;,&quot;title&quot;:&quot;Purchase Types&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types \&quot;before each\&quot; hook: populatePurchaseTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:165,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  PurchaseType.remove({})\n    .then(() =&gt; {\n      var purchaseTypeOne = new PurchaseType(purchaseTypes[0]).save();\n      var purchaseTypeTwo = new PurchaseType(purchaseTypes[1]).save();\n      return Promise.all([purchaseTypeOne, purchaseTypeTwo]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c52d9a08-3a94-4426-9b0c-6930c7ce68f8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;caaa17fd-f4c5-417d-b8db-4e328787417f&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of purchase types&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/ should return an array of purchase types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .get(\&quot;/api/settings/purchasetypes\&quot;)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .expect(200)\n          .expect(res =&gt; {\n            expect(res.body.length).toBe(2);\n          })\n          .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1543d99d-01d6-4d4b-8c7e-77969601241d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1543d99d-01d6-4d4b-8c7e-77969601241d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:168,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;546d7ab8-169a-41dd-bd35-ba09f36990ae&quot;,&quot;title&quot;:&quot;POST /settings/purchasetypes/&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should create a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .post(\&quot;/api/settings/purchasetypes\&quot;)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .send({ type: \&quot;Resale\&quot; })\n          .expect(200)\n          .expect(res =&gt; {\n            expect(res.body.type).toBe(\&quot;Resale\&quot;);\n          })\n          .end(err =&gt; {\n            if (err) {\n              return done(err);\n            }\n            PurchaseType.findOne({ type: \&quot;Resale\&quot; })\n              .then(purchaseType =&gt; {\n                expect(purchaseType).toBeTruthy();\n                expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n                done();\n              })\n              .catch(e =&gt; done(e));\n          });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0aad4419-05ae-4e06-9e8b-eacf88413611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types POST /settings/purchasetypes/ should not create a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .post(\&quot;/api/settings/purchasetypes\&quot;)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .send({ type: \&quot;\&quot; })\n          .expect(400)\n          .expect(res =&gt; {\n            expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n          })\n          .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f60cfcd2-25ff-411f-b0e9-4d5cd06e20ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0aad4419-05ae-4e06-9e8b-eacf88413611&quot;,&quot;f60cfcd2-25ff-411f-b0e9-4d5cd06e20ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:343,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;dc506a14-42f1-41a6-b211-3b7bfaf4ef60&quot;,&quot;title&quot;:&quot;GET /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should return a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .get(\n            `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}`\n          )\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .expect(200)\n          .expect(res =&gt; {\n            expect(res.body.type).toBe(purchaseTypes[0].type);\n          })\n          .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c2089b4d-d42a-49e5-82c8-8a5654e4a84c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types GET /settings/purchasetypes/:id should not return a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .get(\n            `/api/settings/purchasetypes/${purchaseTypes[0]._id.toHexString()}sss`\n          )\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .expect(400)\n          .expect(res =&gt; {\n            expect(res.body.purchaseType).toBe(\n              \&quot;There was no purchase type found\&quot;\n            );\n          })\n          .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;39f92ba3-6051-44f4-8932-b1ff10f779b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c2089b4d-d42a-49e5-82c8-8a5654e4a84c&quot;,&quot;39f92ba3-6051-44f4-8932-b1ff10f779b9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:258,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;98f5deaf-4b86-4b56-9ab5-3c1dd8baa825&quot;,&quot;title&quot;:&quot;PATCH /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should update a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:251,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .send({ type: \&quot;Resale\&quot; })\n          .expect(200)\n          .expect(res =&gt; {\n            expect(res.body.type).toBe(\&quot;Resale\&quot;);\n          })\n          .end(err =&gt; {\n            if (err) {\n              return done(err);\n            }\n            PurchaseType.findById(purchaseTypes[1]._id)\n              .then(purchaseType =&gt; {\n                expect(purchaseType).toBeTruthy();\n                expect(purchaseType.type).toBe(\&quot;Resale\&quot;);\n                done();\n              })\n              .catch(e =&gt; done(e));\n          });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1d8e56d3-d152-4f0b-ac00-418f4e0c5563&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}ssss`)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .send({ type: \&quot;Resale\&quot; })\n          .expect(400)\n          .expect(res =&gt; {\n            expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n          })\n          .end(err =&gt; {\n            if (err) {\n              return done(err);\n            }\n            PurchaseType.findById(purchaseTypes[1]._id)\n              .then(purchaseType =&gt; {\n                expect(purchaseType.type).toBe(purchaseTypes[1].type);\n                done();\n              })\n              .catch(e =&gt; done(e));\n          });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;761facaf-6a8b-4421-a596-6172ba9a025b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update a purchase type with validation errors&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types PATCH /settings/purchasetypes/:id should not update a purchase type with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .patch(`/api/settings/purchasetypes/${purchaseTypes[1]._id}`)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .send({ type: \&quot;\&quot; })\n          .expect(400)\n          .expect(res =&gt; {\n            expect(res.body.type).toBe(\&quot;Purchase type is required\&quot;);\n          })\n          .end(err =&gt; {\n            if (err) {\n              return done(err);\n            }\n            PurchaseType.findById(purchaseTypes[1]._id)\n              .then(purchaseType =&gt; {\n                expect(purchaseType.type).toBe(purchaseTypes[1].type);\n                done();\n              })\n              .catch(e =&gt; done(e));\n          });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ad238e98-b488-4f3e-9bb2-c75902b014af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d8e56d3-d152-4f0b-ac00-418f4e0c5563&quot;,&quot;761facaf-6a8b-4421-a596-6172ba9a025b&quot;,&quot;ad238e98-b488-4f3e-9bb2-c75902b014af&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:590,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a0b07ee8-fdee-4bf3-b8fb-a845c63d9c82&quot;,&quot;title&quot;:&quot;DELETE /settings/purchasetypes/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\settings.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\settings.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a purchase type&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should delete a purchase type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:246,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}`)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .expect(200)\n          .expect(res =&gt; {\n            expect(res.body.type).toBe(purchaseTypes[0].type);\n          })\n          .end(err =&gt; {\n            if (err) {\n              return done(err);\n            }\n            PurchaseType.findById(purchaseTypes[0]._id)\n              .then(purchaseType =&gt; {\n                expect(purchaseType).toBeFalsy();\n                done();\n              })\n              .catch(e =&gt; done(e));\n          });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;86f08cac-c7ca-488d-9e65-d98c4110f7f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete a purchase type with invalid ID&quot;,&quot;fullTitle&quot;:&quot;SETTINGS Purchase Types DELETE /settings/purchasetypes/:id should not delete a purchase type with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n        request(app)\n          .delete(`/api/settings/purchasetypes/${purchaseTypes[0]._id}sss`)\n          .set(\&quot;Authorization\&quot;, users[0].token)\n          .expect(400)\n          .expect(res =&gt; {\n            expect(res.body.purchaseType).toBe(\&quot;No purchase type found\&quot;);\n          })\n          .end(err =&gt; {\n            if (err) {\n              return done(err);\n            }\n            PurchaseType.findById(purchaseTypes[0]._id)\n              .then(purchaseType =&gt; {\n                expect(purchaseType).toBeTruthy();\n                expect(purchaseType.type).toBe(purchaseTypes[0].type);\n                done();\n              })\n              .catch(e =&gt; done(e));\n          });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;39a59265-62d8-473e-b4ef-f1ad310e283d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;86f08cac-c7ca-488d-9e65-d98c4110f7f9&quot;,&quot;39a59265-62d8-473e-b4ef-f1ad310e283d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:414,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f49e52ae-1aaf-495b-8539-be6506407111&quot;,&quot;title&quot;:&quot;USERS&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;USERS \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:515,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n  User.remove({})\n    .then(() =&gt; {\n      // generate the hash/salted password for the users.\n      var userOne = new User(users[0]).save().then(user =&gt; {\n        users[0].token = user.generateAuthToken();\n      });\n      var userTwo = new User(users[1]).save();\n      var userThree = new User(users[2]).save();\n      return Promise.all([userOne, userTwo, userThree]);\n    })\n    .then(() =&gt; done())\n    .catch(e =&gt; console.log(e));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;68f21829-3e5b-4834-929a-66fde9b9fc99&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b2a8a547-128a-45c8-95ee-fa256b568451&quot;,&quot;title&quot;:&quot;GET /users&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of users&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users should return an array of users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(\&quot;/api/users\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.length).toBe(users.length);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6842fc48-f2e3-4fe0-89a7-d7fff2279b6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6842fc48-f2e3-4fe0-89a7-d7fff2279b6a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:165,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d0c30e83-2c6c-42a5-9871-378db0d19e5b&quot;,&quot;title&quot;:&quot;POST /users&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new user&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:635,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .post(\&quot;/api/users\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newUser)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.username).toBe(newUser.username);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          User.findOne({ username: newUser.username })\n            .then(user =&gt; {\n              expect(user).toBeTruthy();\n              expect(user.firstName).toBe(newUser.firstName);\n              expect(user.password).not.toBe(newUser.password);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;66b73cfa-8e30-4604-ae36-551a54e88d60&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS POST /users should not create a new user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      newUser.email = \&quot;amessedupemail\&quot;;\n      newUser.phone = \&quot;(559) 999-1111\&quot;;\n      newUser.validated = \&quot;hello\&quot;;\n      request(app)\n        .post(\&quot;/api/users\&quot;)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(newUser)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.email).toBe(\&quot;Must enter a valid email\&quot;);\n          expect(res.body.phone).toBe(\n            \&quot;Must contain 10 digits, no dashes or parenthesis. ex: 5591234567\&quot;\n          );\n          expect(res.body.validated).toBe(\n            \&quot;You must select whether the user is validated\&quot;\n          );\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          User.findOne({ username: newUser.username })\n            .then(user =&gt; {\n              expect(user).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;98dec27e-c049-42ce-a5ec-d6a95c61a604&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;66b73cfa-8e30-4604-ae36-551a54e88d60&quot;,&quot;98dec27e-c049-42ce-a5ec-d6a95c61a604&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:801,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a542c037-d306-4b63-aa7c-1d57868b47cc&quot;,&quot;title&quot;:&quot;GET /users/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/users/${users[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body._id).toBe(users[0]._id.toHexString());\n          expect(res.body.username).toBe(users[0].username);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;720d954f-2d5b-4830-b6d9-8327883331d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS GET /users/:id should not return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .get(`/api/users/${users[0]._id}ssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n          expect(res.body.username).not.toBe(users[0].username);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ab0dc952-c4b5-40aa-bf92-ab6c4ed904c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;720d954f-2d5b-4830-b6d9-8327883331d8&quot;,&quot;ab0dc952-c4b5-40aa-bf92-ab6c4ed904c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:257,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a206ded9-fe55-454b-a0be-1d0be545341c&quot;,&quot;title&quot;:&quot;PATCH /users/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should update and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      users[1].validated = true;\n      request(app)\n        .patch(`/api/users/${users[1]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(users[1])\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body.username).toBe(users[1].username);\n          expect(res.body.validated).toBe(true);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          User.findById(users[1]._id.toHexString())\n            .then(user =&gt; {\n              expect(user.validated).toBe(true);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;96e60200-13ac-4ccb-985a-9bdd4cf4bbd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .patch(`/api/users/${users[1]._id}ssss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(users[1])\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n        })\n        .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c8fb2d9c-89e9-463d-8264-27f08370f2be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update and return a user with validation errors&quot;,&quot;fullTitle&quot;:&quot;USERS PATCH /users/:id should not update and return a user with validation errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      userData = {\n        firstName: \&quot;Brian\&quot;,\n        lastName: \&quot;Peter\&quot;,\n        middleInitial: \&quot;L\&quot;,\n        suffix: \&quot;Sr\&quot;,\n        username: \&quot;blpsr\&quot;,\n        password: \&quot;thePassword\&quot;,\n        email: \&quot;gbr@test.com\&quot;,\n        phone: \&quot;5559991224\&quot;,\n        title: \&quot;Manager\&quot;,\n        type: \&quot;Staff\&quot;,\n        validated: \&quot;someWrongValidation\&quot;\n      };\n      request(app)\n        .patch(`/api/users/${users[1]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .send(userData)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.validated).toBe(\n            \&quot;You must select whether the user is validated\&quot;\n          );\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          User.findById(users[1]._id.toHexString())\n            .then(user =&gt; {\n              expect(user.validated).toBe(true);\n              expect(user.firstName).toBe(\&quot;Brian\&quot;);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e8f408ef-7d31-4311-bc77-0dcae51c04fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;96e60200-13ac-4ccb-985a-9bdd4cf4bbd8&quot;,&quot;c8fb2d9c-89e9-463d-8264-27f08370f2be&quot;,&quot;e8f408ef-7d31-4311-bc77-0dcae51c04fb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:516,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4b52d143-d4e6-4096-a9f7-7b73a77f5d8c&quot;,&quot;title&quot;:&quot;DELETE /users/:id&quot;,&quot;fullFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete and return a single user&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should delete and return a single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:248,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/users/${users[0]._id}`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(200)\n        .expect(res =&gt; {\n          expect(res.body._id).toBe(users[0]._id.toHexString());\n          expect(res.body.username).toBe(users[0].username);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          User.findById(users[0]._id.toHexString())\n            .then(user =&gt; {\n              expect(user).toBeFalsy();\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;10bd19d4-bf5b-45c3-96a7-d41d2bb2aea0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete and return a user with invalid ID&quot;,&quot;fullTitle&quot;:&quot;USERS DELETE /users/:id should not delete and return a user with invalid ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done =&gt; {\n      request(app)\n        .delete(`/api/users/${users[1]._id}sss`)\n        .set(\&quot;Authorization\&quot;, users[0].token)\n        .expect(400)\n        .expect(res =&gt; {\n          expect(res.body.user).toBe(\&quot;There was no user found\&quot;);\n          expect(res.body.username).not.toBe(users[1].username);\n        })\n        .end(err =&gt; {\n          if (err) {\n            return done(err);\n          }\n          User.findById(users[1]._id.toHexString())\n            .then(user =&gt; {\n              expect(user).toBeTruthy();\n              expect(user.username).toBe(users[1].username);\n              done();\n            })\n            .catch(e =&gt; done(e));\n        });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;90897795-082e-4276-b2c3-6704dd117ca1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10bd19d4-bf5b-45c3-96a7-d41d2bb2aea0&quot;,&quot;90897795-082e-4276-b2c3-6704dd117ca1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:416,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000},&quot;copyrightYear&quot;:2018}" data-config="{&quot;reportFilename&quot;:&quot;alltests&quot;,&quot;reportDir&quot;:&quot;server/tests/reports&quot;,&quot;reportTitle&quot;:&quot;gbr-mern-master&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;server\\tests\\reports\\assets&quot;,&quot;jsonFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\reports\\alltests.json&quot;,&quot;htmlFile&quot;:&quot;E:\\ProgrammingProjects\\gbr-mern-master\\server\\tests\\reports\\alltests.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>